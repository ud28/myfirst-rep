/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 * 
 * (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.m.ListRenderer");jQuery.sap.require("sap.ui.core.theming.Parameters");sap.m.ListRenderer={};
sap.m.ListRenderer.render=function(r,c){if(!c.getVisible()){return}var I=c.getInset(),a=!!c.getColumns().length;r.write("<div");r.addClass("sapMList");if(I){r.addClass("sapMListInsetBG")}if(a){c._bRendering=true;r.addClass("sapMListTblCnt")}r.writeClasses();r.writeControlData(c);if(c.getWidth()){r.addStyle("width",c.getWidth());r.writeStyles()}r.write(">");if(c.getHeaderText()){r.write("<header");r.writeAttribute("id",c.getId()+"-listHeader");if(c.getHeaderDesign()==sap.m.ListHeaderDesign.Plain)r.addClass((I?"sapMListHdrPlainInset":"sapMListHdrPlain"));else{r.addClass((I?"sapMListHdrInset":"sapMListHdr"))}r.writeClasses();r.write(">");r.writeEscaped(c.getHeaderText());r.write("</header>")}if(a){r.write("<table");r.addClass("sapMListTbl")}else{r.write("<ul")}r.writeAttribute("id",c.getId()+"-listUl");r.addClass("sapMListUl");switch(c.getShowSeparators()){case sap.m.ListSeparators.All:r.addClass("sapMListShowSeparatorsAll");break;case sap.m.ListSeparators.Inner:r.addClass("sapMListShowSeparatorsInner");break;case sap.m.ListSeparators.None:r.addClass("sapMListShowSeparatorsNone");break}if(a&&c.getMode()!="None"){r.addClass("sapMListTbl"+c.getMode())}if(I){r.addClass("sapMListInset");if(c.getHeaderText()){r.addClass("sapMListInsetHdr")}if(c.getFooterText()){r.addClass("sapMListInsetFtr")}}r.writeClasses();r.write(">");if(a){this._renderColumns(r,c,"Head")}if(c._mode!=sap.m.ListMode.None&&c._mode!=c.getMode()){c._removeCurrentSelection()}c._mode=c.getMode();if(c._mode==sap.m.ListMode.SingleSelectMaster){c.setIncludeItemInSelection(true)}var b=c.getItems();for(var i=0;i<b.length;i++){b[i]._mode=c.getMode();b[i]._includeItemInSelection=c.getIncludeItemInSelection();b[i]._select=c._select;b[i]._delete=c._delete;b[i]._listId=c.getId();b[i]._showUnread=c.getShowUnread();b[i]._modeAnimationOn=c.getModeAnimationOn();b[i]._showSeparators=c.getShowSeparators();r.renderControl(b[i])}if(b.length<=0&&c.getShowNoData()){var R=sap.ui.getCore().getLibraryResourceBundle("sap.m");if(!c.getNoDataText()){c.setNoDataText(R.getText("LIST_NO_DATA"))}if(a){r.write("<tr class='sapMLIB sapMListTblRow'>");r.write("<td id='"+c.getId()+"-listNoData' colspan='"+c._colCount+"' class='sapMListTblCell sapMListTblCellNoData'>");r.writeEscaped(c.getNoDataText());r.write("</td></tr>")}else{r.write("<li id="+c.getId()+"-listNoData"+" class='sapMListNoData'>");r.writeEscaped(c.getNoDataText());r.write("</li>")}}if(a){c._bRendering=false;r.write("</table>")}else{r.write("</ul>")}if(this.renderGrowingListContent){this.renderGrowingListContent(r,c)}if(c.getFooterText()){r.write("<footer");r.writeAttribute("id",c.getId()+"-listFooter");r.addClass((I?"sapMListFtrInset":"sapMListFtr"));r.writeClasses();r.write(">");r.writeEscaped(c.getFooterText());r.write("</footer>")}r.write("</div>")};
sap.m.ListRenderer._renderColumns=function(r,l,t){var i=0,h=0,a=false,b=false,m=l.getMode(),c="sapMListTbl",d=l.getId()+"-tbl",e=(t=="Head")?"th":"td",g="t"+t.toLowerCase(),C=l.getColumns(),f=(t=="Head")&&C.every(function(o){return!o.getHeader()||!o.getVisible()||o.isPopin()||o.isNeverVisible()||o.isHidden()}),j=(t=="Head")&&C.filter(function(o){return o.getVisible()&&!o.isPopin()&&!o.isNeverVisible()&&!o.isHidden()}).length==1,k=function(n,o,p){r.write("<");r.write(e);o&&r.writeAttribute("id",d+o);if(p){r.addStyle("width","0");r.writeStyles()}r.addClass(c+n);r.writeClasses();r.write("></");r.write(e);r.write(">");i++};r.write("<"+g+">");r.write("<tr");if(f){r.addClass("sapMListTblHeaderNone")}else{r.addClass("sapMListTblRow sapMListTbl"+t+"er")}r.writeClasses();r.write(">");if(m!="None"&&m!="SingleSelect"){if(m=="SingleSelectMaster"){k("None");h++}else{k("SelCol")}}if(sap.ui.core.theming.Parameters.get("sapUiLIUnreadAsBubble")=="true"&&l.getShowUnread()){k("UnreadCol")}C.forEach(function(o){if(!o.getVisible()){return}if(o.isPopin()){a=true;return}if(o.isNeverVisible()){return}if(o.isHidden()){h++}var n=o["get"+t+"er"](),w=j?"":o.getWidth(),p=o.getStyleClass(true);r.write("<"+e);p&&r.addClass(p);r.addClass(c+"Cell");r.writeAttribute("id",d+t+i);r.writeAttribute("data-sap-orig-width",o.getWidth());w&&r.addStyle("width",w);r.addStyle("text-align",o.getCssAlign());r.writeClasses();r.writeStyles();r.write(">");if(n){o.applyAlignTo(n);r.renderControl(n);if(t=="Head"&&!b){b=!!o.getFooter()}}r.write("</"+e+">");o.setIndex(i++)});k("NavCol",t+"Nav",true);if(m=="SingleSelect"){k("SelCol")}r.write("</tr></"+g+">");if(t=="Head"){l._hasPopin=a;l._colCount=i-h;b&&this._renderColumns(r,l,"Foot")}};
