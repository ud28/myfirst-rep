/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 * 
 * (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.ui.base.BindingParser");jQuery.sap.require("jquery.sap.script");(function(){var r=/^\{\s*[a-zA-Z_][a-zA-Z0-9_]*\s*:/;var a=/(\\[\\\{\}])|(\{)/g;function b(f){return function(v){var R=[],l=f.length,i;for(i=0;i<l;i++){if(typeof f[i]==="number"){R.push(arguments[f[i]])}else{R.push(f[i])}}return R.join('')}}sap.ui.base.BindingParser={};sap.ui.base.BindingParser.simpleParser=function(s,c){if(jQuery.sap.startsWith(s,"{")&&jQuery.sap.endsWith(s,"}")){return{path:s.slice(1,-1)}}};sap.ui.base.BindingParser.complexParser=function(s,c,u){var d=jQuery.sap.parseJS,B={parts:[]},f=[],U,P,p=0,m,e;function g(o,i){if(typeof o[i]==="string"){if(jQuery.sap.startsWith(o[i],".")){o[i]=jQuery.proxy(jQuery.sap.getObject(o[i].slice(1),undefined,c),c)}else{o[i]=jQuery.sap.getObject(o[i])}}}function h(o,i){var F;if(typeof o[i]==="string"){if(jQuery.sap.startsWith(o[i],".")){F=jQuery.sap.getObject(o[i].slice(1),undefined,c)}else{F=jQuery.sap.getObject(o[i])}o[i]=new F(o.formatOptions,o.constraints);delete o.formatOptions;delete o.constraints}}while(m=a.exec(s)){if(p<m.index){f.push(s.slice(p,m.index))}if(m[1]){f.push(m[1].slice(1));U=true}else{if(r.test(s.slice(m.index))){P=d(s,m.index);h(P.result,'type');g(P.result,'formatter');g(P.result,'factory');f.push(B.parts.length);B.parts.push(P.result);a.lastIndex=P.at}else{e=s.indexOf('}',m.index);if(e<m.index){throw new SyntaxError("no closing braces found in '"+s+"' after pos:"+m.index)}f.push(B.parts.length);B.parts.push({path:s.slice(m.index+1,e)});a.lastIndex=e+1}}p=a.lastIndex}if(p<s.length){f.push(s.slice(p))}if(B.parts.length>0){if(f.length===1){return B.parts[0]}else{B.formatter=b(f);return B}}else if(u&&U){return f.join('')}}}());
