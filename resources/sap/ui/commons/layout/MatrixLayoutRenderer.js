/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 * 
 * (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.ui.commons.layout.MatrixLayoutRenderer");sap.ui.commons.layout.MatrixLayoutRenderer={};
sap.ui.commons.layout.MatrixLayoutRenderer.render=function(R,m){var a=R;var r=sap.ui.commons.layout.MatrixLayoutRenderer;if(!m.getVisible()){return}var b=sap.ui.getCore().getConfiguration().getRTL();a.write("<TABLE role=\"presentation\"");a.writeControlData(m);a.write(" cellpadding=\"0\" cellspacing=\"0\"");a.addStyle("border-collapse","collapse");var M=m.getWidth();if(M){a.addStyle("width",M)}var s=m.getHeight();if(s&&s!='auto'){a.addStyle("height",s);var o=r.getValueUnit(s)}if(m.getLayoutFixed()){a.addStyle("table-layout","fixed");if(!M){a.addStyle("width","100%")}}a.addClass("sapUiMlt");a.writeStyles();a.writeClasses();a.write('>');var c=m.getRows();var C=m.getColumns();if(C<1){for(var i=0;i<c.length;i++){var d=c[i];var e=d.getCells();if(C<e.length){C=e.length}}}if(C>0){var w=m.getWidths();a.write("<colgroup>");for(var j=0;j<C;j++){a.write("<col");if(w&&w[j]&&w[j]!="auto"){a.addStyle('width',w[j]);a.writeStyles()}a.write("/>")}a.write("</colgroup>")}a.write('<TBODY style="width: 100%; height: 100%">');for(var i=0;i<c.length;i++){var d=c[i];var f=d.getHeight();if(f=="auto"){f=""}if(f&&o){var g=r.getValueUnit(f);if(g.Unit=='%'&&o.Unit!='%'){f=(o.Value*g.Value/100)+o.Unit}}a.write("<tr");a.writeElementData(d);a.writeClasses(d);if(sap.ui.Device.browser.internet_explorer&&sap.ui.Device.browser.version>=9&&f){a.addStyle("height",f);a.writeStyles()}a.write(">");var e=d.getCells();var h=C;if(C<1){h=e.length}var k=0;if(!d.RowSpanCells){d.RowSpanCells=0}for(var j=0;j<h;j++){if(j>=(h-k-d.RowSpanCells)){break}var l=e[j];a.write("<td");if(f&&(!l||l.getRowSpan()==1)){a.addStyle("height",f)}if(l){a.writeElementData(l);if(m.getLayoutFixed()&&l.getContent().length>0){a.addStyle("overflow","hidden")}var H=r.getHAlign(l.getHAlign(),b);if(H){a.writeAttribute("align",H)}var v=r.getVAlign(l.getVAlign());if(v&&v!="middle"){a.writeAttribute("valign",v)}if(l.getColSpan()!=1){a.writeAttribute("colspan",l.getColSpan());k=k+l.getColSpan()-1}if(l.getRowSpan()!=1){a.writeAttribute("rowspan",l.getRowSpan());var V=0;var u="";for(var x=0;x<l.getRowSpan();x++){var n=c[i+x];if(!n){u=false;break}if(!n.RowSpanCells){n.RowSpanCells=0}if(x>0){n.RowSpanCells=n.RowSpanCells+l.getColSpan()}var p=n.getHeight();if(!p||p=="auto"){u=false}else{var q=r.getValueUnit(p);if(q.Unit=='%'&&o.Unit!='%'){q.Value=(o.Value*g.Value/100);q.Unit=o.Unit}if(u==""){u=q.Unit}else{if(u!=q.Unit){u=false}}V=V+q.Value}}if(u!=false){var S=V+u;a.addStyle("height",S)}}a.addClass(r.getBackgroundClass(l.getBackgroundDesign()));a.addClass(r.getSeparationClass(l.getSeparation()));if(!m.getLayoutFixed()||!f){a.addClass(r.getPaddingClass(l.getPadding()));a.addClass("sapUiMltCell")}else{a.addStyle("white-space","nowrap")}a.writeClasses(l)}a.writeStyles();a.write(">");if(l){if(m.getLayoutFixed()&&f){a.write('<div');if(l.getRowSpan()!=1&&S&&S.search('%')==-1){a.addStyle("height",S)}else if(f.search('%')!=-1||(l.getRowSpan()!=1&&!S)){a.addStyle("height",'100%')}else{a.addStyle("height",f)}a.addStyle("display","inline-block");if(v){a.addStyle("vertical-align",v)}a.writeStyles();a.writeClasses(false);a.write("></div>");a.write('<div');a.addStyle("display","inline-block");if(v){a.addStyle("vertical-align",v)}if(l.getRowSpan()!=1&&S&&S.search('%')==-1){a.addStyle("max-height",S)}else if(f.search('%')!=-1||(l.getRowSpan()!=1&&!S)){a.addStyle("max-height",'100%')}else{a.addStyle("max-height",f)}var t;var D="0";var y="";var I="0";var z=l.getContent();for(var A=0,B=z.length;A<B;A++){if(z[A].getHeight&&z[A].getHeight()!=""){var E=r.getValueUnit(z[A].getHeight());if(y==""){y=E.Unit}if(y!=E.Unit){y="%";D="100";break}if(E.Unit=="%"){if(parseFloat(D)<parseFloat(E.Value)){D=E.Value;if(D!="100"){I=10000/parseFloat(D)}}}}}if(D!="0"){a.addStyle("height",D+y)}a.addStyle("white-space","normal");a.addStyle("width","100%");a.writeStyles();a.writeClasses(false);a.write("><div");a.addStyle("overflow","hidden");a.addStyle("text-overflow","inherit");if(D!="0"){if(I!="0"){a.addStyle("height",I+"%")}else{a.addStyle("height","100%")}}a.addClass("sapUiMltCell");a.addClass(r.getPaddingClass(l.getPadding()));a.writeStyles();a.writeClasses(false);a.write(">")}var z=l.getContent();for(var A=0,B=z.length;A<B;A++){R.renderControl(z[A])}if(m.getLayoutFixed()&&f){a.write("</div></div>")}}a.write("</td>")}a.write("</tr>");d.RowSpanCells=undefined}a.write("</TBODY></TABLE>")};
sap.ui.commons.layout.MatrixLayoutRenderer.getHAlign=function(h,r){switch(h){case sap.ui.commons.layout.HAlign.Begin:return null;case sap.ui.commons.layout.HAlign.Center:return"center";case sap.ui.commons.layout.HAlign.End:return r?"left":"right";case sap.ui.commons.layout.HAlign.Left:return r?"left":null;case sap.ui.commons.layout.HAlign.Right:return r?null:"right"}return null};
sap.ui.commons.layout.MatrixLayoutRenderer.getVAlign=function(v){switch(v){case sap.ui.commons.layout.VAlign.Bottom:return"bottom";case sap.ui.commons.layout.VAlign.Middle:return"middle";case sap.ui.commons.layout.VAlign.Top:return"top"}return null};
sap.ui.commons.layout.MatrixLayoutRenderer.getBackgroundClass=function(b){switch(b){case sap.ui.commons.layout.BackgroundDesign.Border:return"sapUiMltBgBorder";case sap.ui.commons.layout.BackgroundDesign.Fill1:return"sapUiMltBgFill1";case sap.ui.commons.layout.BackgroundDesign.Fill2:return"sapUiMltBgFill2";case sap.ui.commons.layout.BackgroundDesign.Fill3:return"sapUiMltBgFill3";case sap.ui.commons.layout.BackgroundDesign.Header:return"sapUiMltBgHeader";case sap.ui.commons.layout.BackgroundDesign.Plain:return"sapUiMltBgPlain";case sap.ui.commons.layout.BackgroundDesign.Transparent:return null}return null};
sap.ui.commons.layout.MatrixLayoutRenderer.getPaddingClass=function(p){switch(p){case sap.ui.commons.layout.Padding.None:return"sapUiMltPadNone";case sap.ui.commons.layout.Padding.Begin:return"sapUiMltPadLeft";case sap.ui.commons.layout.Padding.End:return"sapUiMltPadRight";case sap.ui.commons.layout.Padding.Both:return"sapUiMltPadBoth";case sap.ui.commons.layout.Padding.Neither:return"sapUiMltPadNeither"}return null};
sap.ui.commons.layout.MatrixLayoutRenderer.getSeparationClass=function(s){switch(s){case sap.ui.commons.layout.Separation.None:return null;case sap.ui.commons.layout.Separation.Small:return"sapUiMltSepS";case sap.ui.commons.layout.Separation.SmallWithLine:return"sapUiMltSepSWL";case sap.ui.commons.layout.Separation.Medium:return"sapUiMltSepM";case sap.ui.commons.layout.Separation.MediumWithLine:return"sapUiMltSepMWL";case sap.ui.commons.layout.Separation.Large:return"sapUiMltSepL";case sap.ui.commons.layout.Separation.LargeWithLine:return"sapUiMltSepLWL"}return null};
sap.ui.commons.layout.MatrixLayoutRenderer.getValueUnit=function(s){var v=0;var u="";var p=s.search('px');if(p>-1){u="px";v=parseInt(s.slice(0,p),10);return({Value:v,Unit:u})}p=s.search('pt');if(p>-1){u="pt";v=parseFloat(s.slice(0,p));return({Value:v,Unit:u})}p=s.search('in');if(p>-1){u="in";v=parseFloat(s.slice(0,p));return({Value:v,Unit:u})}p=s.search('mm');if(p>-1){u="mm";v=parseFloat(s.slice(0,p));return({Value:v,Unit:u})}p=s.search('cm');if(p>-1){u="cm";v=parseFloat(s.slice(0,p));return({Value:v,Unit:u})}p=s.search('em');if(p>-1){u="em";v=parseFloat(s.slice(0,p));return({Value:v,Unit:u})}p=s.search('ex');if(p>-1){u="ex";v=parseFloat(s.slice(0,p));return({Value:v,Unit:u})}p=s.search('%');if(p>-1){u="%";v=parseFloat(s.slice(0,p));return({Value:v,Unit:u})}};
