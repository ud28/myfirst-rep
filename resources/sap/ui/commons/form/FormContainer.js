/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 * 
 * (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.ui.commons.form.FormContainer");jQuery.sap.require("sap.ui.commons.library");jQuery.sap.require("sap.ui.core.Element");sap.ui.core.Element.extend("sap.ui.commons.form.FormContainer",{metadata:{library:"sap.ui.commons",properties:{"expanded":{type:"boolean",group:"Misc",defaultValue:true},"expandable":{type:"boolean",group:"Misc",defaultValue:false},"visible":{type:"boolean",group:"Misc",defaultValue:true}},defaultAggregation:"formElements",aggregations:{"formElements":{type:"sap.ui.commons.form.FormElement",multiple:true,singularName:"formElement"},"title":{type:"sap.ui.commons.Title",altTypes:["string"],multiple:false}}}});jQuery.sap.require("sap.ui.core.EnabledPropagator");jQuery.sap.require("sap.ui.core.theming.Parameters");(function(){sap.ui.commons.form.FormContainer.prototype.init=function(){this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.ui.commons")};sap.ui.commons.form.FormContainer.prototype.exit=function(){if(this._oExpandButton){this._oExpandButton.destroy();delete this._oExpandButton}this._rb=undefined};sap.ui.commons.form.FormContainer.prototype.setExpandable=function(e){this.setProperty("expandable",e);if(e){var t=this;if(!this._oExpandButton){if(!jQuery.browser.mobile){jQuery.sap.require("sap.ui.commons.Button");this._oExpandButton=new sap.ui.commons.Button(this.getId()+"--Exp",{lite:true}).setParent(this);this._oExpandButton.attachEvent('press',h,t)}else{jQuery.sap.require("sap.m.Button");this._oExpandButton=new sap.m.Button(this.getId()+"--Exp",{}).setParent(this);this._oExpandButton.attachEvent('tap',h,t)}}_(t)}};sap.ui.commons.form.FormContainer.prototype.setExpanded=function(e){this.setProperty("expanded",e,true);var t=this;_(t);var f=this.getParent();if(f&&f.toggleContainerExpanded){f.toggleContainerExpanded(t)}};sap.ui.commons.form.FormContainer.prototype.contentOnAfterRendering=function(f,c){var p=this.getParent();if(p&&p.contentOnAfterRendering){p.contentOnAfterRendering(f,c)}};sap.ui.commons.form.FormContainer.prototype.onLayoutDataChange=function(e){var p=this.getParent();if(p&&p.onLayoutDataChange){p.onLayoutDataChange(e)}};function _(c){if(!c._oExpandButton){return}var i,I,t,T;if(c.getExpanded()){i=sap.ui.core.theming.Parameters.get('sapUiFormContainerColImageURL');I=sap.ui.core.theming.Parameters.get('sapUiFormContainerColImageDownURL');t="-";T=c._rb.getText("PANEL_COLLAPSE")}else{i=sap.ui.core.theming.Parameters.get('sapUiFormContainerExpImageURL');I=sap.ui.core.theming.Parameters.get('sapUiFormContainerExpImageDownURL');t="+";T=c._rb.getText("PANEL_EXPAND")}if(i){i=jQuery.sap.getModulePath("sap.ui.commons",'/')+"themes/"+sap.ui.getCore().getConfiguration().getTheme()+i;t=""}if(I){I=jQuery.sap.getModulePath("sap.ui.commons",'/')+"themes/"+sap.ui.getCore().getConfiguration().getTheme()+I}c._oExpandButton.setIcon(i);if(c._oExpandButton.setIconHovered){c._oExpandButton.setIconHovered(I)}if(c._oExpandButton.setactiveIcon){c._oExpandButton.setactiveIcon(I)}c._oExpandButton.setText(t);c._oExpandButton.setTooltip(T)};function h(e){this.setExpanded(!this.getExpanded())}}());
