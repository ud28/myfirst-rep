(function(){d3.scale.ordinal_ori=d3.scale.ordinal;d3.scale.ordinal=function(){return d([],{t:"range",x:[]})};function d(a,r){var b,c,e;function s(x){return c[((b.get(x)||b.set(x,a.push(x)))-1)%c.length]}function f(g,h){return d3.range(a.length).map(function(i){return g+h*i})}s.domain=function(x){if(!arguments.length)return a;b=d3.map();var i=-1,n=x.length,g,j=0;while(++i<n)if(!b.has(g=x[i])){b.set(g,++j)}a=b.keys();return s[r.t](r.x,r.p)};s.range=function(x){if(!arguments.length)return c;c=x;e=0;r={t:"range",x:x};return s};s.rangePoints=function(x,p){if(arguments.length<2)p=0;var g=x[0],h=x[1],i=(h-g)/(a.length-1+p);c=f(a.length<2?(g+h)/2:g+i*p/2,i);e=0;r={t:"rangePoints",x:x,p:p};return s};s.rangeBands=function(x,p){if(arguments.length<2)p=0;var g=x[1]<x[0],h=x[g-0],i=x[1-g],j=(i-h)/(a.length+p);c=f(h+j*p,j);if(g)c.reverse();e=j*(1-p);r={t:"rangeBands",x:x,p:p};return s};s.rangeRoundBands=function(x,p){if(arguments.length<2)p=0;var g=x[1]<x[0],h=x[g-0],i=x[1-g],j=Math.floor((i-h)/(a.length+p)),k=i-h-(a.length-p)*j;c=f(h+Math.round(k/2),j);if(g)c.reverse();e=Math.round(j*(1-p));r={t:"rangeRoundBands",x:x,p:p};return s};s.rangeBand=function(){return e};s.rangeExtent=function(){return d3_scaleExtent(r.x)};s.copy=function(){return d(a,r)};return s.domain(a)}})();
