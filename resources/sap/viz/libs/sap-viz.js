(function(){if(!Array.prototype.indexOf){Array.prototype.indexOf=function(s){"use strict";if(this==null){throw new TypeError()}var t=Object(this);var l=t.length>>>0;if(l===0){return-1}var n=0;if(arguments.length>0){n=Number(arguments[1]);if(n!=n){n=0}else if(n!=0&&n!=Infinity&&n!=-Infinity){n=(n>0||-1)*Math.floor(Math.abs(n))}}if(n>=l){return-1}var k=n>=0?n:Math.max(l-Math.abs(n),0);for(;k<l;k++){if(k in t&&t[k]===s){return k}}return-1}}if(!Array.prototype.lastIndexOf){Array.prototype.lastIndexOf=function(s){"use strict";if(this==null)throw new TypeError();var t=Object(this);var l=t.length>>>0;if(l===0)return-1;var n=l;if(arguments.length>1){n=Number(arguments[1]);if(n!=n)n=0;else if(n!=0&&n!=(1/0)&&n!=-(1/0))n=(n>0||-1)*Math.floor(Math.abs(n))}var k=n>=0?Math.min(n,l-1):l-Math.abs(n);for(;k>=0;k--){if(k in t&&t[k]===s)return k}return-1}}if(!Array.prototype.filter){Array.prototype.filter=function(d){"use strict";if(this==null)throw new TypeError();var t=Object(this);var l=t.length>>>0;if(typeof d!="function")throw new TypeError();var e=[];var g=arguments[1];for(var i=0;i<l;i++){if(i in t){var v=t[i];if(d.call(g,v,i,t))e.push(v)}}return e}}if(!Array.prototype.forEach){Array.prototype.forEach=function(d,t){var T,k;if(this==null){throw new TypeError("this is null or not defined")}var O=Object(this);var l=O.length>>>0;if({}.toString.call(d)!="[object Function]"){throw new TypeError(d+" is not a function")}if(t){T=t}k=0;while(k<l){var e;if(k in O){e=O[k];d.call(T,e,k,O)}k++}}}if(!Array.prototype.every){Array.prototype.every=function(d){"use strict";if(this==null)throw new TypeError();var t=Object(this);var l=t.length>>>0;if(typeof d!="function")throw new TypeError();var e=arguments[1];for(var i=0;i<l;i++){if(i in t&&!d.call(e,t[i],i,t))return false}return true}}if(!Array.prototype.map){Array.prototype.map=function(d,t){var T,A,k;if(this==null){throw new TypeError(" this is null or not defined")}var O=Object(this);var l=O.length>>>0;if({}.toString.call(d)!="[object Function]"){throw new TypeError(d+" is not a function")}if(t){T=t}A=new Array(l);k=0;while(k<l){var e,g;if(k in O){e=O[k];g=d.call(T,e,k,O);A[k]=g}k++}return A}}if(!Array.prototype.some){Array.prototype.some=function(d){"use strict";if(this==null)throw new TypeError();var t=Object(this);var l=t.length>>>0;if(typeof d!="function")throw new TypeError();var e=arguments[1];for(var i=0;i<l;i++){if(i in t&&d.call(e,t[i],i,t))return true}return false}}if(!Array.prototype.reduce){Array.prototype.reduce=function reduce(d){if(this===null||this===u)throw new TypeError("Object is null or undefined");var i=0,l=this.length>>0,e;if(typeof d!=="function")throw new TypeError("First argument is not callable");if(arguments.length<2){if(l===0)throw new TypeError("Array length is 0 and no second argument");e=this[0];i=1}else e=arguments[1];while(i<l){if(i in this)e=d.call(u,e,this[i],i,this);++i}return e}}if(!Array.prototype.reduceRight){Array.prototype.reduceRight=function(d){"use strict";if(this==null)throw new TypeError();var t=Object(this);var l=t.length>>>0;if(typeof d!="function")throw new TypeError();if(l===0&&arguments.length===1)throw new TypeError();var k=l-1;var e;if(arguments.length>=2){e=arguments[1]}else{do{if(k in this){e=this[k--];break}if(--k<0)throw new TypeError()}while(true)}while(k>=0){if(k in t)e=d.call(u,e,t[k],k,t);k--}return e}}if(!Function.prototype.bind){Function.prototype.bind=function(t){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var A=Array.prototype.slice.call(arguments,1),T=this,n=function(){},d=function(){return T.apply(this instanceof n?this:t,A.concat(Array.prototype.slice.call(arguments)))};n.prototype=this.prototype;d.prototype=new n();return d}}if(!Object.create){Object.create=function(o){if(arguments.length>1){throw new Error('Object.create implementation only accepts the first parameter.')}function F(){}F.prototype=o;return new F()}}function a(o,e){function k(t){function A(o,v){return Object.prototype.hasOwnProperty.call(o,v)}function F(v){return typeof v==="function"}if(typeof t!=="object"||t===null)throw new TypeError("bad desc");var d={};if(A(t,"enumerable"))d.enumerable=!!o.enumerable;if(A(t,"configurable"))d.configurable=!!o.configurable;if(A(t,"value"))d.value=o.value;if(A(t,"writable"))d.writable=!!t.writable;if(A(t,"get")){var g=t.get;if(!F(g)&&g!=="undefined")throw new TypeError("bad get");d.get=g}if(A(t,"set")){var s=t.set;if(!F(s)&&s!=="undefined")throw new TypeError("bad set");d.set=s}if(("get"in d||"set"in d)&&("value"in d||"writable"in d))throw new TypeError("identity-confused descriptor");return d}if(typeof o!=="object"||o===null)throw new TypeError("bad obj");e=Object(e);var l=Object.keys(e);var n=[];for(var i=0;i<l.length;i++)n.push([l[i],k(e[l[i]])]);for(var i=0;i<n.length;i++)Object.defineProperty(o,n[i][0],n[i][1]);return o}if(!Object.keys){Object.keys=(function(){var d=Object.prototype.hasOwnProperty,e=!({toString:null}).propertyIsEnumerable('toString'),g=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],k=g.length;return function(o){if(typeof o!=='object'&&typeof o!=='function'||o===null)throw new TypeError('Object.keys called on non-object');var l=[];for(var n in o){if(d.call(o,n))l.push(n)}if(e){for(var i=0;i<k;i++){if(d.call(o,g[i]))l.push(g[i])}}return l}})()}if(typeof Object.getPrototypeOf!=="function"){if(typeof"test".__proto__==="object"){Object.getPrototypeOf=function(o){return o.__proto__}}else{Object.getPrototypeOf=function(o){return o.constructor.prototype}}}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,'')}}var u=void(0);if(window.sap!==u&&window.sap.riv!==u&&window.sap.riv.module!==u){return}var b=jQuery!==u?true:false;var q=function(s){if(b){if(jQuery.holdReady){jQuery.holdReady(s)}else if(s){jQuery.readyWait+=1}else{jQuery.ready(true)}}};var c=u;var f='/';var h=document.getElementsByTagName("script");var j=function(){};if(h.length&&h[h.length-1].getAttribute('src')&&h[h.length-1].getAttribute('src').lastIndexOf('sap.viz.base.js')){c=h[h.length-1];if(((c.getAttribute('trace')||'').toLowerCase()==='true')&&(typeof console!==u)){j=function(t){console.log(t)}}var f=c.getAttribute('base-url');if(!f){var m=c.getAttribute('src');f=m.substring(0,m.lastIndexOf('/'))}if(f.charAt(f.length-1)!=='/')f=f+'/'}window.sap=window.sap||{};window.sap.riv=window.sap.riv||{};var E=0,I=1,D=2,p=3;var r=Object.prototype.hasOwnProperty;var w={'[object Boolean]':'boolean','[object Number]':'number','[object String]':'string','[object Function]':'function','[object Array]':'array','[object Date]':'date','[object RegExp]':'regexp','[object Object]':'object'};var x=function(o){return o==null?String(o):w[Object.prototype.toString.call(o)]||"object"};var y=function(o){return x(o)==="function"};var z=Array.isArray||function(o){return x(o)==="array"};var B=function(o){return x(o)==="string"};var C=function(o){return o&&typeof o==="object"&&"setInterval"in o};var G=function(o){return o==null||!/\d/.test(o)||G(o)};var H=function(n){return!G(parseFloat(n))&&isFinite(n)};var J=function(v){return typeof(v)!=='undefined'};var K=function(v){return typeof(v)==='undefined'};var L=function(o){if(!o||x(o)!=="object"||o.nodeType||C(o)){return false}if(o.constructor&&!r.call(o,"constructor")&&!r.call(o.constructor.prototype,"isPrototypeOf")){return false}var k;for(k in o){}return k===u||r.call(o,k)};var M=function(o){for(var n in o){return false}return true};var N=function(d,v){this._qname=d;this._version=v;this._moduleSetupFunc=u;this._status=E;this._moduleObject=u;this._exportToGlobal=false;this._depList=[];this._pendingDefTaskList=[];q(true)};N.prototype.moduleObject=function(d){return this._moduleObject};N.prototype.setupFunction=function(s){if(J(s)){this._moduleSetupFunc=s;return this}else{return this._moduleSetupFunc}};N.prototype.setModuleObject=function(d){this._moduleObject=d};N.prototype.qname=function(){return this._qname};N.prototype.version=function(){return this._version};N.prototype.status=function(s){if(s!==u){this._status=s;return this}else{return this._status}};N.prototype.dependentModules=function(d){if(J(d)){this._depList=d;return this}else{return this._depList}};N.prototype.exportToGlobal=function(e){if(J(e)){this._exportToGlobal=e;return this}else{return this._exportToGlobal}};N.prototype.waitUntilDefined=function(d){this._pendingDefTaskList.push(d)};N.prototype.getPendingDefTasks=function(){return this._pendingDefTaskList};var P={};var Q={};var R=function(d){if(!Q.hasOwnProperty(d)){Q[d]=false;var e=document.getElementsByTagName("head")[0]||document.documentElement;var $=document.createElement("script");$.type='text/javascript';$.src=d;var g=false;$.onload=$.onreadystatechange=function(){if(!g&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){g=true;$.onload=$.onreadystatechange=null;if(e&&$.parentNode){e.removeChild($)}Q[d]=true}};if($.addEventListener){$.addEventListener('error',function(){throw new Error('Loading '+d+' failed.')},true)}e.insertBefore($,e.firstChild)}return u};var S=function(s){if(s===u||typeof s!=='string'){return false}var d=s.split('.');if(d.length>3){return false}for(var i=0,l=d.length;i<l;i++){if(parseInt(d[i])===NaN){return false}}return true};var U=function(d,v){var e=d.split('.');var g=e.splice(e.length-1,1);return f+e.join('/')+'/'+g+'.'+v+'.js'};var V=function(d){var e;if(y(d.setupFunction())){var g=[];for(var i=0,k,l=d.dependentModules(),n=l.length;i<n;i++){k=l[i];g.push(P[k.qname][k.version].moduleObject())}e=d.setupFunction().apply(window,g)}else{e=d.moduleObject()}if(d.exportToGlobal()){var o=d.qname().split('.');var s=window;for(var i=0,t,n=o.length;i<n;i++){t=o[i];if(i===n-1){s[t]=e}else{s[t]=s[t]||{};s=s[t]}}}d.setModuleObject(e);d.status(D);j(d.qname()+' '+d.version()+' loaded');var v=d.getPendingDefTasks();while(v.length){var A=v.pop();A(d)}q(false)};var W=function(d,e){return(function(g){delete d[g.qname()][g.version()];if(M(d[g.qname()])){delete d[g.qname()]}if(M(d)){V(e)}})};sap.riv.module=function(d,e,g){if(K(d)||K(d.qname)||K(d.version)){throw new Error('Bad Arguments: you have to specify the qname and version for the module.')}if(!B(d.qname)||!S(d.version)){throw new Error('Invalid qname or version string')}if(arguments.length===2){if(!L(e)&&!y(e)){throw new Error('You must specify a plain object or a module setup function')}g=e;e=[]}if(arguments.length===3){if(!z(e)||(!L(g)&&!y(g))){throw new Error('Dependencies must be array, and you must specify an plain object or a module setup function')}}var k=d.qname,v=d.version,l=K(d.exported)?false:d.exported,n;if(!r.call(P,k)||!r.call(P,v)){P[k]=P[k]||{};P[k][v]=P[k][v]||new N(k,v)}n=P[k][v];if(n.status()===E){if(typeof g==='object'){n.exportToGlobal(l).setModuleObject(g)}else{var o=[];for(var i=0,s,t=e.length;i<t;i++){s=e[i];if(!B(s.qname)||!S(s.version)){throw new Error('You must specify qname and version for the depending module')}o.push({qname:s.qname,version:s.version})}n.exportToGlobal(l).dependentModules(o).setupFunction(g)}}if(n.status()===D||n.status()===I){return}n.status(I);if(n.dependentModules().length===0){V(n);return}else{var A={};for(var i=0,F,o=n.dependentModules(),t=o.length;i<t;i++){F=o[i];if(!(r.call(P,F.qname)&&r.call(P[F.qname],F.version))||(P[F.qname][F.version].status()!==D)){A[F.qname]=A[F.qname]||{};A[F.qname][F.version]=A[F.qname][F.version]||{qname:F.qname,version:F.version,url:F.url||U(F.qname,F.version)}}}if(M(A)){V(n);return}else{for(var k in A){for(var v in A[k]){if(!r.call(P,k)||!r.call(P[k],v)){P[k]=P[k]||{};P[k][v]=P[k][v]||new N(k,v);P[k][v].waitUntilDefined(W(A,n));R(A[k][v].url)}else{P[k][v].waitUntilDefined(W(A,n))}}}}}};var X=function(d,e){var g=[];for(var i=0,k,l=e.length;i<l;i++){k=e[i];g.push(P[k.qname][k.version].moduleObject())}d.apply(window,g)};var Y=function(d,e,g){return(function(i){delete d[i.qname()][i.version()];if(M(d[i.qname()])){delete d[i.qname()]}if(M(d)){X(e,g)}})};sap.riv.require=function(d,e){if(arguments.length===1){if(!y(d)){throw new Error('You have to specify a function to run')}e=d;d=[]}if(arguments.length===2){if(!z(d)||!y(e)){throw new Error('the first argument has to be array of depending modules, the second argument should be function type')}}if(!d.length){X(e,d);return}var g={};for(var i=0,k,l=d.length;i<l;i++){k=d[i];if(!(r.call(P,k.qname)&&r.call(P[k.qname],k.version))||(P[k.qname][k.version].status()!==D)){g[k.qname]=g[k.qname]||{};g[k.qname][k.version]=g[k.qname][k.version]||{qname:k.qname,version:k.version,url:k.url||U(k.qname,k.version)}}}if(M(g)){X(e,d);return}else{for(var n in g){for(var v in g[n]){if(!r.call(P,n)||!r.call(P[n],v)){P[n]=P[n]||{};P[n][v]=P[n][v]||new N(n,v);P[n][v].waitUntilDefined(Y(g,e,d));R(g[n][v].url)}else{P[n][v].waitUntilDefined(Y(g,e,d))}}}}};var Z=function(d){if(d&&/\S/.test(d)){var g=document.getElementsByTagName("head")[0]||document.documentElement,$=document.createElement("script");$.type="text/javascript";try{$.appendChild(document.createTextNode(d))}catch(e){$.text=d}g.insertBefore($,g.firstChild);g.removeChild($)}};sap.riv.setBaseUrl=function(d){f=d};if(c){var $=c.innerHTML;if($){Z($)}}})();sap.riv.module({qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},[],function Setup(){var c={'[object Boolean]':'boolean','[object Number]':'number','[object String]':'string','[object Function]':'function','[object Array]':'array','[object Date]':'date','[object RegExp]':'regexp','[object Object]':'object'};var h=Object.prototype.hasOwnProperty;var r=/\d/;var t=function(o){return o==null?String(o):c[Object.prototype.toString.call(o)]||"object"};var a={isFunction:function(o){return t(o)==="function"},isArray:Array.isArray||function(o){return t(o)==="array"},isString:function(o){return t(o)==="string"},isNonEmptyString:function(o){return this.isString(o)&&o.length!==0},isEmptyString:function(o){return this.isString(o)&&o.length===0},isNaN:function(o){return o===null||o===undefined||!r.test(o)||isNaN(o)},isNumber:function(n){return!this.isNaN(parseFloat(n))&&isFinite(n)},isDefined:function(v){return typeof(v)!=='undefined'},isUndefined:function(v){return typeof(v)==='undefined'},isPlainObject:function(o){if(!o||t(o)!=="object"||o.nodeType||(o&&typeof o==="object"&&"setInterval"in o)){return false}if(o.constructor&&!h.call(o,"constructor")&&!h.call(o.constructor.prototype,"isPrototypeOf")){return false}var k;for(k in o){}return k===undefined||h.call(o,k)},isEmptyObject:function(o){for(var n in o){return false}return this.isPlainObject(o)},isExist:function(o){if((typeof(o)==='undefined')||(o===null)){return false}return true}};return a});sap.riv.module({qname:'sap.viz.util.NumberUtils',version:'4.0.0'},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'}],function Setup(T){var N={isNoValue:function(n){return T.isNaN(n)}};return N});sap.riv.module({qname:'sap.viz.util.Scaler',version:'4.0.0'},[],function Setup(){var S={perfect:function(_,a,b){var c=2;var d=100;var e=_.domain();var o=e[0];var f=e[e.length-1];var r=-1;var g=-1;if(!b||b<c){if(!a||a<c){var h=_.range();var i=Math.abs(h[0]-h[h.length-1]);if(i>10){r=c+Math.round(i/100)}else{r=c}}else{r=a}}else{g=b}var q=_.nice();if(g<0){var t=q.ticks(r);var j=true;var k;if(t.length==0){j=false}else if(t.length>1){k=t[1]-t[0]}else{var l=Math.abs(e[0]-t[0]);var m=Math.abs(e[e.length-1]-t[0]);if(l>m){k=l}else{k=m}}var n=c;if(j){n=t.length;if(e[0]<e[1]){if(t[0]!=e[0]){e[0]=t[0]-k;n++}if(t[t.length-1]!=e[e.length-1]){e[e.length-1]=t[t.length-1]+k;n++}}else{if(t[0]!=e[e.length-1]){e[e.length-1]=t[0]-k;n++}if(t[t.length-1]!=e[0]){e[0]=t[t.length-1]+k;n++}}}q.tickNum=n;q.distance=k;q.tickHint=n-1;e[0]=parseFloat(e[0].toFixed(8));e[e.length-1]=parseFloat(e[e.length-1].toFixed(8));q.domain(e)}else{this.perfect(q,g);if(q.tickNum>g){var p=g;for(;p>=c;){p--;this.perfect(q,p);if(q.tickNum<=g){break}}}if(q.tickNum<g){var s=(g-q.tickNum);var e=q.domain();for(;s>0;){if(e[0]<e[1]){if(Math.abs(e[1]-f)>Math.abs(o-e[0])){e[0]-=q.distance}else{e[1]+=q.distance}s--;q.tickNum++}else{if(Math.abs(e[1]-f)>Math.abs(o-e[0])){e[0]+=q.distance}else{e[1]-=q.distance}s--;q.tickNum++}}q.tickHint=q.tickNum-1;e[0]=parseFloat(e[0].toFixed(8));e[e.length-1]=parseFloat(e[e.length-1].toFixed(8));q.domain(e)}}return q},perfectDual:function(_,a){this.perfect(_);this.perfect(a);var d=_.domain();var b=a.domain();var r=_.range();var c=a.range();if((d[0]>d[d.length-1]&&b[0]<b[b.length-1])||(d[0]<d[d.length-1]&&b[0]>b[b.length-1])||(d[0]<0&&d[d.length-1]<0)||(b[0]<0&&b[b.length-1]<0)||(d[0]>0&&d[d.length-1]>0)||(b[0]>0&&b[b.length-1]>0)||(Math.abs(r[0]-r[r.length-1])!=Math.abs(c[0]-c[c.length-1]))){return}var p=0;var n=0;var e=0;var f=0;var t=_.tickNum;var g=a.tickNum;var h=(d[d.length-1]-d[0])/(t-1);for(var i=0;i<t;i++){var j=d[0]+i*h;if(j>0){p++}else if(j<0){n++}}var k=(b[b.length-1]-b[0])/(g-1);for(var i=0;i<g;i++){var j=b[0]+i*k;if(j>0){e++}else if(j<0){f++}}if(p>e){var m=p-e;if(b[0]<b[b.length-1]){b[b.length-1]+=(m*Math.abs(k));a.tickNum+=m}else if(b[0]>b[b.length-1]){b[0]+=(m*Math.abs(k));a.tickNum+=m}}else if(p<e){var m=e-p;if(d[0]<d[d.length-1]){d[d.length-1]+=(m*Math.abs(h));_.tickNum+=m}else if(d[0]>d[d.length-1]){d[0]+=(m*Math.abs(h));_.tickNum+=m}}if(n>f){var m=n-f;if(b[0]<b[b.length-1]){b[0]-=(m*Math.abs(k));a.tickNum+=m}else if(b[0]>b[b.length-1]){b[b.length-1]-=(m*Math.abs(k));a.tickNum+=m}}else if(n<f){var m=f-n;if(d[0]<d[d.length-1]){d[0]-=(m*Math.abs(h));_.tickNum+=m}else if(d[0]>d[d.length-1]){d[d.length-1]-=(m*Math.abs(h));_.tickNum+=m}}d[0]=parseFloat(d[0].toFixed(8));d[1]=parseFloat(d[1].toFixed(8));b[0]=parseFloat(b[0].toFixed(8));b[1]=parseFloat(b[1].toFixed(8));_.domain(d);a.domain(b);_.tickHint=_.tickNum-1;a.tickHint=a.tickNum-1}};return S});sap.riv.module({qname:'sap.viz.Constants',version:'4.0.0'},[],function Setup(){var c={SAPColorSingleAxis:["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],SAPColorDualAxis1:["#8FBADD","#B8D4E9","#7AAED6",'#A3C7E3','#3D88C4','#66A1D0','#297CBE','#5295CA','#005BA3','#146FB7','#005395','#0063B1'],SAPColorDualAxis2:["#F6A09B","#F9C3C0","#F58E88",'#F8B1AD','#F05B52','#F37D76','#EE4A40','#F16C64','#D92419','#ED382D','#C52117','#EB271B']};c.SAPColor=c.SAPColorSingleAxis;return c});sap.riv.module({qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'}],function Setup(T){var a=/\{(\d+)\}/g;var e=function(){};var f={noop:e,unsupported:function(){throw new Error('Unsupported function!')},unimplemented:function(){throw new Error('Unimplemented function!')},error:function(b){var c=arguments;if(c[0]){var b=c[0].replace(a,function(m,n){return c[parseInt(n)+1]});throw b}else{throw'unknown error!'}},createCallChain:function(){var l=arguments.length;if(l>1){var c=[];for(var i=0;i<l;i++){if(T.isFunction(arguments[i])){c.push(arguments[i])}else{f.error('Could not create call chain for non-function object')}}return(function(){for(var i=0;i<l;i++){c[i].apply(this,arguments)}})}else{return T.isFunction(arguments[0])?arguments[0]:e}}};return f});sap.riv.module({qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(T,F){var e=function(){};var t=/^\s+/,a=/\s+$/,b=/^[\],:{}\s]*$/,d=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,f=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,g=/(?:^|:|,)(?:\s*\[)+/g;var j=j?function(c){return c==null?"":j.call(c)}:function(c){return c==null?"":c.toString().replace(t,"").replace(a,"")};var o={uuid:function(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=='x'?r:r&0x3|0x8;return v.toString(16)})},proxy:function(c,p,h){if(arguments.length===2){if(typeof p==="string"){h=c;c=h[p];p=undefined}else if(p&&!T.isFunction(p)){h=p;p=undefined}}if(!p&&c){p=function(){return c.apply(h||this,arguments)}}return p},extend:function(){var c,n,s,h,k,l,m=arguments[0]||{},i=1,p=arguments.length,q=false;if(typeof m==="boolean"){q=m;m=arguments[1]||{};i=2}if(typeof m!=="object"&&!T.isFunction(m)){m={}}if(p===i){m=this;--i}for(;i<p;i++){if((c=arguments[i])!=null){for(n in c){s=m[n];h=c[n];if(m===h){continue}if(q&&h&&(T.isPlainObject(h)||(k=T.isArray(h)))){if(k){k=false;l=s&&T.isArray(s)?s:[]}else{l=s&&T.isPlainObject(s)?s:{}}m[n]=o.extend(q,l,h)}else if(h!==undefined){m[n]=h}}}}return m},each:function(c,h,k){var n,i=0,l=c.length,m=l===undefined||T.isFunction(c);if(k){if(m){for(n in c){if(h.apply(c[n],k)===false){break}}}else{for(;i<l;){if(h.apply(c[i++],k)===false){break}}}}else{if(m){for(n in c){if(h.call(c[n],n,c[n])===false){break}}}else{for(var v=c[0];i<l&&h.call(v,i,v)!==false;v=c[++i]){}}}return c},parseJSON:function(c){if(typeof c!=="string"||!c){return null}c=j(c);if(b.test(c.replace(d,"@").replace(f,"]").replace(g,""))){return window&&window.JSON&&window.JSON.parse?window.JSON.parse(c):(new Function("return "+c))()}else{T.error("Invalid JSON: "+c)}},derive:function(s,c){var r;var k;if(typeof s==='function'){if(typeof c==='function'){if(c.prototype.constructor==Object.prototype.constructor){c.prototype.constructor=c}e.prototype=c.prototype;var h=new e();var l=s.prototype;for(var p in l){if(l.hasOwnProperty(p)){h[p]=l[p]}}r=F.createCallChain(c,s);k=r.prototype=h;k.constructor=r;k.superclass=c.prototype;k.callParent=(function(){var u=[];return function(){var v=arguments[0];if(!u.length){u.push({funcName:v,thisObj:this,level:0})}else if(u[u.length-1].funcName!==v||u[u.length-1].thisObj!==this){u.push({funcName:v,thisObj:this,level:0})}var w=u[u.length-1].level;var x=this.superclass;while(w--){x=x.superclass}u[u.length-1].level++;var y=[];for(var i=1;i<arguments.length;i++){y.push(arguments[i])}x[v].apply(u[u.length-1].thisObj,y);u[u.length-1].level--;if(!u[u.length-1].level){u.pop()}}})();r.superclazz=c;return r}else if(typeof c==='object'){var m=s;var n=c;var q=m.prototype;e.prototype=q;var h=new e();r=F.createCallChain(m,n.constructor);k=r.prototype=h;for(p in n){if(n.hasOwnProperty(p)){k[p]=n[p]}}k.constructor=r;k.superclass=m.prototype;k.callParent=(function(){var u=[];return function(){var v=arguments[0];if(!u.length){u.push({funcName:v,thisObj:this,level:0})}else if(u[u.length-1].funcName!==v||u[u.length-1].thisObj!==this){u.push({funcName:v,thisObj:this,level:0})}var w=u[u.length-1].level;var x=this.superclass;while(w--){x=x.superclass}u[u.length-1].level++;var y=[];for(var i=1;i<arguments.length;i++){y.push(arguments[i])}x[v].apply(u[u.length-1].thisObj,y);u[u.length-1].level--;if(!u[u.length-1].level){u.pop()}}})();r.superclazz=m}}return r}};return o});sap.riv.module({qname:'sap.viz.lang.langManager',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'}],function Setup(F,O,T){function l(u,h,i){var j=document.getElementsByTagName("head")[0]||document.documentElement;var s=document.createElement("script");s.type='text/javascript';s.src=u;var k=false;s.onload=s.onreadystatechange=function(){if(!k&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){k=true;s.onload=s.onreadystatechange=null;if(j&&s.parentNode){j.removeChild(s)}h()}};if(s.addEventListener){s.addEventListener('error',function(){s.onload=s.onreadystatechange=null;s.parentNode.removeChild(s);i()},true)}j.insertBefore(s,j.firstChild)}function a(h,i,j,k,n){if(i<h.length){var u=h[i]+'language_'+j+'.js';var p=function(){a(h,i+1,j,k,n)};l(u,p,p)}else{var q=g(j);if(q){k(q)}else n()}}var b=[];function o(h){b.forEach(function(i){i.fn.apply(i.scope,[d])});if(h)h()}function g(i){return c[i]}var c={};var d=c['dev']={IDS_DEFAULTMND:'All Measures',IDS_DEFAULTCHARTTITLE:'Title of Chart',IDS_ISNOVALUE:'No value',IDS_BARCHART:'Bar Chart',IDS_COMBINATIONCHART:'Combined Column Line Chart',IDS_DUALBARCHART:'Bar Chart with 2 X-Axes',IDS_DUALCOMBINATIONCHART:'Combined Column Line Chart with 2 Y-Axes',IDS_DUALHORIZONTALCOMBINATIONCHART:'Combined Bar Line Chart with 2 X-Axes',IDS_DUALHORIZONTALLINECHART:'Horizontal Line Chart with 2 X-Axes',IDS_DIUALLINECHART:'Line Chart with 2 Y-Axes',IDS_DUALPERCENTAGESTACKEDBARCHART:'100% Stacked Bar Chart with 2 X-Axes',IDS_DUALSTACKEDVERTICALBARCHART:'Stacked Column Chart with 2 Y-Axes',IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART:'100% Stacked Column Chart with 2 Y-Axes',IDS_DUALSTACKEDBARCHART:'Stacked Bar Chart with 2 X-Axes',IDS_DUALVERTICALBARCHART:'Column Chart with 2 Y-Axes',IDS_HORIZONTALBOXPLOTCHART:'Horizontal Box Plot',IDS_HORIZONTALCOMBINATIONCHART:'Combined Bar Line Chart',IDS_HORIZONTALLINECHART:'Horizontal Line Chart',IDS_HORIZONTALWATERFALLCHART:'Horizontal Waterfall Chart',IDS_LINECHART:'Line Chart',IDS_PERCENTAGESTACKEDBARCHART:'100% Stacked Bar Chart',IDS_PERCENTAGESTACKEDVERTICALBARCHART:'100% Stacked Column Chart',IDS_SPARKLINECHART:'Spark Line Chart (POC)',IDS_STACKEDBARCHART:'Stacked Bar Chart',IDS_STACKEDVERTICALBARCHART:'Stacked Column Chart',IDS_VARIANTBARCHART:'Variant Bar Chart (POC)',IDS_VERTICALBARCHART:'Column Chart',IDS_VERTICALBOXPLOTCHART:'Box Plot',IDS_WATERFALLCHART:'Waterfall Chart',IDS_DONUTCHART:'Donut Chart',IDS_PIECHART:'Pie Chart',IDS_BASEBUBBLECHART:'Base Scatter Chart',IDS_BUBBLECHART:'Bubble Chart',IDS_SCATTERCHART:'Scatter Plot',IDS_BASECHART:'Base Chart',IDS_BASEHORIZONTALCHART:'Base horizontal XY Chart',IDS_BASEVERTICALCHART:'Base Vertical XY Chart',IDS_BASEMULTIPLECHART:'Base Multiple Chart',IDS_BASEMULTIPLEXYCHART:'Base Multiple XY Chart',IDS_BASESINGLECHART:'Base Single Chart',IDS_HEATMAPCHART:'Heat Map',IDS_MULTIBARCHART:'Multiple Bar Chart',IDS_MULTIBUBBLECHART:'Multiple Bubble Chart',IDS_MULTIDONUTCHART:'Multiple Donut Chart',IDS_MULTIDUALBARCHART:'Multiple Bar Chart with 2 X-Axes',IDS_MULTIDUALHORIZONTALLINECHART:'Multiple Horizontal Line Chart with 2 X-Axes',IDS_MULTIDUALLINECHART:'Multiple Line Chart with 2 Y-Axes',IDS_MULTIDUALPERCENTAGESTACKEDBARCHART:'Multiple 100% Stacked Bar Chart with 2 X-Axes',IDS_MULTIDUALPERCENTAGESTACKEDVERTICALBARCHART:'Multiple 100% Stacked Column Chart with 2 Y-Axes',IDS_MULTIDUALSTACKEDBARCHART:'Multiple Stacked Bar Chart with 2 X-Axes',IDS_MULTIDUALSTACKEDVERTICALBARCHART:'Multiple Stacked Column Chart with 2 Y-Axes',IDS_MULTIDUALVERTICALBARCHART:'Multiple Column Chart with 2 Y-Axes',IDS_MULTIHORIZONTALLINECHART:'Multiple Horizontal Line Chart',IDS_MULTILINECHART:'Multiple Line Chart',IDS_MULTIPERCENTAGESTACKEDBARCHART:'Multiple 100% Stacked Bar Chart',IDS_MULTIPERCENTAGESTACKEDVERTICALBARCHART:'Multiple 100% Stacked Column Chart',IDS_MULTIPIECHART:'Multiple Pie Chart',IDS_MULTISCATTERCHART:'Multiple Scatter Plot',IDS_MULTISTACKEDBARCHART:'Multiple Stacked Bar Chart',IDS_MULTISTACKEDVERTICALBARCHART:'Multiple Stacked Column Chart',IDS_MULTIVERTICALBARCHART:'Multiple Column Chart',IDS_MULTIRADARCHART:'Multiple Radar Chart',IDS_RADARCHART:'Radar Chart',IDS_SCATTERMATRIXCHART:'Scatter Matrix Chart',IDS_TAGCLOUDCHART:'Tag Cloud',IDS_TREEMAPCHART:'Tree Map (POC)',IDS_GEOBUBBLE:'Geo Bubble Chart',IDS_GEOPIE:'Geo Pie Chart',IDS_CHOROPLETH:'Geo Choropleth Chart',IDS_MULTIGEOBUBBLE:'Multiple Geo Bubble Chart',IDS_MULTICHOROPLETH:'Multiple Geo Choropleth Chart',IDS_REGIONCOLOR:'Region Color',IDS_PRIMARYVALUES:'Primary Values',IDS_SECONDARYVALUES:'Secondary Values',IDS_AXISLABELS:'Axis Labels',IDS_RECTANGLETITLE:'Rectangle Title',IDS_RECTANGLEWEIGHT:'Rectangle Weight',IDS_RECTANGLECOLOR:'Rectangle Color',IDS_TAGNAME:'Tag Name',IDS_TAGWEIGHT:'Tags Weight',IDS_TAGFAMILY:'Tags Family',IDS_CATEGORYAXIS:'Axis Labels Category',IDS_REGIONSHAPE:'Region Shape',IDS_BUBBLEWIDTH:'Bubble Width',IDS_BUBBLEHEIGHT:'Bubble Height',IDS_RADARAXES:'Radar Axes',IDS_RADARAXESVALUE:'Radar Axes Values',IDS_PIESECTORCOLORNAME:'Sector Color',IDS_PIESECTORSIZE:'Sector Size',IDS_MAINLABELAXISNAME:'Main Category Axis',IDS_SECONDARYAXISLABELNAME:'Secondary Category Axis',IDS_SELECTABILITY:'selectability',IDS_PRIMARYVALUECOLORPALETTE:'primaryValuesColorPalette',IDS_SECONDARYVALUESCOLORPALETTE:'secondaryValuesColorPalette',IDS_DRAWINGEFFECT:'drawingEffect',IDS_TOOLTIPVISIBLE:'tooltipVisible',IDS_ENABLEROUNDCORNER:'enableRoundCorner',IDS_ANIMATION:'animation',IDS_DATALOADING:'dataLoading',IDS_DATAUPDATING:'dataUpdating',IDS_BAR:'bar',IDS_LINE:'line',IDS_WIDTH:'width',IDS_HOVERLINEVISIBLE:'hoverlineVisible',IDS_MARKER:'marker',IDS_VISIBLE:'visible',IDS_SHAPE:'shape',IDS_SIZE:'size',IDS_HEADERVISIBLE:'headerVisible',IDS_AXISVISIBLE:'axisVisible',IDS_GRIDVISIBLE:'gridVisible',IDS_COLUMNSEQUENCE:'columnSequence',IDS_COLUMNCONFIG:'columnConfig',IDS_STARTCOLUMN:'startColumn',IDS_LABEL:'label',IDS_VALUEFORMAT:'valueFormat',IDS_ENDCOLUMN:'endColumn',IDS_HIGHCOLUMN:'highColumn',IDS_LOWCOLUMN:'lowColumn',IDS_LINECONFIG:'lineConfig',IDS_MARKERS:'markers',IDS_FILLVISIBLE:'fillVisible',IDS_REFINEVISIBLE:'reflineVisible',IDS_MODE:'mode',IDS_TITLE:'title',IDS_TEXT:'text',IDS_GRIDLINE:'gridline',IDS_SHOWFIRSTLINE:'showFirstLine',IDS_TYPE:'type',IDS_FORMAT:'format',IDS_POSITION:'position',IDS_BORDER:'border',IDS_STARTCOLOR:'startcolor',IDS_ENDCOLOR:'endcolor'};var e='dev',f='en';var m={constructor:function(){return},loadPath:["../../../resources/langs/"],current:function(){return e},register:function(h){e=h.id;d=c[h.id]=O.extend(true,c[h.id],h.value);return m},apply:function(i,h){if(i){a(m.loadPath,0,i,function(){o(h)},function(){a(m.loadPath,0,f,function(){o(h);F.error('Loading language {0} failed.',i)},function(){e='dev',d=c['dev'];o(h);F.error('Loading language {0}, {1} failed.',i,f)})})}return m},get:function(i){if(d[i])return d[i];return c['dev'][i]},addListener:function(h){b.push(h);return m},removeListener:function(h){var i=b.indexOf(h);if(i!=-1)b.splice(i,1);return m}};return m});sap.riv.module({qname:'sap.viz.data.description.DataContainer',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'}],function Setup(O){var D=function(u){this._uId=u;this._isFake=false;this._infos=null};D.prototype.getId=function(){return this._uId};D.prototype.fake=function(_){if(!arguments.length)return this._isFake;this._isFake=_};D.prototype.infos=function(_){if(!arguments.length)return this._infos;this._infos=_};return D});sap.riv.module({qname:'sap.viz.data.description.DimensionLabels',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.data.description.DataContainer',version:'4.0.0'}],function Setup(O,D){var a=O.derive(D,{constructor:function(u,t,v){this._type=t;this._values=v},getValues:function(){return this._values},getType:function(){return this._type}});return a});sap.riv.module({qname:'sap.viz.data.feed.feed',version:'4.0.0'},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(F){return function(f,a,t,m,b,c,d,e,g){var h=f;var j=a;var k=t;var l=m;var n=b;var o=c;var p=d;var q=e;var r=g;var s=[];function u(){return u};u.feedId=function(_){if(!arguments.length)return h;h=_;return u};u.feedName=function(_){if(!arguments.length)return j;j=_;return u};u.type=function(_){if(!arguments.length)return k;k=_;return u};u.min=function(_){if(!arguments.length)return l;l=_;return u;};u.max=function(_){if(!arguments.length)return n;n=_;return u};u.analysisAxisIndex=function(_){if(!arguments.length)return o;o=_;return u};u.measureGroupIndex=function(_){if(!arguments.length)return q;q=_;return u};u.acceptMND=function(_){if(!arguments.length)return p;p=_;return u};u.maxStackedDims=function(_){if(!arguments.length)return r;r=_;return u};u.data=function(_){if(!arguments.length)return s;s=_;return u};u.addData=function(_){s.push(_);return u};u.getMeasureNames=function(){var e=q-1;var v=[];for(var i=0;i<s.length;i++){v.push({'val':s[i]['name'],'ctx':{'mg':e,'mi':i}})}return v};u.getMeasureValues=function(){var v=[];if(s.length>0)return s[0].getMeasureValues();return v};u.getMeasureCount=function(){return s.length};u.hasMNDFeeded=function(){var v=u.data();for(var i=0;i<v.length;i++){if(v[i].getType()=="measureNamesDimension")return true}return false};u.hasFeeded=function(){return u.data().length>0?true:false};u.getIndex=function(){return u.analysisAxisIndex()?u.analysisAxisIndex():u.measureGroupIndex()};u.getDataCount=function(){if(u.type()=="Dimension")return u.data().length;else return u.data().length>0?u.data()[0].getMeasureValues().length:0};return u}});sap.riv.module({qname:'sap.viz.data.feed.feeder',version:'4.0.0'},[{qname:'sap.viz.data.feed.feed',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.data.description.DimensionLabels',version:'4.0.0'}],function Setup(F,a,T,D){return function(f,c,b){var d='Dimension';var e='Measure';var g="feedId";var B="binding";var h="type";var I="index";var _=[];var k=[];var l=[];var m={};var n=[];function o(){return o};o.init=function(){p(f);if(c){if(b){r(c,b)}else{q(c)}o.checkValid()}};o.getFeeds=function(){return l};o.findFeed=function(i){return m[i]};o.getAnalysisAxisIndex=function(j){for(var i=0;i<_.length;i++){if(_[i]==j)return i}};o.getMeasureValuesGroupIndex=function(j){for(var i=0;i<k.length;i++){if(k[i]==j)return i}};o.getMeasureValuesGroupFeeds=function(){return k};o.checkValid=function(){for(var i=0;i<l.length;i++){var j=l[i];if(j.type()=="Dimension"){var t=j.getDataCount();if(t<j.min()||(j.max()!=Number.POSITIVE_INFINITY&&t>j.max()))a.error(j.feedId()+": does not meet min or max number of feed definition")}else if(j.type()=="Measure"){var t=j.getDataCount();if(t<j.min()||(j.max()!=Number.POSITIVE_INFINITY&&t>j.max()))a.error(j.feedId()+": does not meet min or max number of feed definition")}else{a.error(j.feedId()+": wrong feed type")}}};o.getBindingInfo=function(){return n};function p(j){if(T.isArray(j)){var t=0;for(var i=0;i<j.length;i++){var u=j[i]['type'];var v=j[i]['aaIndex'];var w=j[i]['id'];if(u!=d&&u!=e){a.error('wrong feed type in feed definition: '+j[i]['id'])}if(j[i]['type']==d){if(j[i]['aaIndex']<=0){a.error('wrong analysis axis index in feed definition: '+j[i]['id'])}t++}if(j[i]['type']==e){if(j[i]['mgIndex']<=0){a.error('wrong  measure axis index in feed definition: '+j[i]['id'])}}var x=l.push(F(w,j[i]['name'],u,j[i]['min'],j[i]['max'],v,j[i]['acceptMND'],j[i]['mgIndex'],j[i]['maxStackedDims']));m[w]=l[x-1]}for(i=0;i<t;i++){n[i]=false}}}function q(j){var t=j.getAnalysisAxisCount();for(var i=0;i<t;i++){var u=s(l,d,i+1);if(u){var v=j.getAnalysisAxisByIdx(i);if(u.maxStackedDims()!=undefined&&v.getDimensionLabels().length>u.maxStackedDims())a.error("Invalid Feeding: exceed max stacked dimension number "+u.feedId()+" feed");_[i]=u;n[i]=true;u.addData(v)}}var w=j.getMeasureValuesGroupCount();for(i=0;i<w;i++){var u=s(l,e,i+1);if(u){k[i]=u;u.addData(j.getMeasureValuesGroupByIdx(i))}}}function s(j,t,u){for(var i=0;i<j.length;i++){if(j[i].type()==t&&j[i].getIndex()==u)return j[i]}return null}function r(t,u){for(var i=0;i<u.length;i++){var v=u[i];var w=v[g];if(!w)a.error("Invalid Feeding: no feed id");var x=m[w];if(!x)a.error("Invalid Feeding: no "+w+" feed");var y=v[B];for(var j=0;j<y.length;j++){var z=y[j][h];var A=y[j][I];if(z=="analysisAxis"){var C=t.getAnalysisAxisByIdx(A-1);if(!C)a.error("could not find axis "+A+" in data set"+w+" feed");if(x.maxStackedDims()!=undefined&&C.getDimensionLabels().length>x.maxStackedDims())a.error("Invalid Feeding: exceed max stacked dimension number "+w+" feed");var E=x.getDataCount();if(x.max()!=Number.POSITIVE_INFINITY&&E>=x.max())a.error(w+" feed could not accept more data containers");x.addData(C);_[A-1]=x;n[x.getIndex()-1]=true}else if(z=="measureValuesGroup"){var G=t.getMeasureValuesGroupByIdx(A-1);if(!G)a.error("could not find measure values group "+A+" in data set"+w+" feed");var E=x.getDataCount();if(x.max()!=Number.POSITIVE_INFINITY&&E>=x.max())a.error(w+" feed could not accept more data containers");x.addData(G);k[A-1]=x}else if(z=="measureNamesDimension"){if(x.acceptMND()<0)a.error("could not accpet MeasureNamesDimension "+w+" feed");var E=x.getDataCount();if(x.max()!=Number.POSITIVE_INFINITY&&E>=x.max())a.error(w+" feed could not accept more data containers");x.addData(new D("","measureNamesDimension",""))}else{a.error("Invalid Binding")}}}}o.init();return o}});sap.riv.module({qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0',exported:true},[{qname:'sap.viz.data.feed.feeder',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'}],function Setup(f,l,C){var t=function(){var a=[];var b={};var d=l.get('IDS_ISNOVALUE');var h=function(_){if(_===null||_===undefined)return d;else return _};b.generateTooltipData=function(c,s,e,g,n,p){var o=function(c){var M=m(c);var r;var u=false;if(s[e][0]!==undefined&&s[e][0].length>0){r=d3.merge([s[e][0],s[e][1]]);u=true}else{r=s[e]}var v={'body':[],'footer':[],};var w=r.length;var x=false;var y=0;if(c.getMeasureValuesGroupDataByIdx(0)&&c.getMeasureValuesGroupDataByIdx(1)){x=true;y=c.getMeasureValuesGroupDataByIdx(0).values.length}var z=false;var A;if(!M.hasMNDonCate&&!M.hasMNDonColor){if(c.getAnalysisAxisDataByIdx(1)){var B=0;if(c.getMeasureValuesGroupDataByIdx(0)){for(var i=0;i<c.getMeasureValuesGroupDataByIdx(0).values.length;++i){var D={'name':h(c.getMeasureValuesGroupDataByIdx(0).values[i].col),'val':[]};for(var j=0,E=c.getMeasureValuesGroupDataByIdx(0).values[i].rows.length;j<E;++j){var F=B*E+j;var G=null;for(var k=0;k<c.getAnalysisAxisDataByIdx(1).values.length;++k){G=G?G+' / '+h(c.getAnalysisAxisDataByIdx(1).values[k].rows[j].val):h(c.getAnalysisAxisDataByIdx(1).values[k].rows[j].val)}var H={'shape':n[F%n.length],'color':g[F%g.length],'label':G,'value':r[F].val===' '?d:p==null?h(r[F].val):p(r[F].val)};D.val.push(H)}v.body.push(D);++B}}if(c.getMeasureValuesGroupDataByIdx(1)){for(var i=0;i<c.getMeasureValuesGroupDataByIdx(1).values.length;++i){var D={'name':h(c.getMeasureValuesGroupDataByIdx(1).values[i].col),'val':[]};for(var j=0,E=c.getMeasureValuesGroupDataByIdx(1).values[i].rows.length;j<E;++j){var F=B*E+j;var G=null;for(var k=0;k<c.getAnalysisAxisDataByIdx(1).values.length;++k){G=G?G+' / '+h(c.getAnalysisAxisDataByIdx(1).values[k].rows[j].val):h(c.getAnalysisAxisDataByIdx(1).values[k].rows[j].val)}var H={'shape':n[F%n.length],'color':g[F%g.length],'label':G,'value':r[F].val===' '?d:p==null?h(r[F].val):p(r[F].val)};D.val.push(H)}v.body.push(D);++B}}}else{var D={'name':c.getMeasureValuesGroupDataByIdx(0).values[0].col,'val':[]};var H={'shape':n[0%n.length],'color':g[0%g.length],'label':null,'value':r[0].val===' '?d:p==null?h(r[0].val):p(r[0].val)};D.val.push(H);v.body.push(D)}for(var i=0,E=c.getAnalysisAxisDataByIdx(0).values.length;i<E;++i){var I={'label':h(c.getAnalysisAxisDataByIdx(0).values[i].col.val),'value':h(c.getAnalysisAxisDataByIdx(0).values[i].rows[e].val)};v.footer.unshift(I)}}else if(M.hasMNDonColor){for(var i=0;i<c.getAnalysisAxisDataByIdx(1).values.length;++i){if(c.getAnalysisAxisDataByIdx(1).values[i].type=='MND'){A=c.getAnalysisAxisDataByIdx(1).values[i].rows.length;if(i==0){z=true}break}}var B=0;if(c.getMeasureValuesGroupDataByIdx(0)){for(var i=0;i<c.getMeasureValuesGroupDataByIdx(0).values.length;++i){var D={'name':h(c.getMeasureValuesGroupDataByIdx(0).values[i].col),'val':[]};for(var j=0,E=c.getMeasureValuesGroupDataByIdx(0).values[i].rows.length;j<E;++j){var F;var J=undefined;if(z)F=B*E+j;else if(!u||!x)F=j*A+B;else{F=j*y+B;J=j*A+B}var G=null;for(var k=0;k<c.getAnalysisAxisDataByIdx(1).values.length;++k){if(c.getAnalysisAxisDataByIdx(1).values[k].type!='MND'){G=G?G+' / '+h(c.getAnalysisAxisDataByIdx(1).values[k].rows[j].val):h(c.getAnalysisAxisDataByIdx(1).values[k].rows[j].val)}}var H={'shape':J!==undefined?n[J%n.length]:n[F%n.length],'color':J!==undefined?g[J%g.length]:g[F%g.length],'label':G,'value':r[F].val===' '?d:p==null?h(r[F].val):p(r[F].val)};D.val.push(H)}v.body.push(D);++B}}if(c.getMeasureValuesGroupDataByIdx(1)){for(var i=0;i<c.getMeasureValuesGroupDataByIdx(1).values.length;++i){var D={'name':h(c.getMeasureValuesGroupDataByIdx(1).values[i].col),'val':[]};for(var j=0,E=c.getMeasureValuesGroupDataByIdx(1).values[i].rows.length;j<E;++j){var F;var J=undefined;if(z)F=B*E+j;else if(!u||!x)F=j*A+B;else{F=j*(A-y)+B-y+parseInt(w*y/A);J=j*A+B}var G=null;for(var k=0;k<c.getAnalysisAxisDataByIdx(1).values.length;++k){if(c.getAnalysisAxisDataByIdx(1).values[k].type!='MND'){G=G?G+' / '+h(c.getAnalysisAxisDataByIdx(1).values[k].rows[j].val):h(c.getAnalysisAxisDataByIdx(1).values[k].rows[j].val)}}var H={'shape':J!==undefined?n[J%n.length]:n[F%n.length],'color':J!==undefined?g[J%g.length]:g[F%g.length],'label':G,'value':r[F].val===' '?d:p==null?h(r[F].val):p(r[F].val)};D.val.push(H)}v.body.push(D);++B}}for(var i=0,E=c.getAnalysisAxisDataByIdx(0).values.length;i<E;++i){var I={'label':h(c.getAnalysisAxisDataByIdx(0).values[i].col.val),'value':h(c.getAnalysisAxisDataByIdx(0).values[i].rows[e].val)};v.footer.unshift(I)}}else{var K=null;var L;for(var i=0;i<c.getAnalysisAxisDataByIdx(0).values.length;++i){if(c.getAnalysisAxisDataByIdx(0).values[i].type=='MND'){A=c.getAnalysisAxisDataByIdx(0).values[i].rows.length;var N=0;if(s.length!==undefined){N=s.length}else{for(var j in s){++N}}L=N/A;if(i==0){z=true;K=h(c.getAnalysisAxisDataByIdx(0).values[i].rows[parseInt(e/L)].val)}else{K=h(c.getAnalysisAxisDataByIdx(0).values[i].rows[e%A].val)}break}}var D={'name':K,'val':[]};if(c.getAnalysisAxisDataByIdx(1)){if(c.getMeasureValuesGroupDataByIdx(0)){for(var j=0,E=c.getMeasureValuesGroupDataByIdx(0).values[0].rows.length;j<E;++j){var F=j;var G=null;for(var k=0;k<c.getAnalysisAxisDataByIdx(1).values.length;++k){G=G?G+' / '+h(c.getAnalysisAxisDataByIdx(1).values[k].rows[j].val):h(c.getAnalysisAxisDataByIdx(1).values[k].rows[j].val)}var H={'shape':n[F%n.length],'color':g[F%g.length],'label':G,'value':r[F].val===' '?d:p==null?h(r[F].val):p(r[F].val)};D.val.push(H)}}}else{var H={'shape':n[0%n.length],'color':g[0%g.length],'label':null,'value':r[0].val===' '?d:p==null?h(r[0].val):p(r[0].val)};D.val.push(H)}v.body.push(D);for(var i=0,E=c.getAnalysisAxisDataByIdx(0).values.length;i<E;++i){if(c.getAnalysisAxisDataByIdx(0).values[i].type!='MND'){var I={'label':h(c.getAnalysisAxisDataByIdx(0).values[i].col.val),'value':null};if(z){I.value=h(c.getAnalysisAxisDataByIdx(0).values[i].rows[e%L].val)}else{I.value=h(c.getAnalysisAxisDataByIdx(0).values[i].rows[parseInt(e/A)].val)}v.footer.unshift(I)}}}return v};var q=function(i){if(a[i]===undefined){a[i]=o(c)}return a[i]};return q(e)};return b};function m(d){var h=false;if(d.getAnalysisAxisDataByIdx(0))for(var j=0,a=d.getAnalysisAxisDataByIdx(0).values.length;j<a;++j)if(d.getAnalysisAxisDataByIdx(0).values[j].type&&d.getAnalysisAxisDataByIdx(0).values[j].type==='MND')h=true;var b=false;if(!h){if(d.getAnalysisAxisDataByIdx(1))for(var j=0,a=d.getAnalysisAxisDataByIdx(1).values.length;j<a;++j)if(d.getAnalysisAxisDataByIdx(1).values[j].type&&d.getAnalysisAxisDataByIdx(1).values[j].type==='MND')b=true}return{hasMNDonCate:h,hasMNDonColor:b}}t.formatTooltipData=function(d){var a={name:C.Module.Event.TooltipShow.name,data:d,};return a};t.dataTransform=function(o){var d=o['MG1'];var a=o['MG2'];var b=[];if(o.hasMND&&o.MNDOnColor&&o.MNDInner){var c=0,e=0,g=0;if(o['MG1Number']){c=o['MG1Number'];g=d.length/c}if(o['MG2Number']){e=o['MG2Number'];g=a.length/e}for(var i=0;i<g;i++){for(var j=0;j<c;j++){b.push(d[i*c+j])}for(var j=0;j<e;j++){b.push(a[i*e+j])}}}else{if(d){for(var i=0;i<d.length;i++){b.push(d[i])}}if(a){for(i=0;i<a.length;i++){b.push(a[i])}}}var s=[];var h;if(d.length!=0){h=d[0].length}else{h=a[0].length}for(var j=0;j<h;j++){var k=[];for(i=0;i<b.length;i++){k.push(b[i][j])}s.push(k)}return s};return t});sap.riv.module({qname:'sap.viz.data.MultiAxesDataAdapter',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(T,F){function M(b){this._bindingInfo=b;this._aa=[];this._mg=[];this._fakeData=false;this._dataPointCount=0}M.prototype.addAnalysisAxis=function(a){if(a)this._aa.push(a)};M.prototype.addMeasureValuesGroup=function(m){if(m)this._mg.push(m)};M.prototype.getAnalysisAxisDataByIdx=function(a){if(!arguments.length)return this._aa;for(var i=0;i<this._aa.length;i++){if(this._aa[i].index==a)return this._aa[i]}return null};M.prototype.getMeasureValuesGroupDataByIdx=function(a){if(!arguments.length)return this._mg;for(var i=0;i<this._mg.length;i++){if(this._mg[i].index==a)return this._mg[i]}return null};M.prototype.createDataAdapterForModule=function(c){var s=new M();if(c&&c.aa){for(var i=0;i<c.aa.length;i++){var a=this.getAnalysisAxisDataByIdx(c.aa[i]-1);if(a)s.addAnalysisAxis({index:i,values:a.values})}}if(c&&c.mg){for(var i=0;i<c.mg.length;i++){var m=this.getMeasureValuesGroupDataByIdx(c.mg[i]-1);if(m)s.addMeasureValuesGroup({index:i,values:m.values})}}return s};M.prototype.getBindingInfo=function(){return this._bindingInfo};M.prototype.fakeData=function(_){if(!arguments.length)return this._fakeData;this._fakeData=_};M.prototype.dataPointCount=function(_){if(!arguments.length)return this._dataPointCount;this._dataPointCount=_};return M});sap.riv.module({qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},[],function Setup(){return function(d){var a;var b;var h=false;var m=true;var M=false;var D=false;var c=d.getMeasureValuesGroupDataByIdx(1);var e=d.getMeasureValuesGroupDataByIdx(0);var r=d.getAnalysisAxisDataByIdx(1);var f=d.getAnalysisAxisDataByIdx(0);if((c&&c.values&&c.values.length>0)){D=true}if(f&&f.values&&f.values.length>0){if(f.values[0].type=='MND'){h=true;m=false;M=false}else if(f.values[f.values.length-1].type=='MND'){h=true;m=false;M=true}}if(r&&r.values&&r.values.length>0){if(r.values[0].type=='MND'){h=true;M=false}else if(r.values[r.values.length-1].type=='MND'){h=true;M=true}}function p(o){var q=[];if(o.values.length<=0)return q;if(h&&!m){for(var j=0;j<o.values[0].rows.length;++j){var s=new Array(o.values.length*o.values[0].rows[0].length);for(var k=0;k<o.values[0].rows[0].length;++k){for(var i=0;i<o.values.length;++i){var t={};t.val=o.values[i].rows[j][k].val;t.ctx=o.values[i].rows[j][k].ctx;if(M)s[k*o.values.length+i]=t;else s[i*o.values[0].rows[0].length+k]=t}}q.push(s)}}else{q=new Array(o.values.length*o.values[0].rows.length);for(var i=0;i<o.values.length;++i){for(var j=0;j<o.values[0].rows.length;++j){var s=o.values[i].rows[j];if(!h||!M)q[i*o.values[0].rows.length+j]=s;else q[j*o.values.length+i]=s}}}return q};function g(j,k){for(var i=0;i<k.length;++i){j[i]=j[i].concat(k[i])}}function l(n){var o=[];var q=e.values.length;var s=c.values.length;var t=e.values[0].rows[0].length;dataset=new Array(e.values[0].rows.length);var u=0;for(var i=0;i<dataset.length;++i)dataset[i]=[];if(M){var v=e.values[0].rows.length;for(var i=0;i<t;++i){for(var j=0;j<q;++j){for(var k=0;k<v;++k)dataset[k][u]=e.values[j].rows[k][i];o[u]=0;++u}for(var j=0;j<s;++j){for(var k=0;k<v;++k)dataset[k][u]=c.values[j].rows[k][i];o[u]=1;++u}}}else{for(var i=0;i<q;++i){for(var j=0;j<t;++j){o[u++]=0}g(dataset,e.values[i].rows)}for(var i=0;i<s;++i){for(var j=0;j<t;++j){o[u++]=1}g(dataset,c.values[i].rows)}}n['MG1']=dataset;n["MG1Number"]=e.values.length;n['color']=o};var n={};if(D&&!m){l(n)}else{a=p(e);n["MG1Number"]=e.values.length;if(D){b=p(c);n["MG2Number"]=c.values.length}n["MG1"]=a;n["MG2"]=b}n["hasMND"]=h;n["MNDOnColor"]=m;n['MNDInner']=M;return n}});sap.riv.module({qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},[{qname:'sap.viz.Constants',version:'4.0.0'}],function Setup(c){var C={sap32:function(){return d3.scale.ordinal().range(c.SAPColorSingleAxis)},sap32dualaxis1:function(){return d3.scale.ordinal().range(c.SAPColorDualAxis1)},sap32dualaxis2:function(){return d3.scale.ordinal().range(c.SAPColorDualAxis2)},};return C});sap.riv.module({qname:'sap.viz.manifest',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'}],function Setup(T,F,O){var m={};m.registerCategory=function(n,f,a){if(!T.isNonEmptyString(n))F.error("The category name must be a non-empty string.");if(f&&!T.isFunction(f))F.error("The category factory must be a function.");if(m.hasOwnProperty(n))F.error("There is already a category named \"{0}\"",n);var c=d3.map();var b={get:function(i,t){var r=c.get(i);if(r===undefined&&t)F.error("Cannot find \"{0}\" in category \"{1}\"",i,n);return r},each:function(d,t){c.forEach(function(i,o){d.call(t,o,i)});return m},register:function(){Array.prototype.forEach.call(arguments,function(o){if(T.isUndefined(o))F.error("Cannot register a undefined object.");var i=o.id;if(!T.isNonEmptyString(i))F.error("Cannot register without a valid id.");if(c.has(i))F.error("There is already an item named \"{0}\" in category \"{1}\".",i,n);var d=o["abstract"]===true;o=O.extend(true,null,o.base!=null?b.get(o.base,true):null,o);Object.defineProperty(o,"abstract",{value:d,enumerable:false});if(f&&!d)f.call(a,o,m);c.set(i,o)});return m}};m[n]=b;return b};return m});sap.riv.module({qname:'sap.viz.modules.dispatch',version:'4.0.0',exported:true},[],function Setup(){return d3.dispatch});sap.riv.module({qname:'sap.viz.modules.combination',version:'4.0.0',exported:true},[{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.manifest',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.data.MultiAxesDataAdapter',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'}],function Setup(c,M,C,e,T,O,f,g,S,N){var h=function(k){function l(a){r=g();a.each(function(i){if(i!==undefined){J(i)}A=d3.select(this);Q()});return l}l.width=function(_){if(!arguments.length)return t;t=_;if(T.isExist(t)&&T.isExist(u)&&T.isExist(y))U();return l};l.height=function(_){if(!arguments.length)return u;u=_;if(T.isExist(t)&&T.isExist(u)&&T.isExist(y))U();return l};l.size=function(_){if(!arguments.length)return{width:t,height:u};t=_.width;u=_.height;if(T.isExist(t)&&T.isExist(u)&&T.isExist(y))U();return l};l.properties=function(_){if(!arguments.length)return W();v=X(k.props(_));K();return l};l.data=function(_){if(!arguments.length)return y;J(_);return l};l.primaryAxisTitle=function(_){if(!arguments.length){var a=y.getMeasureValuesGroupDataByIdx(0),b=[];if(a){for(var i=0,d=a.values.length;i<d;i++){b.push(a.values[i].col)}}return b.join('/')}return this};l.secondAxisTitle=function(_){if(!arguments.length){var a=y.getMeasureValuesGroupDataByIdx(1),b=[];if(a){for(var i=0,d=a.values.length;i<d;i++){b.push(a.values[i].col)}}return b.join('/')}return this};l.effectManager=function(_){if(!arguments.length){return w}w=_;return l};l.dispatch=function(_){if(!arguments.length)return s;s=_;return l};l.primaryScale=function(a){if(!arguments.length){return p.scale}p.scale=a;return l};l.secondaryScale=function(a){if(!arguments.length){return q.scale}q.scale=a;return l};l.categoryScale=function(a){if(!arguments.length){return o}o=a;return l};l.primaryAxisColor=function(){if(!v.MNDOnCategory){return v.primaryValuesColorPalette[0]}else{return null}};l.secondAxisColor=function(){if(!v.MNDOnCategory){return v.secondaryValuesColorPalette[0]}else{return null}};l.colorPalette=function(a){if(!arguments.length){return B}return l};l.shapePalette=function(a){if(!arguments.length){return D}return l};l.parent=function(){return A};l.clear=function(a){for(var i in E){if(a==null){E[i].module.clear()}else{E[i].module.clear('grayall')}}};l.highlight=function(a){var b;if(a instanceof Array){b=a}else{b=[];b.push(a)}if(b.length==0){return}for(var i in E){E[i].highlightArray=[]}for(var i in b){var d=b[i];for(var j in E){var m=E[j].dataPointElements;if($(m,d)){E[j].highlightArray.push(d);break}}}for(var i in E){E[i].module.highlight(E[i].highlightArray)}};l.unhighlight=function(a){var b;if(a instanceof Array){b=a}else{b=[];b.push(a)}for(var i in E){E[i].unhighlightArray=[]}for(var i in b){var d=b[i];for(var j in E){var m=E[j].dataPointElements;if($(m,d)){E[j].unhighlightArray.push(d);break}}}for(var i in E){E[i].module.unhighlight(E[i].unhighlightArray)}};l.hoverOnPoint=function(a){if(v.tooltip.enabled){var b=a.x,d=a.y;if(b<0||b>t)return;var x=R(b);if(F==x)return;F=x;var j=r.generateTooltipData(y,z,x,B,D);var m=A.node().getTransformToElement(A.node().ownerSVGElement);j.point={x:o.rangeBand()*(x+0.5)+m.e,y:u/4+m.f};s.showTooltip(g.formatTooltipData(j))}for(var i in E){E[i].module.hoverOnPoint(a)}return true};l.blurOut=function(){if(v.tooltip.enabled){s.hideTooltip();F=-1}for(var i in E){E[i].module.blurOut()}return true};var o=d3.scale.ordinal(),p={scale:d3.scale.linear()},q={scale:d3.scale.linear()};var r;var s=new c('showTooltip','hideTooltip','initialized');var t,u;var v={measureMapY1:['verticalbar','line','line'],measureMapY2:['line','line','line'],priorityMap:{'stackedverticalbar':6,'verticalbar':5,'line':0},defaultModuleType:'line',tooltip:{enabled:true},MNDOnCategory:false,MNDInner:false,};var w;var y,z;var A;var B,D;var E;var F=-1;var G=function(_){this.mtype=_};G.prototype.initialized=function(){H.initialized(this.mtype)};var H={initialized:function(m){E[m].isCompleteAnimation=true;for(var i in E){if(!E[i].isCompleteAnimation)return true}s.initialized();return true}};X(k.props(null));return l;function I(){E={}}function J(a){if((a===undefined)||(y==a))return;I();y=a;var b=e(y);v.MNDInner=b.MNDInner;p.data=b['MG1'];q.data=b['MG2'];z=g.dataTransform(b);if(b.color){var d=b['MG1'];var m=[];var n=[];for(var i=0;i<d.length;i++){var x=[];var _=[];var b1=d[i];for(var j=0;j<b1.length;j++){if(b.color[j]==0){x.push(b1[j])}else if(b.color[j]==1){_.push(b1[j])}}m.push(x);n.push(_)}p.data=m;q.data=n}if(T.isExist(t)&&T.isExist(u)&&T.isExist(y))U();if(b.hasMND&&!b.MNDOnColor){var c1=v.measureMapY1[0];if(c1===undefined){c1=v.defaultModuleType}if(E[c1]===undefined){E[c1]={}}E[c1].data=y;v.MNDOnCategory=true}else{v.MNDOnCategory=false;var d1=y.getAnalysisAxisDataByIdx(0);var e1=y.getAnalysisAxisDataByIdx(1);var f1=y.getMeasureValuesGroupDataByIdx(0);var g1=y.getMeasureValuesGroupDataByIdx(1);for(var i=0;i<f1.values.length;i++){var c1=v.measureMapY1[i];if(c1===undefined){c1=v.defaultModuleType}if(E[c1]===undefined){E[c1]={m1Num:0,m2Num:0}}var tm=E[c1];tm.m1Num++;if(tm.data===undefined){tm.data=new f();tm.data.addAnalysisAxis(d1);tm.data.addAnalysisAxis(e1);tm.data.addMeasureValuesGroup({index:f1.index,values:[]});if(g1){tm.data.addMeasureValuesGroup({index:g1.index,values:[]})}}var i1=tm.data.getMeasureValuesGroupDataByIdx(0);i1.values.push(f1.values[i])}if(g1){for(var i=0;i<g1.values.length;i++){var c1=v.measureMapY2[i];if(c1===undefined){c1=v.defaultModuleType}if(E[c1]===undefined){E[c1]={m1Num:0,m2Num:0}}var tm=E[c1];tm.m2Num++;if(tm.data===undefined){tm.data=new f();tm.data.addAnalysisAxis(d1);tm.data.addAnalysisAxis(e1);tm.data.addMeasureValuesGroup({index:f1.index,values:[]});if(g1){tm.data.addMeasureValuesGroup({index:g1.index,values:[]})}}var j1=tm.data.getMeasureValuesGroupDataByIdx(1);j1.values.push(g1.values[i])}}}K()}function K(){if(y===undefined)return;var d=y.getMeasureValuesGroupDataByIdx(0);var a=y.getMeasureValuesGroupDataByIdx(1);var b;var j;if(a&&!v.MNDOnCategory){b=v.primaryValuesColorPalette}else{b=v.colorPalette}j=v.secondaryValuesColorPalette;B=[];D=[];for(var i in E){E[i].colorPaletteY1=[];E[i].currentM1Index=-1;if(a){E[i].colorPaletteY2=[];E[i].currentM2Index=-1}}if(v.MNDOnCategory){var m=v.measureMapY1[0];var n=d.values[0].rows.length;for(var x=0;x<n;x++){E[m].colorPaletteY1.push(b[(x)%b.length]);D.push(Z(m));B.push(b[(x)%b.length])}}else{var _=d.values.length;var b1=0;if(a){b1=a.values.length}var c1=_+b1;var d1=d.values[0].rows.length;for(var i=0;i<_;i++){var m=v.measureMapY1[i];if(m===undefined){m=v.defaultModuleType}var tm=E[m];tm.currentM1Index++;for(var x=0;x<d1;x++){if(v.MNDInner){var f1=b[(i+x*_)%b.length];tm.colorPaletteY1[tm.currentM1Index+x*tm.m1Num]=f1;D[i+x*c1]=Z(m);B[i+x*c1]=f1}else{var f1=b[(i*d1+x)%b.length];E[m].colorPaletteY1.push(f1);D.push(Z(m));B.push(f1)}}}if(a){for(var i=0;i<b1;i++){var m=v.measureMapY2[i];if(m===undefined){m=v.defaultModuleType}var tm=E[m];tm.currentM2Index++;for(var x=0;x<d1;x++){if(v.MNDInner){var f1=j[(i+x*b1)%j.length];tm.colorPaletteY2[tm.currentM2Index+x*tm.m2Num]=f1;D[_+i+x*c1]=Z(m);B[_+i+x*c1]=f1}else{var f1=j[(i*d1+x)%j.length];E[m].colorPaletteY2.push(f1);D.push(Z(m));B.push(f1)}}}}}}function L(a,b){return(v.priorityMap[b]-v.priorityMap[a])}function P(){var a=[];for(var i in E){a.push(i)}a.sort(L);A.selectAll('.module').remove();var b=A.selectAll('.module').data(a);b.enter().append('svg:g').attr('class','module');b.exit().remove();b.each(function(d){E[d].d3root=d3.select(this)});for(var i in E){E[i].module=Y(i);var j={colorPalette:E[i].colorPaletteY1,primaryValuesColorPalette:E[i].colorPaletteY1,tooltip:{enabled:false},animation:{'dataLoading':v.animation.dataLoading},drawingEffect:v.drawingEffect};if(E[i].colorPaletteY2){j.secondaryValuesColorPalette=E[i].colorPaletteY2}switch(i){case'line':j.hoverline={visible:false};O.extend(j,v.line);break;case'verticalbar':case'stackedverticalbar':j.animation.dataUpdating=v.animation.dataLoading;O.extend(j,v.bar);break;default:break}E[i].props=j;E[i].module.dispatch(new G(i));E[i].module.effectManager(w)}}function Q(){P();for(var i in E){var m=E[i];m.module.width(t).height(u).data(m.data).properties(m.props).primaryScale(p.scale).categoryScale(o);var d=y.getMeasureValuesGroupDataByIdx(1);if(d){switch(i){case'verticalbar':case'stackedverticalbar':m.module.secondScale(q.scale);break;case'line':default:m.module.secondaryScale(q.scale);break}}m.d3root.call(m.module);m.dataPointElements=[];m.d3root.selectAll('.datapoint').each(function(){m.dataPointElements.push(this)})}}function R(a){var i=a/o.rangeBand();i=Math.floor(i);return i}function U(){var d=[];var a=0;if(v.MNDOnCategory){if(p.data&&p.data.length>0){a+=p.data[0].length}if(q.data&&q.data.length>0){a+=q.data[0].length}}else{if(p.data&&p.data.length>0){a=p.data[0].length}else{a=q.data[0].length}}for(var i=0;i<a;i++){d.push(i)}o.domain(d).rangeBands([0,t]);V(p,p.scale);V(q,q.scale);if(p.data&&p.data.length>0&&q.data&&q.data.length>0){S.perfectDual(p.scale,q.scale)}}function V(a,b){if(a.data&&a.data.length>0){if(a.topValue==null){var m=a1(a);if(!m)b.domain([0,0]).range([u,0]);else b.domain([m.min,m.max]).range([u,0]).nice()}else{b.domain([a.bottomValue,a.topValue]).range([u,0]).nice()}S.perfect(b)}else{b.domain([0,0]).range(0,0)}}function W(){var a={};a.tooltip.enabled=v.tooltip.enabled;a.primaryValuesColorPalette=v.primaryValuesColorPalette;a.secondaryValuesColorPalette=v.secondaryValuesColorPalette;a.colorPalette=v.colorPalette;a.drawingEffect=v.drawingEffect;a.animation={'dataLoading':v.animation.dataLoading};a.bar={};O.extend(true,a.bar,v.bar);a.line={};O.extend(true,a.line,v.line);return a}function X(a){v.tooltip.enabled=a.tooltip.enabled;v.primaryValuesColorPalette=a.primaryValuesColorPalette;v.secondaryValuesColorPalette=a.secondaryValuesColorPalette;v.drawingEffect=a.drawingEffect;v.colorPalette=a.colorPalette;v.animation={dataLoading:a.animation.dataLoading,};v.bar={};O.extend(true,v.bar,a.bar);v.line={};O.extend(true,v.line,a.line);return v}function Y(m){var a;switch(m){case'stackedverticalbar':a=M.module.get("sap.viz.modules.stackedverticalbar");break;case'verticalbar':a=M.module.get("sap.viz.modules.verticalbar");break;case'line':default:a=M.module.get("sap.viz.modules.line");break}return a.fn(a)}function Z(m){var a;switch(m){case'line':a=v.line.marker.shape;break;case'stackedverticalbar':case'verticalbar':default:a='squareWithRadius';break}return a}function $(a,b){for(var n=0;n<a.length;n++){if(a[n]==b){return true}}return false}function a1(a){if(!a.data||a.data.length==0)return null;var m={min:null,max:null};m.max=d3.max(a.data,function(d){return d3.max(d,function(_){return _.val})});m.min=d3.min(a.data,function(d){return d3.min(d,function(_){return _.val})});if(N.isNoValue(m.max))return null;if(m.min>=0){m.min=0;m.max+=m.max*5/u}else if(m.max<=0){m.max=0;m.min+=m.min*5/u}else{var b=(m.max-m.min)*5/u;m.min-=b;m.max+=b}return m}};return h});sap.riv.module({qname:'sap.viz.modules.horizontalcombination',version:'4.0.0',exported:true},[{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.manifest',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.data.MultiAxesDataAdapter',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'}],function Setup(c,M,C,e,T,O,f,g,S,N){var h=function(k){function l(a){r=g();a.each(function(i){if(i!==undefined){J(i)}A=d3.select(this);Q()});return l}l.width=function(_){if(!arguments.length)return t;t=_;if(T.isExist(t)&&T.isExist(u)&&T.isExist(y))U();return l};l.height=function(_){if(!arguments.length)return u;u=_;if(T.isExist(t)&&T.isExist(u)&&T.isExist(y))U();return l};l.size=function(_){if(!arguments.length)return{width:t,height:u};t=_.width;u=_.height;if(T.isExist(t)&&T.isExist(u)&&T.isExist(y))U();return l};l.properties=function(_){if(!arguments.length)return W();v=X(k.props(_));K();return l};l.data=function(_){if(!arguments.length)return y;J(_);return l};l.primaryAxisTitle=function(_){if(!arguments.length){var a=y.getMeasureValuesGroupDataByIdx(0),b=[];if(a){for(var i=0,d=a.values.length;i<d;i++){b.push(a.values[i].col)}}return b.join('/')}return this};l.secondAxisTitle=function(_){if(!arguments.length){var a=y.getMeasureValuesGroupDataByIdx(1),b=[];if(a){for(var i=0,d=a.values.length;i<d;i++){b.push(a.values[i].col)}}return b.join('/')}return this};l.effectManager=function(_){if(!arguments.length){return w}w=_;return l};l.dispatch=function(_){if(!arguments.length)return s;s=_;return l};l.primaryScale=function(a){if(!arguments.length){return p.scale}p.scale=a;return l};l.secondaryScale=function(a){if(!arguments.length){return q.scale}q.scale=a;return l};l.categoryScale=function(a){if(!arguments.length){return o}o=a;return l};l.primaryAxisColor=function(){if(!v.MNDOnCategory){return v.primaryValuesColorPalette[0]}else{return null}};l.secondAxisColor=function(){if(!v.MNDOnCategory){return v.secondaryValuesColorPalette[0]}else{return null}};l.colorPalette=function(a){if(!arguments.length){return B}return l};l.shapePalette=function(a){if(!arguments.length){return D}return l};l.parent=function(){return A};l.clear=function(a){for(var i in E){if(a==null){E[i].module.clear()}else{E[i].module.clear('grayall')}}};l.highlight=function(a){var b;if(a instanceof Array){b=a}else{b=[];b.push(a)}if(b.length==0){return}for(var i in E){E[i].highlightArray=[]}for(var i in b){var d=b[i];for(var j in E){var m=E[j].dataPointElements;if($(m,d)){E[j].highlightArray.push(d);break}}}for(var i in E){E[i].module.highlight(E[i].highlightArray)}};l.unhighlight=function(a){var b;if(a instanceof Array){b=a}else{b=[];b.push(a)}for(var i in E){E[i].unhighlightArray=[]}for(var i in b){var d=b[i];for(var j in E){var m=E[j].dataPointElements;if($(m,d)){E[j].unhighlightArray.push(d);break}}}for(var i in E){E[i].module.unhighlight(E[i].unhighlightArray)}};l.hoverOnPoint=function(a){if(v.tooltip.enabled){var b=a.x,d=a.y;if(d<0||d>u)return;var x=R(d);if(F==x)return;F=x;var j=r.generateTooltipData(y,z,x,B,D);var m=A.node().getTransformToElement(A.node().ownerSVGElement);j.point={y:(u-o.rangeBand()*(x+0.5))+m.f,x:t*3/4+m.e};s.showTooltip(g.formatTooltipData(j))}for(var i in E){E[i].module.hoverOnPoint(a)}return true};l.blurOut=function(){if(v.tooltip.enabled){s.hideTooltip();F=-1}for(var i in E){E[i].module.blurOut()}return true};var o=d3.scale.ordinal(),p={scale:d3.scale.linear()},q={scale:d3.scale.linear()};var r;var s=new c('showTooltip','hideTooltip','initialized');var t,u;var v={measureMapY1:['bar','horizontalline','horizontalline'],measureMapY2:['horizontalline','horizontalline','horizontalline'],priorityMap:{'stackedbar':6,'bar':5,'horizontalline':0},tooltip:{enable:true},defaultModuleType:'horizontalline',MNDOnCategory:false,MNDInner:false,};var w;var y,z;var A;var B,D;var E;var F=-1;var G=function(_){this.mtype=_};G.prototype.initialized=function(){H.initialized(this.mtype)};var H={initialized:function(m){E[m].isCompleteAnimation=true;for(var i in E){if(!E[i].isCompleteAnimation)return true}s.initialized();return true}};X(k.props(null));return l;function I(){E={}}function J(a){if((a===undefined)||(y==a))return;I();y=a;var b=e(y);v.MNDInner=b.MNDInner;p.data=b['MG1'];q.data=b['MG2'];z=g.dataTransform(b);if(b.color){var d=b['MG1'];var m=[];var n=[];for(var i=0;i<d.length;i++){var x=[];var _=[];var b1=d[i];for(var j=0;j<b1.length;j++){if(b.color[j]==0){x.push(b1[j])}else if(b.color[j]==1){_.push(b1[j])}}m.push(x);n.push(_)}p.data=m;q.data=n}if(T.isExist(t)&&T.isExist(u)&&T.isExist(y))U();if(b.hasMND&&!b.MNDOnColor){var c1=v.measureMapY1[0];if(c1===undefined){c1=v.defaultModuleType}if(E[c1]===undefined){E[c1]={}}E[c1].data=y;v.MNDOnCategory=true}else{v.MNDOnCategory=false;var d1=y.getAnalysisAxisDataByIdx(0);var e1=y.getAnalysisAxisDataByIdx(1);var f1=y.getMeasureValuesGroupDataByIdx(0);var g1=y.getMeasureValuesGroupDataByIdx(1);for(var i=0;i<f1.values.length;i++){var c1=v.measureMapY1[i];if(c1===undefined){c1=v.defaultModuleType}if(E[c1]===undefined){E[c1]={m1Num:0,m2Num:0}}var tm=E[c1];tm.m1Num++;if(tm.data===undefined){tm.data=new f();tm.data.addAnalysisAxis(d1);tm.data.addAnalysisAxis(e1);tm.data.addMeasureValuesGroup({index:f1.index,values:[]});if(g1){tm.data.addMeasureValuesGroup({index:g1.index,values:[]})}}var i1=tm.data.getMeasureValuesGroupDataByIdx(0);i1.values.push(f1.values[i])}if(g1){for(var i=0;i<g1.values.length;i++){var c1=v.measureMapY2[i];if(c1===undefined){c1=v.defaultModuleType}if(E[c1]===undefined){E[c1]={m1Num:0,m2Num:0}}var tm=E[c1];tm.m2Num++;if(tm.data===undefined){tm.data=new f();tm.data.addAnalysisAxis(d1);tm.data.addAnalysisAxis(e1);tm.data.addMeasureValuesGroup({index:f1.index,values:[]});if(g1){tm.data.addMeasureValuesGroup({index:g1.index,values:[]})}}var j1=tm.data.getMeasureValuesGroupDataByIdx(1);j1.values.push(g1.values[i])}}}K()}function K(){if(y===undefined)return;var d=y.getMeasureValuesGroupDataByIdx(0);var a=y.getMeasureValuesGroupDataByIdx(1);var b;var j;if(a&&!v.MNDOnCategory){b=v.primaryValuesColorPalette}else{b=v.colorPalette}j=v.secondaryValuesColorPalette;B=[];D=[];for(var i in E){E[i].colorPaletteY1=[];E[i].currentM1Index=-1;if(a){E[i].colorPaletteY2=[];E[i].currentM2Index=-1}}if(v.MNDOnCategory){var m=v.measureMapY1[0];var n=d.values[0].rows.length;for(var x=0;x<n;x++){E[m].colorPaletteY1.push(b[(x)%b.length]);D.push(Z(m));B.push(b[(x)%b.length])}}else{var _=d.values.length;var b1=0;if(a){b1=a.values.length}var c1=_+b1;var d1=d.values[0].rows.length;for(var i=0;i<_;i++){var m=v.measureMapY1[i];if(m===undefined){m=v.defaultModuleType}var tm=E[m];tm.currentM1Index++;for(var x=0;x<d1;x++){if(v.MNDInner){var f1=b[(i+x*_)%b.length];tm.colorPaletteY1[tm.currentM1Index+x*tm.m1Num]=f1;D[i+x*c1]=Z(m);B[i+x*c1]=f1}else{var f1=b[(i*d1+x)%b.length];E[m].colorPaletteY1.push(f1);D.push(Z(m));B.push(f1)}}}if(a){for(var i=0;i<b1;i++){var m=v.measureMapY2[i];if(m===undefined){m=v.defaultModuleType}var tm=E[m];tm.currentM2Index++;for(var x=0;x<d1;x++){if(v.MNDInner){var f1=j[(i+x*b1)%j.length];tm.colorPaletteY2[tm.currentM2Index+x*tm.m2Num]=f1;D[_+i+x*c1]=Z(m);B[_+i+x*c1]=f1}else{var f1=j[(i*d1+x)%j.length];E[m].colorPaletteY2.push(f1);D.push(Z(m));B.push(f1)}}}}}}function L(a,b){return(v.priorityMap[b]-v.priorityMap[a])}function P(){var a=[];for(var i in E){a.push(i)}a.sort(L);A.selectAll('.module').remove();var b=A.selectAll('.module').data(a);b.enter().append('svg:g').attr('class','module');b.exit().remove();b.each(function(d){E[d].d3root=d3.select(this)});for(var i in E){E[i].module=Y(i);var j={colorPalette:E[i].colorPaletteY1,primaryValuesColorPalette:E[i].colorPaletteY1,tooltip:{enabled:false},animation:{'dataLoading':v.animation.dataLoading},drawingEffect:v.drawingEffect};if(E[i].colorPaletteY2){j.secondaryValuesColorPalette=E[i].colorPaletteY2}switch(i){case'horizontalline':j.hoverline={visible:false};O.extend(j,v.line);break;case'bar':case'stackedbar':j.animation.dataUpdating=v.animation.dataLoading;O.extend(j,v.bar);break;default:break}E[i].props=j;E[i].module.dispatch(new G(i));E[i].module.effectManager(w)}}function Q(){P();for(var i in E){var m=E[i];m.module.width(t).height(u).data(m.data).properties(m.props).primaryScale(p.scale).categoryScale(o);var d=y.getMeasureValuesGroupDataByIdx(1);if(d){switch(i){case'bar':case'stackedbar':m.module.secondScale(q.scale);break;case'horizontalline':default:m.module.secondaryScale(q.scale);break}}m.d3root.call(m.module);m.dataPointElements=[];m.d3root.selectAll('.datapoint').each(function(){m.dataPointElements.push(this)})}}function R(a){var b=o.domain().length;var i=a/o.rangeBand();i=Math.floor(i);return b-1-i}function U(){var d=[];var a=0;if(v.MNDOnCategory){if(p.data&&p.data.length>0){a+=p.data[0].length}if(q.data&&q.data.length>0){a+=q.data[0].length}}else{if(p.data&&p.data.length>0){a=p.data[0].length}else{a=q.data[0].length}}for(var i=0;i<a;i++){d.push(i)}o.domain(d).rangeBands([u,0]);V(p,p.scale);V(q,q.scale);if(p.data&&p.data.length>0&&q.data&&q.data.length>0){S.perfectDual(p.scale,q.scale)}}function V(a,b){if(a.data&&a.data.length>0){if(a.topValue==null){var m=a1(a);if(!m)b.domain([0,0]).range([0,t]);else b.domain([m.min,m.max]).range([0,t]).nice()}else{b.domain([a.bottomValue,a.topValue]).range([0,t]).nice()}S.perfect(b)}else{b.domain([0,0]).range(0,0)}}function W(){var a={};a.tooltip.enabled=v.tooltip.enabled;a.primaryValuesColorPalette=v.primaryValuesColorPalette;a.secondaryValuesColorPalette=v.secondaryValuesColorPalette;a.colorPalette=v.colorPalette;a.drawingEffect=v.drawingEffect;a.animation={'dataLoading':v.animation.dataLoading};a.bar={};O.extend(true,a.bar,v.bar);a.line={};O.extend(true,a.line,v.line);return a}function X(a){v.tooltip.enabled=a.tooltip.enabled;v.primaryValuesColorPalette=a.primaryValuesColorPalette;v.secondaryValuesColorPalette=a.secondaryValuesColorPalette;v.drawingEffect=a.drawingEffect;v.colorPalette=a.colorPalette;v.animation={dataLoading:a.animation.dataLoading,};v.bar={};O.extend(true,v.bar,a.bar);v.line={};O.extend(true,v.line,a.line);return v}function Y(m){var a;switch(m){case'stackedbar':a=M.module.get("sap.viz.modules.stackedbar");break;case'bar':a=M.module.get("sap.viz.modules.bar");break;case'horizontalline':default:a=M.module.get("sap.viz.modules.horizontalline");break}return a.fn(a)}function Z(m){var a;switch(m){case'horizontalline':a=v.line.marker.shape;break;case'stackedbar':case'bar':default:a='squareWithRadius';break}return a}function $(a,b){for(var n=0;n<a.length;n++){if(a[n]==b){return true}}return false}function a1(a){if(!a.data||a.data.length==0)return null;var m={min:null,max:null};m.max=d3.max(a.data,function(d){return d3.max(d,function(_){return _.val})});m.min=d3.min(a.data,function(d){return d3.min(d,function(_){return _.val})});if(N.isNoValue(m.max))return null;if(m.min>=0){m.min=0;m.max+=m.max*5/t}else if(m.max<=0){m.max=0;m.min+=m.min*5/t}else{var b=(m.max-m.min)*5/t;m.min-=b;m.max+=b}return m}};return h});sap.riv.module({qname:'sap.viz.base.utils.LinkedHashMap',version:'4.0.0'},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(F){var l=function(b,r){this._lhm=b;this._reverse=r||false;this._count=b._length;this._cursor=this._reverse?this._lhm._last:this._lhm._head;if(this._reverse){this.hasMore=this._hasMoreInReverse}else{this.hasMore=this._hasMoreInOrder}};l.prototype._hasMoreInOrder=function(){if(this._count!==0){if(this._count===this._lhm._length){this._cursor=this._lhm._head}else{this._cursor=this._cursor.next}this._count--;return true}else{return false}};l.prototype._hasMoreInReverse=function(){if(this._count!==0){if(this._count===this._lhm._length){this._cursor=this._lhm._last}else{this._cursor=this._cursor.prev}this._count--;return true}else{return false}};l.prototype.hasMore=F.noop;l.prototype.next=function(){var r={key:this._cursor.key,value:this._cursor.value};return r};l.prototype.nextValue=function(){return this._cursor.value};l.prototype.nextKey=function(){return this._cursor.key};l.prototype.reset=function(){this._count=this._lhm._length};var L=function(){this._map={};this._head=undefined;this._last=undefined;this._length=0};var a=L.prototype;a.add=function(k,v){var m=this._map;var r=null;var n={prev:null,key:k,value:v,next:null};if(!this._length){this._head=this._last=n}if(!m.hasOwnProperty(k)){m[k]=n;this._length++;n.prev=this._last;this._last.next=n;this._last=n;this._last.next=this._head;this._head.prev=this._last}else{r=m[k].value;m[k].value=v}return r};a.addAll=function(b){var i=b.getIterator();var e;while(i.hasMore()){e=i.next();this.add(e.key,e.value)}};a.insertBefore=function(k,v,b){var m=this._map;if(!m.hasOwnProperty(k)&&m.hasOwnProperty(b)){var n={prev:null,key:k,value:v,next:null};var c=m[b];if(c!==this._head){n.prev=c.prev;c.prev.next=n}else{this._head=n;n.prev=this._last}n.next=c;c.prev=n;m[k]=n;this._length++;return v}};a.insertAfter=function(k,v,b){var m=this._map;if(!m.hasOwnProperty(k)&&m.hasOwnProperty(b)){var n={prev:null,key:k,value:v,next:null};var c=m[b];if(c!==this._last){n.next=c.next;c.next.prev=n}else{this._last=n;this._last.next=this._head}c.next=n;n.prev=c;m[k]=n;this._length++;return v}};a.replace=function(k,w,b){var m=this._map;if(!m.hasOwnProperty(w)&&m.hasOwnProperty(k)){var n={prev:null,key:w,value:b,next:null};var r=m[k];n.prev=r.prev;n.next=r.next;r.prev.next=n;r.next.prev=n;if(this._head===r)this._head=n;if(this._last===r)this._last=n;m[w]=n;delete m[k];return r.value}};a.get=function(k){var m=this._map;if(m.hasOwnProperty(k)){return m[k].value}return null};a.getFirstInsert=function(){return this._head?this._head.value:null};a.getLastInsert=function(){return this._last?this._last.value:null};a.moveToLast=function(k){var m=this._map;if(m.hasOwnProperty(k)&&this._last.key!==k){var n=m[k];n.prev.next=n.next;n.next.prev=n.prev;n.prev=this._last;n.next=this._last.next;this._last.next=n;this._last=n;this._head=n.next;this._head.prev=n}};a.moveToFirst=function(k){var m=this._map;if(m.hasOwnProperty(k)&&this._head.key!==k){var n=m[k];n.prev.next=n.next;n.next.prev=n.prev;n.next=this._head;n.prev=this._head.prev;this._head.prev=n;this._head=n;this._last=n.prev;this._last.next=n}};a.has=function(k){var m=this._map;return m.hasOwnProperty(k)};a.remove=function(k){var m=this._map;var r;if(m.hasOwnProperty(k)){var n=m[k];r=n.value;if(n===this._head){this._head=n.next}else if(n===this._last){this._last=n.prev}else{n.prev.next=n.next;n.next.prev=n.prev}delete m[k];this._length--;if(this._length===0){this._head=this._last=undefined}return r}};a.purgeAll=function(){this._map={};this._head=undefined;this._last=undefined;this._length=0};a.isEmpty=function(){return this._length==0};a.length=function(){return this._length};a.getIterator=function(r){return new l(this,r)};return L});sap.riv.module({qname:'sap.viz.util.LogAnalyzer',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.LinkedHashMap',version:'4.0.0'}],function Setup(L){var f;var c={};var a={};var b={};var d=new L();var e=/Chart\[(.+?)\]\sinitializing\./;var g=/Chart\[(.+?)\]application\[(.+?)\]\sinitialized\./;var h=/application\[(.+?)\]component\[(.+?)\]\sinitialized\./;var j=/chartComponent\[(.+?)\]subComponent\[(.+?)\]initialized\./;var k=/layer\[(.+?)\]rendering\send\./;var t=/#(\d+)#/;function l(i){while(i.hasMore()){if(i.nextValue()===-1)return false}return true}function n(q){var m=q[0];var r=q.length;for(var i=1;i<r;i++){m=q[i]>m?q[i]:m}return m}function o(i,m,q,r){return'#'+i+'#'+r}var p={analyze:function(i,q,r,s){if(r!=="perf")return;var u=o(i,q,r,s);var m=e.exec(u);if(m){var v=t.exec(u)[1];c[m[1]]=v;f=f||v;return}m=h.exec(u);if(m){b[m[2]]=m[1];return}m=g.exec(u);if(m){a[m[2]]=m[1];return}m=j.exec(u);if(m){if(!d.has(m[1])){d.add(m[1],new L())}d.get(m[1]).add(m[2],-1);return}m=k.exec(u);if(m){var w=t.exec(u)[1];var x=d.getIterator();while(x.hasMore()){var y=x.next();var z=y.value;if(z.has(m[1])&&z.get(m[1])===-1){z.add(m[1],w);var A=z.getIterator();if(l(A)){A.reset();var B=[];while(A.hasMore()){B.push(A.nextValue())}var C=a[b[y.key]];var D=c[C],E=w;d.remove(y.key);return("chart["+C+"] start time:"+D+" end time:"+E+" time consume["+(E-D)+"] total consume["+(E-f)+"]")}}}}}};return p});sap.riv.module({qname:'sap.viz.base.UADetector',version:'4.0.0'},[],function Setup(){var d=window.devicePixelRatio||1;var v;var s=function(l){for(var i=0;i<l.length;i++){var q=l[i].string;var r=l[i].prop;v=l[i].versionSearch||l[i].identity;if(q){if(q.indexOf(l[i].subString)!=-1){return l[i].identity}}else if(r){return l[i].identity}}};var a=[';',' '];var b=function(q){var r=q.indexOf(v);if(r==-1)return;var t=q.substring(r+v.length+1);var i=0,l=a.length,u=-1;while(u===-1&&i<l)u=t.indexOf(a[i++]);if(u!==-1)t=t.slice(0,u);return t};var c=[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.userAgent,subString:"RIV",versionSearch:"RIV/",identity:"RIV"},{string:navigator.userAgent,subString:"Safari",identity:"Safari",versionSearch:"Version"},{string:navigator.userAgent,subString:"Apple",identity:"UIWebView",versionSearch:"AppleWebKit"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}];var e=[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.platform,subString:"Linux",identity:"Linux"}];var f=[{string:navigator.userAgent,subString:"Presto",identity:"Presto"},{string:navigator.userAgent,subString:"KHTML",identity:"KHTML"},{string:navigator.userAgent,subString:"Gecko",identity:"Gecko"},{string:navigator.userAgent,subString:"Trident",identity:"Trident"},{string:navigator.userAgent,subString:"RivKit",identity:"RivKit"}];var _=s(c)||"An unknown browser",g=b(navigator.userAgent)||b(navigator.appVersion)||"an unknown version",h=s(c)==="Explorer",j=s(c)==='Firefox',k=s(c)==='Chrome',m=s(c)==='Safari',n=s(c)==='UIWebView',o=s(e)||"an unknown OS",p=s(f)||"An unknown RenderEngine";var U={userAgent:function(){return _},version:function(){return g},isIE:function(){return h},isFirefox:function(){return j},isChrome:function(){return k},isSafari:function(){return m},isUIWebView:function(){return n},os:function(){return o},devicePixelRatio:function(){return d},renderEngine:function(){return p}};return(U)});sap.riv.module({qname:'sap.viz.util.TextUtils',version:'4.0.0'},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.UADetector',version:'4.0.0'}],function Setup(T,U){var n="http://www.w3.org/2000/svg";var a;var b=["font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","letter-spacing","word-spacing","alignment-baseline","baseline-shift","dominant-baseline"];var t=[];function g(){if(!a){var s=document.body.appendChild(document.createElementNS(n,"svg"));s.style.cssText="position:absolute;left:-1000px;top:-1000px;z-index:-9000;width:1px;height:1px";a=s.appendChild(document.createElementNS(n,"text"))}return a}function c(d,f){var a=g();if(!f)a.removeAttribute("style");else{if(!T.isString(f)){var h=U.isIE()?f.ownerSVGElement.getComputedStyle(f):getComputedStyle(f);var j="";b.forEach(function(i){var s=h.getPropertyValue(i);if(s!=null)j+=i+":"+s+";"});f=j}a.style.cssText=f}if(d==null)d="";a.textContent=d;return a}function e(d,f,h,j,k){if(h>0){var a=k?g():c(d,(j!=null?j:f));if(a.getComputedTextLength()<=h){f.textContent=d;return}a.textContent="...";h-=a.getComputedTextLength();a.textContent=d;if(h>0){var l=d.length;var i=0;while(++i<l){if(a.getSubStringLength(0,l-i)<=h){f.textContent=d.substring(0,l-i)+"...";f.appendChild(document.createElementNS(f.namespaceURI,"title")).textContent=d;return}}}}f.textContent=""}return{measure:function(d,s){if(d===''){return{width:0,height:0,x:0,y:0}}var f=c(d,s).getBBox();return{width:f.width,height:f.height,x:f.x,y:f.y}},fastMeasure:function(d,f,h,i){var j=d+f+h+i;var k=t[j];if(!k){t[j]=this.measure(d,"font-size:"+f+"; font-weight:"+h+"; font-family:"+i);k=t[j]}return k},ellipsis:function(d,f,m,h){e(d,f,m,h,false)},ellipsisInCircle:function(d,f,r,h){var a=c(d,f);var m=Math.sqrt(Math.pow(r,2)-Math.pow(h+a.getBBox().height/2,2))*2;e(d,f,m,null,true)},verticalCentralOffset:function(d,f){var h=c(d,f);var i=h.getBBox();var j=-i.y;var k=parseInt(h.ownerSVGElement.getComputedStyle(h)["fontSize"]);return(j-(i.height-k))/2}}});sap.riv.module({qname:'sap.viz.modules.axis.DataModule',version:'4.0.0',exported:true},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'}],function Setup(T,N){var r=function(_){var d=null;console.log("reBuildDataModule");return d};return({reBuildDataModule:r,})});sap.riv.module({qname:'sap.viz.base.Repository',version:'4.0.0'},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(){var g=function(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=='x'?r:r&0x3|0x8;return v.toString(16)})};var E={ID_REGISTERED:1,OBJ_REGISTERED:2,ID_NEEDED:3,ID_NOT_REGISTERED:4,OBJ_NULL:5};var a=function(t,p){var c={};c.type=t;switch(t){case E.ID_REGISTERED:c.message="ID '"+p+"' has been registered.";break;case E.OBJ_REGISTERED:c.message="The vizObj has been registered, its Id is '"+p+"'.";break;case E.ID_NEEDED:c.message="Please specify Id";break;case E.ID_NOT_REGISTERED:c.message="No vizObj was registered with Id '"+p+"'";break;case E.OBJ_NULL:c.message="Null object is not allowed";break}return c};var b={};var d=function(i,v){if(!v){throw a(E.OBJ_NULL)}i=i?i:g();if(b[i]){throw a(E.ID_REGISTERED,i)}for(var x in b){if(v==b[x]){throw a(E.OBJ_REGISTERED,x)}}b[i]=v;return i};var u=function(i){if(!i){throw a(E.ID_NEEDED)}if(!b[i]){throw a(E.ID_NOT_REGISTERED,i)}delete b[i]};var e=function(i){if(!i){throw a(E.ID_NEEDED,i)}return b[i]};var f=function(){var i=[];for(var x in b){i.push(x)}return i};var n=function(p){var i=g();return p?p+"_"+i:i};var R={register:d,unregister:u,get:e,getAll:f,newId:n};return R});sap.riv.module({qname:'sap.viz.util.MeasureBasedColoring',version:'4.0.0'},[],function Setup(){var M={getScale:function(m,b,t,s,e){var c=g(m),d=g(b);var h=c>d?c:d;var j=d3.scale.linear().domain([m,b]).range([s,e]).nice();var n=j.domain();n=f(n,h);m=n[0];b=n[1];if(m===b){t=1}var k=b-m,l=[],o,p=0;if(k/t>1){if(k%t===0){o=a(k/t,h+1);p=g(o);for(var i=0;i<t+1;i++){l.push(m+a(i*o,p))}}else{o=Math.ceil(k/t);p=g(o);var q=Math.floor(m/o)*o;if(q===0||(q+o*t<b))q=m;for(var i=0;i<t+1;i++){l.push(q+a(i*o,p))}}}else{q=m,o=a(k/t,h+1);p=g(o);for(var i=0;i<t;i++){l.push(q+a(i*o,p))}l.push(a(b,p))}for(var i=0,r=l.length;i<r;i++){l[i]=a(l[i],p)}j=d3.scale.linear().domain([0,t-1]).range([s,e]);var u=[],v=[];for(var i=0,r=l.length-1;i<r;i++){u.push([l[i],l[i+1]]);v.push(j(i))}var w=d3.scale.ordinal().domain(u).range(v);return w}};var f=function(r,p){for(var i=0,l=r.length;i<l;i++){r[i]=a(r[i],p)}return r};var g=function(v){var t=v.toString().split(".");return t.length>1?t[1].length:0};var a=function(v,p){return Math.round(Math.pow(10,p)*v)/Math.pow(10,p)};return M});sap.riv.module({qname:'sap.viz.modules.tagcloud.wordleLayout',version:'4.0.0'},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'}],function Setup(T,N){var e=function(){var f=300,g=300,k=[],l='';var m=function(){};m.width=function(_){if(!arguments.length)return f;f=_;return m};m.height=function(_){if(!arguments.length)return g;g=_;return m};m.data=function(_){if(!arguments.length)return k;_.sort(function(a,b){if(a.wordSize&&b.wordSize){return b.wordSize.val-a.wordSize.val}});k=_;return m};m.font=function(_){if(!arguments.length)return l;l=_;return m};m.layout=function(){var a=false,b=0;while(!a){a=n(++b)}return m};var n=function(a){var t=k,b,d,h;for(var i=0,j=t.length;i<j;i++){d=t[i];if(N.isNoValue(d.fontSize)){continue}b=T.fastMeasure(t[i].word.val+'i',t[i].fontSize+'px','normal',l);d.width=b.width;d.height=b.height;d.x=undefined;d.y=undefined;d.rect=new r(d.width,d.height);var o;if(!h){var q;if(d.width<=f&&d.height<=g){q=false}else if(d.height<=f&&d.width<=g){q=true}if(q!=null){h=d;if(q)d.rect.rotate();d.rect.position(f/2,g/2);o=true}}else{var s=[];s.push(h);while(s.length!=0){var u=s.shift();if(u.child)u.child.forEach(function(c){if(c)s.push(c)});o=p(d,u,h);if(o)break}}if(o){d.x=d.rect.x;d.y=d.rect.y;d.rotate=d.rect.rotated?90:0}}t.forEach(function(d){delete d.child;delete d.rect});return true};function p(t,a,b){var r=t.rect;var c=a.child;if(!c){c=[];a.child=c}for(var j=0;j<2;j++){if(j==1){r.rotate()}for(var i=0;i<4;i++){if(c[i])continue;var x,y;switch(i){case 0:x=a.x;y=a.rect.y0-r.h/2;break;case 1:y=a.y;x=a.rect.x1+r.w/2;break;case 2:x=a.x;y=a.rect.y1+r.h/2;break;case 3:y=a.y;x=a.rect.x0-r.w/2;break}r.position(x,y);if(r.x0>=0&&r.y0>=0&&r.x1<=f&&r.y1<=g){if(v(r,a,b)){c[i]=t;return true}}}}r.rotate();return false}function v(r,a,b){if(b!=a)if(!r.notInterects(b.rect))return false;for(var i=0,c=b.child,d=c?c.length:0;i<d;i++){if(c[i]&&!v(r,a,c[i]))return false}return true}function r(w,h){this.w=w;this.h=h;this.rotated=false}r.prototype={position:function(x,y){this.x=x;this.y=y;var _=this.w/2,a=this.h/2;this.x0=x-_;this.x1=x+_;this.y0=y-a;this.y1=y+a},notInterects:function(r){return this.x1<=r.x0||this.x0>=r.x1||this.y1<=r.y0||this.y0>=r.y1},rotate:function(){this.rotated=!this.rotated;var t=this.h;this.h=this.w;this.w=t},};return m};return e});sap.riv.module({qname:'sap.viz.modules.tagcloud.columnLayout',version:'4.0.0'},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'}],function Setup(T,N){var c=function(){var w=300,h=300,a=[],f='';var b=function(){};b.width=function(_){if(!arguments.length)return w;w=_;return b};b.height=function(_){if(!arguments.length)return h;h=_;return b};b.data=function(_){if(!arguments.length)return a;a=_;return b};b.font=function(_){if(!arguments.length)return f;f=_;return b};b.layout=function(){e();return b};var e=function(){var t=a;var d,g;for(var i=0,l=t.length;i<l;i++){d=t[i];g=T.fastMeasure(t[i].word.val+'i',t[i].fontSize+'px','normal',f);d.width=g.width;d.height=g.height}var s=0,j=0;for(var i=0,l=t.length;i<l;i++){d=t[i];if(N.isNoValue(t[i].fontSize)){continue}j=j+d.height;d.x=s;d.y=j}};return b};return c});sap.riv.module({qname:'sap.viz.modules.tagcloud.rowLayout',version:'4.0.0'},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'}],function Setup(T,N){var r=function(){var w=300,h=300,c=[],f='';var a=function(){};a.width=function(_){if(!arguments.length)return w;w=_;return a};a.height=function(_){if(!arguments.length)return h;h=_;return a};a.data=function(_){if(!arguments.length)return c;c=_;return a};a.font=function(_){if(!arguments.length)return f;f=_;return a};a.layout=function(){b();return a};var b=function(){var t=c;var d,g;for(var i=0,l=t.length;i<l;i++){d=t[i];g=T.fastMeasure(t[i].word.val+'i',t[i].fontSize+'px','normal',f);d.width=g.width;d.height=g.height}var s=0;var m=t[0].height,j=0,n=0;for(var i=0,l=t.length;i<l;i++){d=t[i];if(N.isNoValue(t[i].fontSize)){continue}if(s+d.width>w){s=0;e(n,i,j+m);n=i;j=j+m;m=t[i].height}if(d.height>m){m=d.height}d.x=s;d.y=j;s=s+d.width}e(n,i,j+m)};var e=function(s,d,n){var A;for(var j=s;j<d;j++){A=c[j];A.y=n}};return a};return r});sap.riv.module({qname:'sap.viz.modules.tagcloud',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.modules.tagcloud.rowLayout',version:'4.0.0'},{qname:'sap.viz.modules.tagcloud.columnLayout',version:'4.0.0'},{qname:'sap.viz.modules.tagcloud.wordleLayout',version:'4.0.0'},{qname:'sap.viz.util.MeasureBasedColoring',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'}],function Setup(T,c,C,R,e,W,M,N,f,t){var g=function(m){var w=400,h=200,j=null,k={},l=[],n=48,o=12,p=undefined,s=[],q=null;var r=f.newId();var u=Number.MAX_VALUE,v=Number.MIN_VALUE,x=false,y=true,z=false;var A={'fontfamily':"'Open Sans', Arial, Helvetica, sans-serif",'color':'#c0c0c0'};var B,D=1;var E=new c('initialized','showTooltip','hideTooltip');var F=null;var G=function(a){a.each(function(){P();if(F==null){F=a.append('rect').attr('fill','rgba(133,133,133, 0.2)').style('visibility','hidden')}else{F.attr('width',0).attr('height',0).attr('x',0).attr('y',0).style('visibility','hidden')}var b=I();j=d3.select(this);if(z&&!j.selectAll('g.word').empty()){j.selectAll('g.word').remove()}j.attr('style','cursor:default');var Q=j.selectAll('g.word').data(b,function(d,i){return(d.word?d.word.val:"")+" "+(d.wordFontFamily?d.wordFontFamily.val:"")+" "+(d.wordSize?d.wordSize.val:"")});Q.selectAll('text').data(function(d,i){return d}).text(function(d,i){return d.word.val});var S=Q.enter().append('g').attr('class','word').append('text').text(function(d,i){return d.word.val}).attr('id',function(d,i){return'TAG_ID_'+i+r}).attr('class','datapoint').attr('visibility',function(d,i){var U='visible';if(N.isNoValue(d.fontSize)||d.x===undefined||d.y===undefined){U='hidden'}return U}).attr('font-size',function(d,i){return d.fontSize}).attr('fill',function(d,i){var U;if(p&&d.wordFontFamily!=null&&d.wordFontFamily.val!==null){var i,V,X=p.domain();for(i=0,V=X.length-1;i<V;i++){if(d.wordFontFamily.val!=null&&(X[i][1]>d.wordFontFamily.val)){break}}U=p(X[i])}else{U=A.color}var Y={fillColor:U,drawingEffect:"normal"};return q.register(Y)}).attr('font-family',A.fontfamily).attr('text-anchor',function(){if(B.layout==='Wordle'){return'middle'}else{return'start'}});Q.exit().attr('transform','translate(-1000, -1000)');Q.selectAll('text').attr('fill-opacity',D);if(B.animation.dataLoading){Q.transition().attr('transform',function(d,i){var U='';if(d.x!==undefined&&d.y!==undefined&&d.y<h&&d.x<w){U='translate('+[d.x,d.y]+')'}else{U='translate(-1000, -1000)'}if(d.rotate){U=U+" rotate("+d.rotate+")"}return U}).duration(800).delay(100).each('end',function(d,i){var U='';if(d.x!==undefined&&d.y!==undefined&&d.y<h&&d.x<w){U='translate('+[d.x,d.y]+')'}else{U='translate(-1000, -1000)'}if(d.rotate){U=U+" rotate("+d.rotate+")"}this.setAttribute('transform',U);if(i===b.length-1){E.initialized()}})}else{Q.attr('transform',function(d,i){var U='';if(d.x!==undefined&&d.y!==undefined){U='translate('+[d.x,d.y]+')'}else{U='translate(-1000, -1000)'}if(d.rotate){U=U+" rotate("+d.rotate+")"}return U});E.initialized()}})};G.width=function(_){if(!arguments.length){return w}w=_;return G};G.height=function(_){if(!arguments.length){return h}h=_;return G};G.data=function(_){if(!arguments.length){return k}var d={};d.words=_.getAnalysisAxisDataByIdx(0).values[0];var a=_.getMeasureValuesGroupDataByIdx(0);if(a&&_.getMeasureValuesGroupDataByIdx(0).values.length>0){d.wordsSize=_.getMeasureValuesGroupDataByIdx(0).values[0]}else{d.wordsSize=undefined}var b=_.getMeasureValuesGroupDataByIdx(1);if(b&&b.values.length>0){d.wordsFontFamily=_.getMeasureValuesGroupDataByIdx(1).values[0]}else{d.wordsFontFamily=undefined;p=undefined}K(d);z=H(d);k=d;return G};G.properties=function(a){if(!arguments.length){return B}B=m.props(a);y=B.tooltip.enabled;if(p){O(u,v,x)}return G};G.dispatch=function(_){if(!arguments.length)return E;E=_;return G};G.colorPalette=function(_){if(!arguments.length){return colorPalette}colorPalette=_;return G};G.mbcLegendInfo=function(){var a=k.wordsFontFamily?k.wordsFontFamily.col:'';return{'colorScale':p,'title':a}};G.parent=function(){return j};G.highlight=function(a){if(a instanceof Array){for(var i=0,b=a.length;i<b;i++){a[i].setAttribute('fill-opacity',1)}}else{a.setAttribute('fill-opacity',1)}};G.unhighlight=function(a){if(a instanceof Array){for(var i=0,b=a.length;i<b;i++){a[i].setAttribute('fill-opacity',0.2)}}else{a.setAttribute('fill-opacity',0.2)}};G.clear=function(a){if(a==null){j.selectAll('.datapoint').attr('fill-opacity',1);D=1}else{j.selectAll('.datapoint').attr('fill-opacity',0.2)}};G.mouseover=function(a){var i=d3.select(d3.event.target);var b=i.attr('id');if(b&&y){var d=J(i.datum());var Q=j.node().getTransformToElement(j.node().ownerSVGElement);var S=j.node().ownerSVGElement.getBoundingClientRect();var U=i.node().getBoundingClientRect(),V=j.node().getBoundingClientRect();F.attr('width',U.width).attr('height',U.height).attr('x',U.left-V.left).attr('y',U.top-V.top).style('visibility','visible');d.point={x:U.left-S.left+U.width/2,y:U.top-S.top};d.plotArea={x:Q.e,y:Q.f,width:w,height:h};E.showTooltip(t.formatTooltipData(d))}};G.mouseout=function(){F.attr('width',0).attr('height',0).attr('x',0).attr('y',0).style('visibility','hidden');if(y){E.hideTooltip()}};G.getDatapointsByRange=function(a){var d=d3.selectAll('.datapoint')[0],b=[],Q=a.ctx.ranges,S;for(var i=0,U=d.length;i<U;i++){S=d[i].__data__.wordFontFamily.val;if(N.isNoValue(a.val)){if(N.isNoValue(S)){b.push(d[i])}}else{if(S<Q.endValue&&S>Q.startValue){b.push(d[i])}else{if(!Q.isLeftOpen&&S===Q.startValue){b.push(d[i])}else if(!Q.isRightOpen&&S===Q.endValue){b.push(d[i])}}}}return b};G.effectManager=function(_){if(!arguments.length){return q}q=_;return G};var H=function(a){var b=k,z=false;if(b.words&&a.words){if(b.words.rows.length!=a.words.rows.length){z=true}else if((b.wordsFontFamily&&!a.wordsFontFamily)||(!b.wordsFontFamily&&a.wordsFontFamily)){z=true}else{var d=b.words.rows,Q=a.words.rows;for(var i=0,S=d.length;i<S;i++){if(d[i].val!==Q[i].val){z=true;break}}}}return z};var I=function(){var a=[],b;for(var i=0,d=l.length;i<d;i++){b=l[i];if(!(N.isNoValue(b.fontSize)||b.x===undefined||b.y===undefined||b.y>h||b.x>w)){a.push(b)}}return a};var J=function(d){var a={body:[],footer:[]};if(k.wordsSize){a.body.push({name:k.wordsSize.col,val:[{value:d.wordSize.val}]})}if(k.wordsFontFamily){a.body.push({name:k.wordsFontFamily.col,val:[{value:d.wordFontFamily.val}]})}if(k.words){a.footer.push({label:k.words.col.val,value:d.word.val})}return a};var K=function(d){l=[];var a=undefined,b=undefined,Q;u=undefined,v=undefined,x=false;for(var i=0,S=d.words.rows.length;i<S;i++){l[i]={};l[i].word=d.words.rows[i];l[i].wordSize=(d.wordsSize?d.wordsSize.rows[0][i]:undefined);l[i].wordFontFamily=(d.wordsFontFamily?d.wordsFontFamily.rows[0][i]:undefined);l[i].val=[d.words.rows[i].val];l[i].ctx=[d.words.rows[i].ctx];if(l[i].word&&l[i].word.val===null){l[i].word.val='Null'}if(l[i].wordSize){l[i].val.push(d.wordsSize.rows[0][i].val);l[i].ctx.push(d.wordsSize.rows[0][i].ctx);if(l[i].wordSize.val!==null){if(a===undefined||l[i].wordSize.val<a){a=l[i].wordSize.val}if(b===undefined||l[i].wordSize.val>b){b=l[i].wordSize.val}}}if(l[i].wordFontFamily){l[i].val.push(l[i].wordFontFamily.val);l[i].ctx.push(l[i].wordFontFamily.ctx);Q=l[i].wordFontFamily.val;if(Q===null){x=true}else{if(u===undefined||Q<u){u=l[i].wordFontFamily.val}if(v===undefined||Q>v){v=l[i].wordFontFamily.val}}}}L(a,b);if(d.wordsFontFamily){O(u,v,x)}else{p=undefined}};var L=function(d,Q){var S=l.length;var a,b,U;if(d==0){d=1;Q+=1}if(S>1){b=(n-(o*(Q/d)))/(1-(Q/d));a=(o-b)/d}else{b=0;a=n/(d<0?-d:d)}for(var i=0,V=l.length;i<V;i++){if(l[i].wordSize&&d!=Q){U=Math.round(a*l[i].wordSize.val+b)}else{U=o}l[i].fontSize=(l[i].wordSize.val===null)?null:U}};var O=function(a,b,x){if(a===undefined&&b===undefined){p=d3.scale.ordinal().domain([[]]).range([A.color])}else{p=M.getScale(a,b,5,B.startColor,B.endColor);if(x){var d=p.domain();var i=p.range();d.push([]);i.push(A.color)}}};var P=function(){var a=undefined;if(B.layout==='Column'){a=e()}else if(B.layout==='Row'){a=R()}else if(B.layout==='Wordle'){a=W()}if(a!==undefined){var b=(new Date()).valueOf();a.width(w).height(h).data(l).font(A.fontfamily).layout();var d=(new Date()).valueOf()}};B=m.props(null);return G};return g});sap.riv.module({qname:'sap.viz.modules.background',version:'4.0.0',exported:true},[{qname:'sap.viz.base.Repository',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'}],function Setup(R,a){return function(m){var C='viz-plot-background-border',b='viz-plot-background';var r=R.newId();var w=0,h=0;var e,p,c;var f=new a('initialized');function g(s){c=s;if(p.visible){var k=c.select('#'+'background-rect-'+r);if(k.empty()){k=c.append('svg:rect').attr('id','background-rect-'+r)}var l=e.register({graphType:'background',fillColor:p.style.fillColor,drawingEffect:p.drawingEffect,direction:p.direction,});k.attr('x',0).attr('y',0).attr('width',w).attr('height',h).attr('fill',l);var n=[];if(p.border.left.visible){n.push({x1:0,y1:0,x2:0,y2:h,})}if(p.border.right.visible){n.push({x1:w,y1:0,x2:w,y2:h,})}if(p.border.top.visible){n.push({x1:0,y1:0,x2:w,y2:0,})}if(p.border.bottom.visible){n.push({x1:0,y1:h,x2:w,y2:h,})}i();var o=s.selectAll("."+C).data(n);o.enter().append('svg:line').attr('class',C);o.exit().remove();o.attr('x1',function(d){return d.x1}).attr('y1',function(d){return d.y1}).attr('x2',function(d){return d.x2}).attr('y2',function(d){return d.y2})}else{c.remove()}f.initialized();return g}g.properties=function(_){if(!arguments.length){return p}p=m.props(_);j();return g};g.size=function(_){if(arguments.length==0)return{"width":w,"height":h,};w=_.width;h=_.height;return g};g.width=function(_){if(arguments.length==0)return w;w=_;return g};g.height=function(_){if(arguments.length==0)return h;h=_;return g};g.data=function(_){if(!arguments.length){return{}}return g};g.parent=function(){return null};g.effectManager=function(_){if(!arguments.length){return e}e=_;return g};g.dispatch=function(_){if(!arguments.length)return f;f=_;return g};g.properties(null);return g;function i(){var d=c.select('#'+'background-defs-'+r);if(d.empty()){d=c.insert('defs',':first-child').attr('id','background-defs-'+r)}var k=d.select('style');if(k.empty()){k=d.insert('style',':first-child');k[0][0].setAttribute('type','text/css')}var l='.'+C+'{'+m.cssText(C)+'}';k[0][0].textContent=l}function j(){if(!p.style)p.style={};var d;if(d=m.style(b)){if(d['fill']){p.style.fillColor=d['fill']}}}}});sap.riv.module({qname:'sap.viz.config',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(F){var c={};var e=false;var m={constructor:function(){return},enableCanvg:function(_){if(!arguments.length){return e}e=_;return m},register:function(o){if(c[o.id]){return}c[o.id]=o.value;return m},get:function(i){if(c[i]){return c[i]}}};return m});sap.riv.module({qname:'sap.viz.base.Logger',version:'4.0.0'},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(F){var n=F.noop;Date.now=Date.now||function(){return+new Date()};var d=0;function c(a){var l,e,x,y,z;if(k[0].length>0){if(a){z=a.getLevel();for(var i=0,B=k[0].length;i<B;i++){l=k[0][i];e=k[1][i];x=k[2][i];y=k[3][i];if(k[1][i]>=z)a.doAppend(l,e,x,y)}return}var E={};for(var G in w){if(w.hasOwnProperty(G)){E[G]=w[G].getLevel()}}while(k[0].length){l=k[0].shift();e=k[1].shift();x=k[2].shift();y=k[3].shift();for(G in w){if(w.hasOwnProperty(G)){a=w[G];if(e>=E[G])a.doAppend(l,e,x,y)}}}return}else if(++d===3)r()}function b(){c();if(!p)setTimeout(function(){b()},100)}var C=function(){this.threshold=L.LEVEL.INFO;this.layout=new L.DefaultLayout();this.print=typeof console!==undefined?function(a){console.log(a)}:n};C.prototype={doAppend:function(l,a,e,i){this.print(this.layout.format(l,a,e,i))},setLayout:function(l){l.format&&(this.layout=l)},getLevel:function(){return this.threshold},setLevel:function(l){this.threshold=l}};var D=function(){};D.prototype.format=function(l,a,e,i){return"["+l+"]"+"["+h(a)+"]"+"["+(e||"main")+"]-"+i};var f=function(a){if(!$){throw"need jQuery"}this.threshold=L.LEVEL.INFO;this.divSl=$(a);this.layout=new H()};f.prototype={getLevel:function(){return this.threshold},setLevel:function(l){this.threshold=l},doAppend:function(l,a,e,i){this.divSl.append(this.layout.format(l,a,e,i))}};var H=function(){};H.prototype={getStyle:function(l){var a;if(l===L.LEVEL.ERROR){a='color:red'}else if(l===L.LEVEL.WARN){a='color:orange'}else if(l===L.LEVEL.DEBUG){a='color:green'}else if(l===L.LEVEL.TRACE){a='color:green'}else if(l===L.LEVEL.INFO){a='color:grey'}else{a='color:yellow'}return a},format:function(l,a,e,i){return"<div style=\""+this.getStyle(a)+"\">["+l+"]"+"["+h(a)+"]["+(e||"main")+"]-"+i+"</div>"}};var g=function(){this.array=[]};g.prototype={push:function(a){this.array[this.array.length]=a;return this.array.length},pull:function(){if(this.array.length>0){var a=this.array[0];for(var i=0;i<this.array.length-1;i++){this.array[i]=this.array[i+1]}this.array.length=this.array.length-1;return a}return null},length:function(){return this.array.length}};var A=function(a){this.loggingUrl=a;this.isInProgress=false;this.threshold=L.LEVEL.INFO;this.bufferSize=20;this.timeout=2000;this.loggingEventMap=[];this.layout=new L.JSONLayout();this.httpRequest=null;this.timer=undefined};function t(){var a=this;if(this.isInProgress===true){setTimeout(function(){t.call(a)},100)}else{this.send()}}A.prototype={getLevel:function(){return this.threshold},setLevel:function(l){this.threshold=l},doAppend:function(l,a,e,i){this.loggingEventMap.push([l,a,e,i]);if(this.loggingEventMap.length<=this.bufferSize||this.isInProgress===true){var x=this;if(this.timer===undefined){this.timer=setTimeout(function(){t.call(x)},100)}}if(this.loggingEventMap.length>=this.bufferSize&&this.isInProgress===false){if(this.timer!==undefined)clearTimeout(this.timer);this.send()}},send:function(){if(this.loggingEventMap.length>0){this.isInProgress=true;var a=[];var l;for(var i=0,x=this.loggingEventMap.length;i<x&&i<this.bufferSize;i++){l=this.loggingEventMap.shift();a.push(this.layout.format(l[0],l[1],l[2],l[3]))}var y=this.layout.getHeader();y+=a.join(this.layout.getSeparator());y+=this.layout.getFooter();var z=this;if(this.httpRequest===null){this.httpRequest=this.getXmlHttpRequest()}this.httpRequest.onreadystatechange=function(){z.onReadyStateChanged.call(z)};this.httpRequest.open("POST",this.loggingUrl,true);this.httpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded");this.httpRequest.setRequestHeader("Content-length",y.length);this.httpRequest.send(y);z=this;try{setTimeout(function(){z.httpRequest.onreadystatechange=function(){};z.httpRequest.abort();z.isInProgress=false;if(z.loggingEventMap.length>0){z.send()}},this.timeout)}catch(e){}}},onReadyStateChanged:function(){var a=this.httpRequest;if(this.httpRequest.readyState!==4){return}var e=((typeof a.status==="undefined")||a.status===0||(a.status>=200&&a.status<300));if(e){this.isInProgress=false}else{}},getXmlHttpRequest:function(){var a=false;try{if(window.XMLHttpRequest){a=new XMLHttpRequest();if(a.overrideMimeType){a.overrideMimeType(this.layout.getContentType())}}else if(window.ActiveXObject){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){a=new ActiveXObject("Microsoft.XMLHTTP")}}}catch(e){a=false}if(!a){throw"browser don't support AJAX"}return a}};var J=function(){};J.prototype={format:function(l,a,e,i){var x="{\n \"LoggingEvent\": {\n";x+="\t\"category\": \""+(e||"main")+"\",\n";x+="\t\"level\": \""+h(a)+"\",\n";x+="\t\"message\": \""+i+"\",\n";x+="\t\"timestamp\": \""+l+"\"\n";x+="}\n}";return x},getContentType:function(){return"text/json"},getHeader:function(){var a="unknown";try{a=navigator.userAgent}catch(e){a="unknown"}var i="unknown";try{i=location.href}catch(e){i="unknown"}return"{"+"\"ClientInfo\" : {\n"+"\t\"useragent\": \""+a+"\",\n"+"\t\"referer\": \""+i+"\"\n},\n"+"\"VizLogger\": [\n"},getFooter:function(){return"\n]}"},getSeparator:function(){return",\n"}};var X=function(){};X.prototype={format:function(l,a,e,i){var x="<vizLogger:event category=\"";x+=(e||"main")+"\" level=\"";x+=h(a)+"\" timestamp=\"";x+=l+"\">\n";x+="\t<vizLogger:message><![CDATA["+this.escapeCdata(i)+"]]></vizLogger:message>\n";x+="</vizLogger:event>";return x},getContentType:function(){return"text/xml"},getHeader:function(){var a="unknown";try{a=navigator.userAgent}catch(e){a="unknown"}var i="unknown";try{i=location.href}catch(e){i="unknown"}return"<vizLogger:eventSet useragent=\""+a+"\" referer=\""+i.replace(/&/g,"&amp;")+"\">\n"},getFooter:function(){return"</vizLogger:eventSet>\n"},getSeparator:function(){return"\n"},escapeCdata:function(a){return a.replace(/\]\]>/,"]]>]]&gt;<![CDATA[")}};function h(l){switch(l){case L.LEVEL.TRACE:return"TRACE";case L.LEVEL.DEBUG:return"DEBUG";case L.LEVEL.INFO:return"INFO";case L.LEVEL.WARN:return"WARN";case L.LEVEL.ERROR:return"ERROR"}}var j=false;var p=false;var k=[[],[],[],[]];var M=2000;var m=function(l,a,e){if(k[0].length===M)c();k[0].push(Date.now());k[1].push(l);k[2].push(a);k[3].push(e.toString())};var o=function(l,a,e){s();m(l,a,e)};var q=n;var r=function(){p=true;q=o};var s=function(){p=false;q=m;setTimeout(function(){b()},100)};var u=0;var v=function(){return u++};var w={};var L={LEVEL:{TRACE:5000,DEBUG:10000,INFO:20000,WARN:30000,ERROR:40000,NO:Number.MAX_VALUE},isEnabled:function(){return j},enable:function(){q=m;j=true;setTimeout(function(){b()},100)},disable:function(){c();q=n;j=false},toggleEnable:function(){if(j)this.disable();else this.enable()},addAppender:function(){var _=v();var a,e;if(arguments.length===1){a=_;e=arguments[0]}else if(arguments.length>=2){a=arguments[0];e=arguments[1]}if(typeof e==="object"&&e.doAppend){if(w[a]!==undefined)return;c();w[a]=e;return a}},setAppenders:function(a){w=[];for(var i=0,l=a.length;i<l;i++){var e=a[i];if(e.appenderKey)this.addAppender(e.appenderKey,e.appender);else this.addAppender(e.appender)}},removeAppender:function(a){if(w[a]===undefined)return false;c(w[a]);return(delete w[a])},getAppender:function(a){return w[a]},ConsoleAppender:C,DivAppender:f,AjaxAppender:A,DefaultLayout:D,HTMLLayout:H,XMLLayout:X,JSONLayout:J,trace:function(a,e){q(L.LEVEL.TRACE,e,a)},debug:function(a,e){q(L.LEVEL.DEBUG,e,a)},info:function(a,e){q(L.LEVEL.INFO,e,a)},warn:function(a,e){q(L.LEVEL.WARN,e,a)},error:function(a,e){q(L.LEVEL.ERROR,e,a)}};w["[default]"]=new L.ConsoleAppender();return L});sap.riv.module({qname:'sap.viz.env',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.Logger',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.config',version:'4.0.0'}],function Setup(T,L,a,c){var _=function(f){if(T.isExist(f)){L.setLevel(f)}};var b=function(o){if(!o)return;if(o.enable)L.enable();if(!o.appenders)return;for(var i=0,l=o.appenders.length;i<l;i++){var f=o.appenders[i];if(f.appenderKey)L.addAppender(f.appenderKey,f.appender);else L.addAppender(f.appender)}};var d=function(o,f){a.apply(o.locale,f)};var e={constructor:function(){},initialize:function(o,f){if(!o)return;b(o.log);if(o.locale){d(o,f)}else{if(f)f.call()}c.enableCanvg(o.enableCanvg)},setLoggerEnable:function(f){if(f===true)L.enable();else if(f===false)L.disable()},addLogAppender:function(){if(arguments.length===1)return L.addAppender(arguments[0]);else if(arguments.length===2)return L.addAppender(arguments[0],arguments[1])},removeLogAppender:function(k){return L.removeAppender(k)},};return e});sap.riv.module({qname:'sap.viz.modules.layout',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'}],function Setup(T){return function(s){var d={resize:true,type:'grid',padding:[0,0,0,0],hgap:0,vgap:0};var h=s.hgap||d.hgap,v=s.vgap||d.vgap,p=s.padding||d.padding,b=s.bias||'none';var l;switch(s.type){case'border':a(s.prefs);break;case'grid':g(s.prefs);break;case'table':t();break;default:g(s.prefs)}function a(o){l={};var c={};c.width=s.size.width-p[1]-p[3];c.height=s.size.height-p[0]-p[2];var m=p[3],e=p[0],f=s.size.width-p[1],k=s.size.height-p[2];var q=new Array,i;if(b instanceof Array){q[0]=b[0];q[1]=b[1];q[2]='north';q[3]='south'}else{switch(b){case'west':q[0]='west';q[1]='north';q[2]='south';q[3]='east';break;case'east':q[0]='east';q[1]='north';q[2]='south';q[3]='west';break;default:q[0]='north';q[1]='south';q[2]='east';q[3]='west'}}q[4]='center';for(i=0;i<q.length;i++){n(q[i])}function n(r){function u(C){if(arguments.length<2){return 0}var D=Array.prototype.slice.apply(arguments).slice(1);var E=[];for(var i=0;i<D.length;i++){if(D[i].length>1){E[i]=D[i].slice(1);E[i].push(D[i][0])}}var F=0;var G=0;for(var i=0;i<E[0].length;i++){for(var j=0;j<E.length;j++){G+=E[j][i]}if(G>C){return F}F+=E[0][i]}return F}var w={},x={};if(r==='north'&&o.north){w=l.north={};x=o.north.size;var y=x.height;var z=y;if(x.spacings&&o.south&&o.south.size.spacings){z+=o.south.size.height}if(x.maxSizeConstant&&z>c.height*x.maxSizeConstant){if(x.hideOversize){y=0}else if(x.spacings){if(o.south&&o.south.size.spacings){y=u(c.height*x.maxSizeConstant,x.spacings,o.south.size.spacings)}else{y=u(c.height*x.maxSizeConstant,x.spacings)}}else{y=c.height*x.maxSizeConstant}}w.bounds={x:m,y:e,width:f-m,height:y};e+=(w.bounds.height+h);if(w.bounds.height==0){l.north=null}}if(r==='east'&&o.east){w=l.east={};x=o.east.size;var A=x.width;var B=A;if(x.spacings&&o.west&&o.west.size.spacings){B+=o.west.size.width}if(x.maxSizeConstant&&B>c.width*x.maxSizeConstant){if(x.hideOversize){A=0}else if(x.spacings){if(o.west&&o.west.size.spacings){A=u(c.width*x.maxSizeConstant,x.spacings,o.west.size.spacings)}else{A=u(c.width*x.maxSizeConstant,x.spacings)}}else{A=c.width*x.maxSizeConstant}}if(A<x.minWidth){A=0}w.bounds={x:f-A,y:e,width:A,height:k-e};if(w.bounds.height<x.minHeight){w.bounds.width=0}f-=(w.bounds.width-v);if(w.bounds.width==0){l.east=null}}if(r==='south'&&o.south){w=l.south={};x=o.south.size;var y=x.height;var z=y;if(x.spacings&&o.north&&o.north.size.spacings){z+=o.north.size.height}if(x.maxSizeConstant&&z>c.height*x.maxSizeConstant){if(x.hideOversize){y=0}else if(x.spacings){if(o.north&&o.north.size.spacings){y=u(c.height*x.maxSizeConstant,x.spacings,o.north.size.spacings)}else{y=u(c.height*x.maxSizeConstant,x.spacings)}}else{y=c.height*x.maxSizeConstant}}w.bounds={x:m,y:(k-y)<e?e:(k-y),width:f-m};w.bounds.height=y;k-=(w.bounds.height-h);if(w.bounds.height==0){l.south=null}}if(r==='west'&&o.west){w=l.west={};x=o.west.size;var A=x.width;var B=A;if(x.spacings&&o.east&&o.east.size.spacings){B+=o.east.size.width}if(x.maxSizeConstant&&B>c.width*x.maxSizeConstant){if(x.hideOversize){A=0}else if(x.spacings){if(o.east&&o.east.size.spacings){A=u(c.width*x.maxSizeConstant,x.spacings,o.east.size.spacings)}else{A=u(c.width*x.maxSizeConstant,x.spacings)}}else{A=c.width*x.maxSizeConstant}}w.bounds={x:m,y:e,width:A,height:(e+x.height)>k?k:(e+x.height)};m+=(w.bounds.width+v);if(w.bounds.width==0){l.west=null}}if(r==='center'&&o.center){w=l.center={};w.bounds={x:m,y:e,width:f-m,height:k-e}}}}function g(o){}function t(o){l=[];var c=T.isExist(s.columns)?s.columns:3;var r=T.isExist(s.rows)?s.rows:2;var e=T.isExist(s.cellpadding)?s.cellpadding:5;var f=T.isExist(s.paddingThreshold)?s.paddingThreshold:0.1;var i={};i.width=s.size.width-p[1]-p[3];i.height=s.size.height-p[0]-p[2];var j=i.width/c;var k=i.height/r;if(e>j*f||e>k*f){e=2}var m=(i.width-2*c*e)/c;m=m>0?m:0;var n=(i.height-2*r*e)/r;n=n>0?n:0;var q=p[3],u=p[0],w=s.size.width-p[1],x=s.size.height-p[2];for(var y=0;y<c;y++){var z=[];for(var A=0;A<r;A++){var B={};B.bounds={x:y*j+j/2-m/2,y:A*k+k/2-n/2,width:m,height:n};z.push(B)}l.push(z)}}return l}});sap.riv.module({qname:'sap.viz.data.description.AnalysisAxis',version:'4.0.0',exported:true},[{qname:'sap.viz.data.description.DimensionLabels',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(D,F){var A=function(d){this._dimensionLabels=new Array();this.init(d)};A.prototype.init=function(d){for(var i=0;i<d.length;i++){this._dimensionLabels[i]=new D(d[i]["name"],d[i]["type"]?d[i]["type"]:"Dimension",d[i]["values"]);this._dimensionLabels[i].fake(d[i]["isFake"]?d[i]["isFake"]:false);this._dimensionLabels[i].infos(d[i]["infos"]?d[i]["infos"]:null)}};A.prototype.getDimensionLabels=function(){return this._dimensionLabels};A.prototype.getType=function(){return"analysisAxis"};A.prototype.validate=function(){var l=1;var d=this.getDimensionLabels();for(var i=0;i<d.length;i++){if(i==0){l=d[i].getValues().length;if(d[i].infos()!=null&&l!=d[i].infos().length){F.error(d[i].getId()+" wrong infos count")}}else{if(l!=d[i].getValues().length)F.error(d[i].getId()+" wrong dimension labels count");if(d[i].infos()!=null&&l!=d[i].infos().length){F.error(d[i].getId()+" wrong infos count")}}}return l};A.prototype.hasFakeData=function(){var d=this.getDimensionLabels();for(var i=0;i<d.length;i++){if(d[i].fake())return true}return false};return A});sap.riv.module({qname:'sap.viz.data.handler.MeasureDataHandler',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(F){var M={makeMeasureValues:function(c,m,a,b,d){var v=[];for(var i=0;i<m.values.length;i++){if(d&&i!=c.path.mi)continue;var e={};var f=m.values[i];var r=f["rows"];e["col"]=f["col"];if(c)e["rows"]=this.createMeasureValues(c,r,a,b);else e["rows"]=this.createMeasureValuesWithoutCtx(r,a,b);v.push(e)}return v},createMeasureValuesWithoutCtx_1_2:function(r,a){var v=[];if(a[0]==1){var b=[];for(var j=0;j<r[0].length;j++){b.push(r[0][j])}v.push(b)}else if(a[0]==2){for(var j=0;j<r[0].length;j++){var b=[];b.push(r[0][j]);v.push(b)}}else{F.error("Not supported")}return v},createMeasureValuesWithoutCtx_1_3:function(r,a){var v=[];if(a[0]==1){var b=[];for(var j=0;j<r[0].length;j++){b.push(r[0][j])}v.push([b])}else if(a[0]==2){var b=[];for(var j=0;j<r[0].length;j++){b.push([r[0][j]])}v.push(b)}else if(a[0]==3){for(var j=0;j<r[0].length;j++){var b=[];b.push([r[0][j]]);v.push(b)}}else{F.error("Not supported")}return v},createMeasureValuesWithoutCtx:function(r,a,m){if(a.length==1){if(m==1||m==2){return this.createMeasureValuesWithoutCtx_1_2(r,a)}else if(m==3){return this.createMeasureValuesWithoutCtx_1_3(r,a)}else{F.error("Not supported")}}else if(a.length==2){if(m==2)return r;else if(m==3){return this.createMeasureValues_2_3(r,a)}else{F.error("Not supported")}}else{F.error("Not supported")}return values},createMeasureValues_1_2:function(c,r,a){var v=[];if(a[0]==1){var b=[];for(var j=0;j<r.length;j++){b.push(r[j][c.path.dii])}v.push(b)}else if(a[0]==2){for(var j=0;j<r.length;j++){var b=[];b.push(r[j][c.path.dii]);v.push(b)}}else{F.error("Not supported")}return v},createMeasureValues_1_3:function(c,r,a){var v=[];if(a[0]==1){var b=[];for(var j=0;j<r.length;j++){b.push(r[j][c.path.dii])}v.push([b])}else if(a[0]==2){var b=[];for(var j=0;j<r.length;j++){b.push([r[j][c.path.dii]])}v.push(b)}else if(a[0]==3){for(var j=0;j<r.length;j++){var b=[];b.push([r[j][c.path.dii]]);v.push(b)}}else{F.error("Not supported")}return v},createMeasureValues:function(c,r,a,m){var v=[];if(a.length==1){if(m==1||m==2){return this.createMeasureValues_1_2(c,r,a)}else if(m==3){return this.createMeasureValues_1_3(c,r,a)}else{F.error("Not supported")}}else if(a.length==2){if(m==2)return r;else if(m==3){return this.createMeasureValues_2_3(r,a)}else{F.error("Not supported")}}else{F.error("Not supported")}return v},createMeasureValues_2_3:function(r,a){if(a[0]==1&&a[1]==2){return[r]}else if(a[0]==1&&a[1]==3){var v=[];for(var i=0;i<r.length;i++){v.push([r[i]])}return v}else if(a[0]==2&&a[1]==3){var v=[];for(var i=0;i<r.length;i++){var b=[];var c=r[i];for(var j=0;j<c.length;j++){var d=c[j];b.push([d])}v.push(b)}return v}else{F.error("Not supported")}}};return M});sap.riv.module({qname:'sap.viz.modules.legend.mbcLegendArea',version:'4.0.0'},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'}],function Setup(T,l){var m=function(b){var w=400,c=200,v={'fontfamily':"'Open Sans', Arial, Helvetica, sans-serif",'fontsize':'12px','fontweight':'normal','color':'#333333'},e=undefined,f=[],g={width:18,height:20},k=10,p=1,s=[],n='selectionMode',o={markerPaddingRight:0.5,paddingTop:1,maxValueSpace:1.6,minValueSpace:0.5,minMarkerHeight:10,space:0},q=-1,t=20,r=false,u=l.get('IDS_ISNOVALUE');var z=null;var A=function(a){a.each(function(){G();E();var h=e,x,y=0,H='visible';var I=d3.select(this);var J=I.selectAll('rect.indicatedRect');if(J.empty()){J=I.append('rect').attr('class','indicatedRect')}J.attr('visibility','hidden').attr('width',g.width+8).attr('height',g.height+2);var K=I.selectAll('g.row').data(h,function(d,i){return d.val});K.exit().remove();var L=K.enter().append('g').attr('class','row');L.append('rect').attr('class',function(d,i){return'marker ID_'+i});L.append('text');var M=K.selectAll('rect.marker').attr('width',g.width).attr('height',g.height);var N,O;for(var j=0,P=M.length;j<P;j++){y=(g.height+p)*((q!=-1)?(j-1):j);if(h[j].val==='N/A'){y=(g.height+p)*(P>1?P:0)}M[j][0].setAttribute('y',y);N={drawingEffect:'normal',fillColor:f[h.length-j-1],};O=z.register(N);M[j][0].setAttribute('fill',O)}x=K.selectAll('text').text(function(d,i){var S=d.val;if(S==='N/A')S=u;return S}).attr('x',g.width+k);y=0;for(var j=0,P=x.length;j<P;j++){y=g.height*((q!=-1)?j:(j+1))+t/2;if(h[j].val==='N/A'){y=(g.height+p)*(P>1?P:0)+t/2+g.height/2}if(r&&j!==P-1&&(h[j].val!=='N/A')){H='hidden'}else{H='visible'}x[j][0].setAttribute('y',y);x[j][0].setAttribute('visibility',H)}if(h.length>1){var Q=I.selectAll('text.topText');if(Q.empty()){Q=I.append('text').attr('class','topText')}var R;if(q!=-1){R=h[1].ctx.ranges.endValue}else{R=h[0].ctx.ranges.endValue}Q.text(R).attr('x',g.width+k).attr('y',t/2)}else if(h.length===1){x[0][0].setAttribute('y',t/2+g.height/2)}I.attr('style','font-size: '+v.fontsize+'; font-family:'+v.fontfamily+'; font-weight:'+v.fontweight+'; fill: '+v.color+";");I.on('mouseover',B).on('mouseout',C).on('mousedown',D).on('mouseup',C)})};var B=function(){if(n==='single'||n==='none'||options.isHierarchy)return;var i=d3.select(d3.event.target);var a=i.attr('class');if(!a||a.search('marker')===-1)return;var x=i.attr('x'),y=i.attr('y');var d=d3.selectAll('.indicatedRect');d.attr('visibility','visible').attr('fill','#cccccc').attr('x',x-4).attr('y',y-1)};var C=function(){if(n==='single'||n==='none'||options.isHierarchy)return;var i=d3.select(d3.event.target);var a=i.attr('class');if(!a||a.search('marker')===-1)return;var d=d3.selectAll('.indicatedRect');d.attr('visibility','hidden')};var D=function(){if(n==='single'||n==='none'||options.isHierarchy)return;var i=d3.select(d3.event.target);var a=i.attr('class');if(!a||a.search('marker')===-1)return;var x=i.attr('x'),y=i.attr('y');var d=d3.selectAll('.indicatedRect');d.attr('visibility','visible').attr('fill','#808080').attr('x',x-4).attr('y',y-1)};A.clickHandler=function(){if(n==='single'||n==='none'||options.isHierarchy)return;if(d3.event.type==='touchstart'){D()}var i=false;if(F(s,d3.event.target)){i=true}else{s.push(d3.event.target)}return i};A.width=function(_){if(!arguments.length)return w;w=_;return A};A.height=function(_){if(!arguments.length)return c;c=_;return A};A.properties=function(a){if(!arguments.length)return options;options=a;return A};A.data=function(_){if(!arguments.length)return e;e=_;return A};A.setSelectionMode=function(_){n=_};A.getPreferredSize=function(){var a=0,d=0,j=0,x=e;if(x){q=-1;G();var y=-1,H="font-size:"+v.fontsize+"; font-weight:"+v.fontweight+"; font-family:"+v.fontfamily;var I=x.length;for(var i=0;i<I;i++){if(x[i].val==='N/A'){valueSize=T.measure(u,H);q=i}else{valueSize=T.measure(x[i].val,H)}if((valueSize===undefined)||(valueSize.width>y)){y=valueSize.width}}t=parseInt(v.fontsize);var h=(o.maxValueSpace+1)*t;a=g.width+o.markerPaddingRight*t+y;if(q!==-1){d=(h+p)*(I+1)+t;j=(o.minMarkerHeight+p)*(I+1)+t}else{d=(h+p)*I+t;j=(o.minMarkerHeight+p)*I+t}}return{minHeight:j,minWidth:a,width:a,height:d}};A.color=function(_){if(!arguments.length)return f;f=_;return A};A.effectManager=function(_){if(!arguments.length)return z;z=_;return A};var E=function(){var a=e.length,h=0,d=0;r=false;if(q!=-1){d=(c-(a+2)*t)/(a+1)}else{d=(c-(a+1)*t)/a}h=d+t;var i=o.maxValueSpace*t;if(d>i){d=i;h=d+t}else{var j=o.minValueSpace*t;if(d<j){h=o.minMarkerHeight;d=0;r=true}}o.space=d;g.height=h};var F=function(a,d){for(var i=0;i<a.length;i++){if(a[i]===d){return true}}return false};var G=function(){var a=b.style('viz-legend-valueLabel');if(a){if(a['fill']){v.color=a['fill']}if(a['font-family']){v.fontfamily=a['font-family']}if(a['font-size']){v.fontsize=a['font-size']}if(a['font-weight']){v.fontweight=a['font-weight']}}};return A};return m});sap.riv.module({qname:'sap.viz.modules.legend.sizeLegendArea',version:'4.0.0'},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'}],function Setup(T,l){var c=function(m){var w=400,h=200,v={'fontfamily':"'Open Sans', Arial, Helvetica, sans-serif",'fontsize':'14px','fontweight':'normal','color':'#333333'},b=[0,0,0],s=undefined,g=10,e=15,f=0;var j=null;var k=function(o){o.each(function(){if(s===undefined)return;n();var p=[],q="font-size:"+v.fontsize+"; font-weight:"+v.fontweight+"; font-family:"+v.fontfamily;if(f===0){f=T.measure('M',q).height}var r=Math.round(h/f);switch(r){case 0:case 1:case 2:case 3:p.push(b[0]);break;case 4:p.push(b[0]);if(b.length>1){p.push(b[b.length-1])}break;default:p=b}var t=[],u=-1,x,y;for(var i=0,z=p.length;i<z;i++){t.push(s(p[i])/2);y=a(p[i]);x=T.measure(y,q).width;if(x>u){u=x}}var A=t[0];var B=d3.select(this);var C=parseInt(v.fontsize);var D=B.selectAll('g.legend.circles');if(D.empty()){D=B.append('g').attr('class','legend circles').data([t])}D.attr('transform','translate('+A+','+(A+C)+')');var E={drawingEffect:options.drawingEffect,graphType:'circle',fillColor:'#748CB2'};var F=j.register(E);var G=D.selectAll('circle').data(t,function(d,i){return d});G.exit().remove();G.enter().append('circle').attr('stroke','white').attr('stroke-width',1).attr('fill',F).attr('opacity','0.85');G.attr('r',function(d,i){return d}).attr('cx',function(d,i){return 0}).attr('cy',function(d,i){return A-d});var H=B.selectAll('g.legend.valueLabels');if(H.empty()){H=B.append('g').attr('class','legend valueLabels').data([p])}var I=(A*2+e+g+u)>w?w:(A*2+e+g+u);H.attr('transform','translate('+I+', '+(A+C*3/2)+')');var J=H.selectAll('text').data(p,function(d,i){return d});J.exit().remove();J.enter().append('text').attr('text-anchor','end');J.attr('font-family',v.fontfamily).attr('font-size',v.fontsize).attr('font-weight',v.fontweight).attr('fill',v.color).text(function(d,i){var y=a(d);return y}).attr('dx',0).attr('dy',function(d,i){var L=(i-1)*A-2;if(p.length===2&&i===1){L=A-2}return L});var K=B.selectAll('g.legend.guideLines');if(!K.empty()){K.remove()}K=B.append('g').attr('class','legend guideLines').attr('transform','translate('+A+','+(A+C)+')');if(p.length>0){K.append('path').attr('stroke','gray').attr('d','M 0 '+-A+' L '+(A+g)+" "+-A)}if(p.length>1){K.append('path').attr('stroke','gray').attr('d','M 0 '+A+'L'+(A+g)+" "+A)}if(p.length>2){K.append('path').attr('stroke','gray').attr('d','M 0 '+(A-t[1])+' L '+A+" 0"+' M '+A+" 0 "+" L "+(A+g)+" 0")}})};k.width=function(_){if(!arguments.length)return w;w=_;rowPosArr=[];return k};k.height=function(_){if(!arguments.length)return h;h=_;rowPosArr=[];return k};k.color=function(_){if(!arguments.length)return colors;colors=_;return k};k.shapes=function(_){if(!arguments.length)return shapes;shapes=_;return k};k.properties=function(p){if(!arguments.length)return options;options=p;return k};k.data=function(_){if(!arguments.length)return b;b=_;return k};k.scale=function(_){if(!arguments.length)return s;s=_;return k};k.effectManager=function(_){if(!arguments.length)return j;j=_;return k};var n=function(){var d=m.style('viz-legend-valueLabel');if(d){if(d['fill']){v.color=d['fill']}if(d['font-family']){v.fontfamily=d['font-family']}if(d['font-size']){v.fontsize=d['font-size']}if(d['font-weight']){v.fontweight=d['font-weight']}}};k.getPreferredSize=function(d,o,p,q,r,t,u){if(d)n();var x=0,y=0,z=0;if(s&&o){f=0;var A=-1,B=undefined,C=undefined,D=null,E=b,F="font-size:"+v.fontsize+"; font-weight:"+v.fontweight+"; font-family:"+v.fontfamily;for(var i=0,G=E.length;i<G;i++){D=a(E[i]);C=T.measure(D,F);if((C===undefined)||(C.width>A)){A=C.width}}var H=A+e+g;B=d?(d.width-o-p-H-q.space-q.number*t)/(1+(1/r)*q.number):s(E[0]);f=C.height;if(!u&&q.plotHeight){B=Math.min((q.plotHeight-t)*r,B)}y=B+C.height*2;x=B+H;z=B+e}return{minHeight:y,minWidth:z,height:y,width:x}};return k};var a=function(v){return(v===null)?l.get('IDS_ISNOVALUE'):v};return c});sap.riv.module({qname:'sap.viz.util.DrawUtil',version:'4.0.0'},[],function Setup(){var D={};D.createMarkerData=function(p){var a;var t=p.borderWidth/2;switch(p.type){case"circle":a="M"+(-p.rx-t)+",0 A"+(p.rx+t)+","+(p.ry+t)+" 0 1,0 "+(p.rx+t)+",0 A"+(p.rx+t)+","+(p.ry+t)+" 0 1,0 "+(-p.rx-t)+",0z";break;case"cross":a="M"+(-p.rx-t)+","+(-p.ry/3-t)+"H"+(-p.rx/3-t)+"V"+(-p.ry-t)+"H"+(p.rx/3+t)+"V"+(-p.ry/3-t)+"H"+(p.rx+t)+"V"+(p.ry/3+t)+"H"+(p.rx/3+t)+"V"+(p.ry+t)+"H"+(-p.rx/3-t)+"V"+(p.ry/3+t)+"H"+(-p.rx-t)+"Z";break;case"diamond":a="M0,"+(-p.ry-t)+"L"+(p.rx+t)+",0"+" 0,"+(p.ry+t)+" "+(-p.rx-t)+",0"+"Z";break;case"square":a="M"+(-p.rx-t)+","+(-p.ry-t)+"L"+(p.rx+t)+","+(-p.ry-t)+"L"+(p.rx+t)+","+(p.ry+t)+"L"+(-p.rx-t)+","+(p.ry+t)+"Z";break;case"triangle-down":a="M0,"+(p.ry+t)+"L"+(p.rx+t)+","+-(p.ry+t)+" "+-(p.rx+t)+","+-(p.ry+t)+"Z";break;case"triangle-up":a="M0,"+-(p.ry+t)+"L"+(p.rx+t)+","+(p.ry+t)+" "+-(p.rx+t)+","+(p.ry+t)+"Z";break;case"triangle-left":a="M"+-(p.rx+t)+",0L"+(p.rx+t)+","+(p.ry+t)+" "+(p.rx+t)+","+-(p.ry+t)+"Z";break;case"triangle-right":a="M"+(p.rx+t)+",0L"+-(p.rx+t)+","+(p.ry+t)+" "+-(p.rx+t)+","+-(p.ry+t)+"Z";break;case"intersection":a="M"+(p.rx+t)+","+(p.ry+t)+"L"+(p.rx/3+t)+",0L"+(p.rx+t)+","+-(p.ry+t)+"L"+(p.rx/2-t)+","+-(p.ry+t)+"L0,"+(-p.ry/3-t)+"L"+(-p.rx/2+t)+","+-(p.ry+t)+"L"+-(p.rx+t)+","+-(p.ry+t)+"L"+-(p.rx/3+t)+",0L"+-(p.rx+t)+","+(p.ry+t)+"L"+(-p.rx/2+t)+","+(p.ry+t)+"L0,"+(p.ry/3+t)+"L"+(p.rx/2-t)+","+(p.ry+t)+"Z";break;case'squareWithRadius':var r=p.rx;var b=r-3;a="M0,"+-r+"L"+-b+","+-r+"Q"+-r+","+-r+" "+-r+","+-b+"L"+-r+","+b+"Q"+-r+","+r+" "+-b+","+r+"L"+b+","+r+"Q"+r+","+r+" "+r+","+b+"L"+r+","+-b+"Q"+r+","+-r+" "+b+","+-r+"Z";break}return a};function g(p){var r;switch(p.type){case"circle":r="M0,0A0,0 0 1,0 0,0A0,0 0 1,0 0,0z";break;case"cross":r="M0,0H0V0H0V0H0V0H0V0H0V0H0Z";break;case"diamond":r="M0,0L0,0 0,0 0,0Z";break;case"triangle-down":case"triangle-up":case"triangle-left":case"triangle-right":r="M0,0L0,0 0,0Z";break;case"intersection":r="M0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0L0,0Z";break;case'squareWithRadius':r="M0,0L0,0Q0,0 0,0L0,0Q0,0 0,0L0,0Q0,0 0,0L0,0Q0,0 0,0Z";break;case"square":default:r="M0,0L0,0L0,0L0,0Z";break}return r}D.createElements=function(d,p){return d.append("path").attr("class",p.className)};D.createElement=function(d,p,e){var a=d.append("path").attr("class",p.className);p.node=a;drawGraph(p,e);return a};D.drawGraph=function(p,e){var a={type:p.graphType,rx:Math.round(p.rx),ry:Math.round(p.ry),borderWidth:p.borderWidth?Math.round(p.borderWidth):0};var d=D.createMarkerData(a);var f=e.register(p);p.node.attr("fill",f).attr("stroke-width",p.borderWidth).attr("stroke",p.borderColor).attr("visibility",p.visibility);if(p.animateTime&&p.animateTime>0){p.node.attr("d",g(a));p.node.transition().duration(p.animateTime).attr("d",d).each('end',p.endFunc)}else p.node.attr("d",d);return p.node};return D});sap.riv.module({qname:'sap.viz.modules.legend.colorLegendArea',version:'4.0.0'},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.util.DrawUtil',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'}],function Setup(T,b,D,R){var c=function(m){var w=400,h=200,v={'fontfamily':"'Open Sans', Arial, Helvetica, sans-serif",'fontsize':'12px','fontweight':'normal','color':'#333333'},o={isHierarchy:undefined,position:'right',legendType:'ColorLegend'},e=1,s=[],f=[],l=0,n=0,p=20,q=0.5,r=0.6,u=[],x='multiple';var y=null;var z=R.newId();var A=0;var B=Infinity;var C=[],E={};var F=function(a){a.each(function(){H();var k=G();var O=false;if(k.length>0&&k.length<E.length){O=true}var P=d3.select(this);P.attr('style','font-family:'+v.fontfamily+'; font-size:'+v.fontsize+'; font-weight:'+v.fontweight+';fill:'+v.color+";");var Q=P.selectAll('g.row').data(k,function(d,i){return d.val});Q.exit().remove();var S=Q.enter().append('g').attr('class',function(d,i){return'legend '+z+' row ID_'+i});var U=S.append('rect').attr('class',function(d,i){return'legend indicatedRect-'+z+'-ID_'+i});var V=r*p/2;U.attr('width',w+10).attr('height',p+V*2).attr('fill','rgba(255, 255, 255, 0)').attr('x',-5).attr('y',-V);if((o.legendType!=='BubbleColorLegend')&&o.isHierarchy){var W,X,Y,Z=[],$=0,_=0;for(var i=0,a1=k.length;i<a1;i++){$=0,_=0;W=k[i].val;W=W.replace('-','/');X=W.split(' / ');Y=d3.select(this).select("g.row.ID_"+i);var b1=false;for(var j=0,c1=X.length-1;j<c1;j++){if(Z[j]!==X[j]){b1=true;break}}var t=Y.selectAll('g').data(X);t.enter().append('g').attr('class',function(d,i){return'legend '+z+' label ID_'+i});for(var j=0,c1=X.length;j<c1;j++){var d1=undefined;if(j===c1-1){d1=N(Y.select('g.label.ID_'+j),i,true,X[j]);d1.attr('transform',function(d,g1){$=10*j;if(b1){_=p+_+r*p}return'translate('+$+','+_+')'})}else{if(b1){d1=N(Y.select('g.label.ID_'+j),i,false,X[j]);d1.attr('transform',function(d,g1){$=10*j;if(j>0){_=p+_+r*p}return'translate('+$+','+_+')'})}}if(d1){d1.attr('visibility',function(d,g1){var h1='visible';if((C[i]===undefined)||(C[i].y+_>h-p)){h1='hidden';O=true}return h1})}Z[j]=X[j]}}Q.attr('transform',function(d,i){if(C[i]){return'translate('+C[i].x+','+C[i].y+')'}})}else{for(var i=0,a1=k.length;i<a1;i++){var Y=d3.select(this).selectAll("g.row.ID_"+i);N(Y,i,true,k[i].val)}Q.attr('transform',function(d,i){if(C[i]){return'translate('+C[i].x+','+C[i].y+')'}}).attr('visibility',function(d,g1){var h1='visible';if((C[g1]===undefined)||(C[g1].y>h-2*p)){h1='hidden';O=true}return h1})}var e1=S.append('rect').attr('class',function(d,i){return'legend eventRect-'+z+'-ID_'+i});e1.attr('width',w).attr('height',p).attr('fill','rgba(255, 255, 255, 0)');var f1=d3.select(this).selectAll('text.itemsEllipsis');if(f1.empty()){f1=d3.select(this).append('text').attr('class','itemsEllipsis').text('...').attr('text-anchor','middle')}f1.attr('dx',w/2).attr('dy',h).attr('visibility',function(){var d='hidden';if(O){d='visible'}return d});d3.select(this).on('mouseover',I).on('mouseout',J).on('mousedown',K).on('mouseup',J).on('touchend',J)})};F.width=function(_){if(!arguments.length)return w;w=_;return F};F.height=function(_){if(!arguments.length)return h;h=_;return F};F.color=function(_){if(!arguments.length)return f;f=_;return F};F.shapes=function(_){if(!arguments.length)return s;s=_;return F};F.colorFeedLength=function(_){l=_;return F};F.shapeFeedLength=function(_){n=_;return F};F.data=function(_){if(!arguments.length)return E;E=_;return F};F.properties=function(a){if(!arguments.length)return o;o=a;return F};F.getPreferredSize=function(a){H();return M(a)};F.setSelectionMode=function(_){x=_};F.effectManager=function(_){if(!arguments.length)return y;y=_;return F};var G=function(){var a=[],d=C.length;if(E.length>0){a=E.slice(0,d);A=0;B=d}return a};var H=function(){var a=m.style('viz-legend-valueLabel');if(a){if(a['fill']){v.color=a['fill']}if(a['font-family']){v.fontfamily=a['font-family']}if(a['font-size']){v.fontsize=a['font-size']}if(a['font-weight']){v.fontweight=a['font-weight']}}};var I=function(){if(x==='single'||x==='none'||o.isHierarchy)return;var i=d3.select(d3.event.target);var a=i.attr('class');if(!a||a.search('eventRect')===-1)return;var d=a.split('ID_')[1];var j=d3.selectAll('.indicatedRect-'+z+'-ID_'+d);j.attr('fill','#cccccc')};var J=function(){if(x==='single'||x==='none'||o.isHierarchy)return;var i=d3.select(d3.event.target);var a=i.attr('class');if(!a||a.search('eventRect')===-1)return;var d=a.split('ID_')[1];var j=d3.selectAll('.indicatedRect-'+z+'-ID_'+d);j.attr('fill','rgba(0,0,0,0)')};var K=function(){if(x==='single'||x==='none'||o.isHierarchy)return;var i=d3.select(d3.event.target);var a=i.attr('class');if(!a||a.search('eventRect')===-1)return;var d=a.split('ID_')[1];var j=d3.selectAll('.indicatedRect-'+z+'-ID_'+d);j.attr('fill','#808080')};F.clickHandler=function(){if(x==='single'||x==='none'||o.isHierarchy)return;if(d3.event.type==='touchstart'){K()}var i=false;if(L(u,d3.event.target)){i=true}else{u.push(d3.event.target)}return i};F.deselectByCtx=function(d){if(!d){u=[]}else{var a,j=true;for(var i=0,t=u.length;i<t;i++){j=true;a=u[i].__data__.ctx.path;if(!a){a=u[i].__data__.ctx.ranges;if(a!=d.ctx.ranges){j=false}}else{for(var k in a){if(d.ctx.path[k]!=undefined){if(d.ctx.path[k].length>0){if(d.ctx.path[k]!==a[k]){j=false}}else{if(d.ctx.path[k]!==a[k]){j=false}}}}}if(j===true){u.splice(i,1);break}}}};var L=function(a,d){for(var i=0;i<a.length;i++){if(a[i]===d){return true}}return false};var M=function(a){var d=0,k=0,t=0,O={'width':0,'height':0},P=E,Q=0;if(P){var S="font-size:"+v.fontsize+"; font-weight:"+v.fontweight+"; font-family:"+v.fontfamily;var U=[],V=0,W=0;p=parseInt(v.fontsize);C=[];if((o.legendType!=='BubbleColorLegend')&&o.isHierarchy){var X,Y,Z,$={'width':0,'height':0},_=[];for(var i=0,a1=P.length;i<a1;i++){X=P[i].val;X=X.replace('-','/');Y=X.split(' / ');var b1=false;for(var j=0,c1=Y.length-1;j<c1;j++){if(_[j]!==Y[j]){b1=true;break}}var d1=0;for(var j=0,c1=Y.length;j<c1;j++){Z=T.measure(Y[j],S);if(j===c1-1){Z.width=Z.width+(e+q)*p;d1=d1+(r+1)*p}else if(b1){d1=d1+(r+1)*p}Z.width=Z.width+10*j;if(Z.width>$.width)$=Z;_[j]=Y[j]}if($.width>Q)Q=$.width;U.push(d1);if(i>0){W=W+U[i-1]}if(W+p>a.height)break;C.push({x:V,y:W})}k=V+Q;d=W+U[U.length-1];t=T.measure('M...',S).width}else{var e1,f1;if(o.position==='left'||o.position==='right'){var g1;for(var i=0,a1=P.length;i<a1;i++){if(i>0){W=W+p+p*r}if(W+p>a.height)break;C.push({x:V,y:W});e1=P[i].val;if(P[i].size===undefined){P[i].size=T.measure(e1,S)}g1=P[i].size;if(g1.width>O.width){O=g1}}}else{for(var i=0,a1=P.length;i<a1;i++){e1=P[i].val;f1=T.measure(e1,S);U.push(f1.width);if(i>0){V=V+(e+q)*p+U[i-1]}if(V+p>a.height)break;C.push({x:V,y:W})}}Q=(e+q)*p+O.width;if(o.position==='left'||o.position==='right'){k=V+Q;d=W+p}else{k=V+U[U.length-1]+(e+q)*p;d=O.height}t=V+(e+q)*p+T.measure('M...',S).width}}if(t>k){t=k}return{minWidth:t,height:d,width:k}};var N=function(a,j,k,O){var P=0,Q;var S=e*p;if(k){if(n>0){Q=s[j%(s.length>n?n:s.length)]}else{if(o.legendType==='BubbleColorLegend'){Q=(s[0]==undefined)?'square':s[0]}else{var U=s[j%s.length];Q=(U==undefined)?'square':U;if(Q==='square'){Q="squareWithRadius"}}}var V=g(Q,S);var W=p/2;var X=a.selectAll('path').data([O]);D.createElements(X.enter(),{shape:Q,className:null});X.attr("transform",function(d,i){var $;if(n>0){var i=Math.floor(j/n);var t=f.length>l?l:f.length;if(t>0){$=f[i%t]}else{$=f[0]}}else{$=f[j%(f.length>l?l:f.length)]}var _={drawingEffect:o.drawingEffect,graphType:Q,fillColor:$,direction:'vertical',rx:S/2,ry:S/2,borderWidth:0,borderColor:"transparent",node:d3.select(this),};D.drawGraph(_,y);return'translate('+W+','+W+')'});P=S+q*p}var Y=a.selectAll('text').data([O]);Y.enter().append('text');Y.attr('x',P).attr('y',p).text(function(d){return d});var Z="font-size:"+v.fontsize+"; font-weight:"+v.fontweight+"; font-family:"+v.fontfamily;Y.each(function(d){T.ellipsis(d,this,w-P,Z)});return a};return F};var g=function(t,s){var a='',r;switch(t){case'circle':r=s/2;a="M0,"+r+"A"+r+","+r+" 0 1,1 0,"+(-r)+"A"+r+","+r+" 0 1,1 0,"+r+"Z";break;case"cross":var d=s/6,e=s/6;a="M"+-3*d+","+-e+"H"+-d+"V"+-3*e+"H"+d+"V"+-e+"H"+3*d+"V"+e+"H"+d+"V"+3*e+"H"+-d+"V"+e+"H"+-3*d+"Z";break;case"triangle-down":var d=s/2,e=s/2;a="M0,"+e+"L"+d+","+-e+" "+-d+","+-e+"Z";break;case"triangle-up":var d=s/2,e=s/2;a="M0,"+-e+"L"+d+","+e+" "+-d+","+e+"Z";break;case"diamond":var d=s/2,e=s/2;a="M0,"+-e+"L"+d+",0"+" 0,"+e+" "+-d+",0"+"Z";break;case'squareWithRadius':r=s/2;var f=r-3;a="M0,"+-r+"L"+-f+","+-r+"Q"+-r+","+-r+" "+-r+","+-f+"L"+-r+","+f+"Q"+-r+","+r+" "+-f+","+r+"L"+f+","+r+"Q"+r+","+r+" "+r+","+f+"L"+r+","+-f+"Q"+r+","+-r+" "+f+","+-r+"Z";break;case'square':default:r=s/2;a="M"+-r+","+-r+"L"+r+","+-r+" "+r+","+r+" "+-r+","+r+"Z";break;case"triangle-left":var d=s/2,e=s/2;a="M"+-d+",0L"+d+","+e+" "+d+","+-e+"Z";break;case"triangle-right":var d=s/2,e=s/2;a="M"+d+",0L"+-d+","+e+" "+-d+","+-e+"Z";break;case"intersection":var d=s/2,e=s/2;a="M"+d+','+e+' '+d/3+',0 '+d+','+-e+' '+d/2+','+-e+' 0,'+-e/3+' '+-d/2+','+-e+' '+-d+','+-e+' '+-d/3+',0 '+-d+','+e+' '+-d/2+','+e+' 0,'+e/3+' '+d/2+','+e;break}return a};return c});sap.riv.module({qname:'sap.viz.modules.legend',version:'4.0.0',exported:true},[{qname:'sap.viz.manifest',version:'4.0.0'},{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.modules.legend.colorLegendArea',version:'4.0.0'},{qname:'sap.viz.modules.legend.sizeLegendArea',version:'4.0.0'},{qname:'sap.viz.modules.legend.mbcLegendArea',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'}],function Setup(M,T,b,c,O,C,S,e,l){var f=function(m){var w=undefined,h=undefined,p={width:200,height:200},g='right',t={'fontfamily':"'Open Sans', Arial, Helvetica, sans-serif",'fontsize':'14px','fontweight':'bold','color':'#333333'},v={'fontfamily':"'Open Sans', Arial, Helvetica, sans-serif",'fontsize':'12px','fontweight':'normal','color':'#333333'},o={},k=true,n=false,s=[],q=[],r=20,u={top:0,right:0,bottom:0,left:1.15},x=0.5,y={x:0,y:0},z=undefined,A,B,D,E=undefined,F=false;var G={title:'',labels:''},H=[],I=null,J=[],K=[],L=0,N=0,P=true;var Q=C(m);var R=new c('highlightedByLegend');var U=null;var V=function(a){a.each(function(){if(j1()||l1()){if(G.labels.length===0){k=false}}if(k&&!n){X();if(P){e1({'width':w,'height':h})}var i=u.left*r,j=u.top*r;var _=d3.select(this).selectAll('g.content').data([G]);_.enter().append('g').attr('class','legend content');if(o.isShowTitle&&!F){var p1=parseInt(t.fontsize);var q1='font-weight: '+t.fontweight+'; fill:'+t.color+'; font-family: '+t.fontfamily+'; font-size: '+t.fontsize+";";var r1=(o.titleText===undefined)?G.title:o.titleText;var s1=_.selectAll('text.labelTitle');if(s1.empty()){s1=_.append('text').attr('class','legend labelTitle')}s1.text(r1).attr('dx',i).attr('dy',j+p1).attr('style',q1).attr('visibility','visible');s1.each(function(d){T.ellipsis(r1,this,w-i,q1)})}else{_.selectAll('text.labelTitle').attr('visibility','hidden');if(F){F=false}}var t1=G.labels;var u1=_.selectAll('g.groups').data([t1]);u1.enter().append('g').attr('class','legend groups');u1.attr('transform','translate('+y.x+','+y.y+')');var v1=((w===undefined)?p.width:w)-i;var w1=((h===undefined)?p.height:h)-j;Q.properties(o).width(v1).height(w1-y.y).effectManager(U);if(k1()){Q.data(H).scale(z)}else if(m1()){Q.data(t1).color(E.range())}else{Q.data(t1).color(q).colorFeedLength(L).shapeFeedLength(N)}u1.call(Q).on('click',W).on('touchstart',W);if(o.position==='left'||o.position==='right'){switch(o.alignment){case'end':_.attr('transform','translate(0, '+(((h-p.height)>0)?((h-p.height)):0)+')');break;case'middle':_.attr('transform','translate(0, '+(((h-p.height)/2>0)?((h-p.height)/2):0)+')');break}}}else{var x1=d3.select(this).selectAll('g.content');if(!x1.empty()){x1.remove()}}n=false})};var W=function(I){if(o.isHierarchy)return;var a=d3.select(d3.event.target).attr('class');if(a){var i=Q.clickHandler();var d=parseInt(d3.select(d3.event.target).attr('class').split('ID_')[1]);if(G.labels[d]!==undefined){R.highlightedByLegend(G.labels[d],i)}}};V.deselectLegend=function(d){if(!(m1()||k1())){Q.deselectByCtx(d)}};V.width=function(_){if(!arguments.length)return w;w=_;P=true;return V};V.height=function(_){if(!arguments.length)return h;h=_;P=true;return V};V.position=function(_){if(!arguments.length)return g;g=_;return V};V.colorPalette=function(_){if(!arguments.length)return q;q=_;Q.color(_);return V};V.shapes=function(_){if(!arguments.length)return s;s=_;Q.shapes(_);return V};V.properties=function(a){if(!arguments.length)return o;var d=m.props(a);o.visible=d.visible;k=o.visible;o.isShowTitle=d.title.visible;o.titleText=d.title.text;o.isHierarchy=d.isHierarchical;o.position=d.position;if(o.legendType!=d.type){o.legendType=d.type;if(I&&G.labels){Z(I);Q.data(G.labels)}}o.alignment=d.alignment;o.drawingEffect=d.drawingEffect;if(k1()){Q=S(m)}else if(m1()){Q=e(m)}Q.properties(o);return V};V.getPreferredSize=function(a,d,i){X();return e1(a,d,i)};V.data=function(_){if(!arguments.length)return I;I=_;Z(_);Q.data(G.labels);return V};V.sizeLegendInfo=function(_){if(!arguments.length)return z;z=_.scale;Q.scale(z);A=_.bubbleScale;B=_.space;D=_.hasHeightFeed;if(_.data.length===0){k=false}else{k=o.visible;H=_.data;Q.data(H)}G.title=n1(_.title);return V};V.hideTitle=function(){F=true;return V},V.hide=function(_){n=_;return V},V.mbcLegendInfo=function(_){if(!arguments.length)return E;if(_.colorScale===undefined){k=false}else{k=o.visible;E=_.colorScale;G.title=n1(_.title);$();Q.data(G.labels)}return V};V.setSelectionMode=function(_){if(!(m1()||k1())){Q.setSelectionMode(_)}};V.dispatch=function(_){if(!arguments.length)return R;R=_;return V};V.effectManager=function(_){if(!arguments.length)return U;U=_;return V};V.isVisible=function(){return k};var X=function(){var a=m.style('viz-legend-title');if(a){if(a['fill']){t.color=a['fill']}if(a['font-family']){t.fontfamily=a['font-family']}if(a['font-size']){t.fontsize=a['font-size']}if(a['font-weight']){t.fontweight=a['font-weight']}}var d=m.style('viz-legend-valueLabel');if(d){if(d['fill']){v.color=d['fill']}if(d['font-family']){v.fontfamily=d['font-family']}if(d['font-size']){v.fontsize=d['font-size']}if(d['font-weight']){v.fontweight=d['font-weight']}}};var Y=function(a){if(h1(a.key)){K=a.values}else{if(i1(a.key)){J=a.values}}};var Z=function(I){if(!I)return;K=[];J=[];var a=I.getAnalysisAxisDataByIdx(0);if(a)K=a.values;a=I.getAnalysisAxisDataByIdx(1);if(a)J=a.values;if(l1()){a1()}else if(!(k1())){b1()}};var $=function(){var a=[],d={'val':undefined,'ctx':{}};var _=E.domain();for(var p1=_.length,i=0,j=p1-1;i<p1;i++){if(_[i].length>0){d.val=_[i][0];d.ctx.ranges={startValue:_[i][0],endValue:_[i][1],isRightOpen:true,isLeftOpen:false}}else{d.val='N/A';d.ctx.ranges={};if(a[j+1]!=undefined){a[j+1].ctx.ranges.isRightOpen=false}}if(j===0){d.ctx.ranges.isRightOpen=false}a[j]={};O.extend(true,a[j--],d)}G.labels=a};var a1=function(){var a=[],d='',_='',j=0,p1={'val':undefined,'ctx':{'path':{}}};L=0,N=0;if(K&&K.length>0&&K[0].rows.length>0){var q1=K[0];d=n1(q1.col.val);var r1='dii_a'+(q1.rows[0].ctx.path.aa+1);p1={'val':q1.rows[0].val,'ctx':{'path':{}}};p1.ctx.path[r1]=[q1.rows[0].ctx.path.dii];for(var i=1,s1=q1.rows.length;i<s1;i++){_=q1.rows[i].val;if(_==p1.val||f1(a,_)){p1.ctx.path[r1].push(q1.rows[i].ctx.path.dii)}else{a[j]={};p1.val=n1(p1.val);O.extend(true,a[j++],p1);p1.val=_;p1.ctx={path:{}};p1.ctx.path[r1]=[q1.rows[i].ctx.path.dii]}}a[j]={};p1.val=n1(p1.val);O.extend(true,a[j],p1);L=a.length}if(J&&J.length>0){var t1=J[0],u1=[];d=(d==='')?n1(t1.col.val):d+" / "+n1(t1.col.val);var r1='dii_a'+(t1.rows[0].ctx.path.aa+1);p1={'val':t1.rows[0].val,'ctx':{'path':{}}},j=0;p1.ctx.path[r1]=[t1.rows[0].ctx.path.dii];for(var i=1,s1=t1.rows.length;i<s1;i++){_=t1.rows[i].val;if(_==p1.val||f1(u1,_)){p1.ctx.path[r1].push(t1.rows[i].ctx.path.dii)}else{u1[j]={};p1.val=n1(p1.val);O.extend(true,u1[j++],p1);p1.val=_;p1.ctx={path:{}};p1.ctx.path[r1]=[t1.rows[i].ctx.path.dii]}}u1[j]={};p1.val=n1(p1.val);O.extend(true,u1[j],p1);N=u1.length;if(a.length>0){a=g1([a,u1],' / ')}else{a=u1}}if(a.length===0){k=false}else{k=o.visible}G={'title':d,'labels':a}};var b1=function(){var a=undefined,d=[];var i=c1(a,K,L);L=i.feedsLength;var j=c1(a,J,N);N=j.feedsLength;if(j.labels.length>0){if(i.labels.length>0){if(i.MNDInfo.MNDIndex===undefined&&j.MNDInfo.MNDIndex===undefined){d=g1([i.labels,j.labels],' / ');a=i.title+" / "+j.title}else{if((i.MNDInfo.MNDIndex!==undefined&&!i.MNDInfo.hasOnlyMND)||(j.MNDInfo.MNDIndex!==undefined&&!j.MNDInfo.hasOnlyMND)){d=g1([i.labels,j.labels],' - ');a=i.title+" - "+j.title}else if(i.MNDInfo.MNDIndex!==undefined&&i.MNDInfo.hasOnlyMND){d=j.labels;a=j.title}else{d=i.labels;a=i.title}}}else{d=j.labels;a=j.title}}else{d=i.labels;a=i.title}if(d.length===0){k=false}else{k=o.visible}G={'title':a,'labels':d}};var c1=function(a,d,_){var p1=[],q1=[],r1=' / ',s1=' - ';var t1=undefined,u1=false;if(d&&d.length>0){for(var i=0,v1=d.length;i<v1;i++){if(d[i].type!=='MND'){if(a===undefined){a=n1(d[i].col.val)}else{a=a+r1+n1(d[i].col.val)}q1=d[i].rows;for(var j=0;j<q1.length;j++){if(p1[j]===undefined){p1[j]={};p1[j].val=n1(q1[j].val);p1[j].ctx={path:d1(q1[j].ctx.path)}}else{p1[j].val=p1[j].val+r1+n1(q1[j].val)}}}else{t1=i}}_=p1.length}if(t1!==undefined){if(p1.length>0){if(d[t1].rows.length>1){if(t1===0){a=l.get('IDS_DEFAULTMND')+s1+a;p1=g1([o1(d[t1].rows),p1],s1);_=_*d[t1].rows.length}else if(t1===d.length-1){a=a+s1+l.get('IDS_DEFAULTMND');p1=g1([p1,o1(d[t1].rows)],s1);_=_*d[t1].rows.length}else{}}}else{a=l.get('IDS_DEFAULTMND');q1=d[t1].rows;for(var j=0;j<q1.length;j++){p1.push(q1[j])}_=q1.length;if(q1.length===1){u1=true}}}return{'title':a,'labels':p1,'feedsLength':_,'MNDInfo':{'MNDIndex':t1,'hasOnlyMND':u1}}};var d1=function(a){var d={};switch(a.aa){case 0:d.dii_a1=a.dii;break;case 1:d.dii_a2=a.dii;break;case 2:d.dii_a3=a.dii;break}return d};var e1=function(a,d,i){var j=0,_=0,p1=0,q1=0,r1={width:0,height:0},s1={};if(o.visible){var t1="font-size:"+t.fontsize+"; font-weight:"+t.fontweight+"; font-family:"+t.fontfamily;r=parseInt(v.fontsize);var u1=u.left*r,v1=u.top*r;if(o.isShowTitle){r1=T.measure(((o.titleText===undefined)?G.title:o.titleText),t1);if(!F){v1=v1+r1.height+x*r}}y={x:u1,y:v1};s1=Q.getPreferredSize({height:a.height-u1,width:a.width},d,u1,i,A,B,D);if(!l1()&&o.isHierarchy){_=u1+((r1.width>s1.width)?r1.width:s1.width);j=v1+s1.height}else{if(o.position==='left'||o.position==='right'){_=u1+((r1.width>s1.width&&!k1())?r1.width:s1.width);j=v1+s1.height}else{_=u1+s1.width;j=r1.height+x*r+r}}p1=u1+(s1.minWidth?s1.minWidth:0);q1=v1+(s1.minHeight?s1.minHeight:0);P=false}p={maxSizeConstant:1/3,titleSize:r1,minWidth:p1,height:j,width:_};if(s1.minHeight){p.minHeight=q1}return p};var f1=function(a,d){for(var i=0;i<a.length;i++){if(a[i].val===d){return true}}return false};var g1=function(a,d){var _=a[0];for(var i=1;i<a.length;i++){p1(a[i])}function p1(q1){var ar=_;_=[];for(var i=0;i<ar.length;i++){for(var j=0;j<q1.length;j++){var t1=(ar[i].val===undefined)?ar[i].val:ar[i].val,t2=(q1[j].val===undefined)?q1[j].val:q1[j].val;var u1={path:{}};O.extend(u1.path,ar[i].ctx.path,q1[j].ctx.path);_.push({'val':t1+d+t2,'ctx':u1})}}}return _};var h1=function(a){var d=false;if(a.search('color')!==-1){d=true}return d};var i1=function(a){var d=false;if(a.search('shape')!==-1){d=true}return d};var j1=function(){var a=false;if(o.legendType==='ColorLegend'){a=true}return a};var k1=function(){var a=false;if(o.legendType==='SizeLegend'){a=true}return a};var l1=function(){var a=false;if(o.legendType==='BubbleColorLegend'){a=true}return a};var m1=function(){var a=false;if(o.legendType==='MeasureBasedColoringLegend'){a=true}return a};var n1=function(_){var d=l.get('IDS_ISNOVALUE');if(_===null||_===undefined)return d;else return _};var o1=function(a){for(var i=0;i<a.length;++i)a[i].val=n1(a[i].val);return a};V.properties(null);return V};return f});sap.riv.module({qname:'sap.viz.util.BoundingBox',version:'4.0.0'},[],function Setup(){var c={};c.getBBox=function(n,r){var m;if(arguments.length===1){m=n.getCTM()}else{m=n.getTransformToElement(r)}return c.getBBoxHelp(n,m)};c.getBBoxHelp=function(n,m){var b=n.getBBox();var a=new Array();var p=d3.select('svg')[0][0].createSVGPoint();p.x=b.x;p.y=b.y;a.push(p.matrixTransform(m));p.x=b.x+b.width;p.y=b.y;a.push(p.matrixTransform(m));p.x=b.x+b.width;p.y=b.y+b.height;a.push(p.matrixTransform(m));p.x=b.x;p.y=b.y+b.height;a.push(p.matrixTransform(m));var d=a[0].x;var e=a[0].x;var f=a[0].y;var g=a[0].y;for(var i=1;i<a.length;i++){var x=a[i].x;var y=a[i].y;if(x<d){d=x}else if(x>e){e=x}if(y<f){f=y}else if(y>g){g=y}}return{x:d,y:f,width:e-d,height:g-f}};c.intersects=function(a,b){return(a.x<=(b.x+b.width)&&b.x<=(a.x+a.width)&&a.y<=(b.y+b.height)&&b.y<=(a.y+a.height))};c.intersection=function(b,a){if(c.intersects(b,a)){var x=Math.max(b.x,a.x),d=Math.min(b.x+b.width,a.x+a.width),y=Math.max(b.y,a.y),e=Math.min(b.y+b.height,a.y+a.height);return{x:x,y:y,width:d-x,height:e-y}}return null};return c});sap.riv.module({qname:'sap.viz.modules.controller.lasso',version:'4.0.0',exported:true},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.util.BoundingBox',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'}],function Setup(T,a,O,b,B,C){return function(){var c=null;var g,m,f,p,h,k,l=[],n=[],s='multiple',o=[];var q,r,u={},v='.datapoint',w=false,z=false;var A=null,D=[],E=null,F=[];var G=function(){l=[]};var H=function(){return H};H.lastOvered=function(_){if(!arguments.length){return D}D=_;return H};H.unhighlightTarget=function(_){if(!arguments.length){return A}A=_;return H};H.lastHovered=function(_){if(!arguments.length){return F}F=_;return H};H.eventLayer=function(_){if(!arguments.length){return E}E=_;return H};H.registerEvent=function(){var t=m.modules();for(var i in t){if(t.hasOwnProperty(i)&&!(t[i]instanceof Array)&&t[i].parent()){l.push(t[i])}}g.on('mousedown.lasso',M,true);g.on('mousemove.lasso',P,true);g.on('mouseup.lasso',Q,true);$(g.node()).mouseleave(S)};H.dispatch=function(_){if(!arguments.length){return c}c=_;return H};H.properties=function(_){if(!arguments.length){return p}p=_;s=p.selectability&&p.selectability.mode?p.selectability.mode:'multiple';z=p.selectability&&p.selectability.selectWithCtrlKey;return H};H.isLasso=function(){return w};H.selected=function(_){if(!arguments.length){return n}n=_;return H};H.module=function(_){if(!arguments.length){return m}G();m=_,g=m.parent(),h=g.node();return H};var I=function(){var e=d3.event,d=!E.empty()?E.node():h,i=d.getBoundingClientRect(),x=e.clientX-i.left,y=e.clientY-i.top;return[x,y]};var J=function(d){var e=d.getBoundingClientRect();return{x:e.left,y:e.top,height:e.height,width:e.width}};var K=function(){if(d3.event){d3.event.stopPropagation();d3.event.preventDefault()}};var L=function(e,u){var i=[];e.filter(function(d,m){var j=J(this);if(B.intersects(j,u)){i.push(this)}});return i};var M=function(){if(s!=='multiple')return;if(z&&!(d3.event.ctrlKey)){return}q=I();r=g.append('rect').attr('x',q[0]).attr('y',q[1]).attr('width',0).attr('height',0).attr('pointer-events','none').attr('fill','rgba(64,176,240, 0.4)').style('stroke-width','2px').attr('stroke','rgb(64, 176, 240)');w=true;K()};var N=function(_){for(var i=0;i<l.length;i++){if(l[i].clear){l[i].clear(_)}}};var P=function(){if(s!=='multiple'||!w)return;var d=I(),x=Math.min(d[0],q[0]),y=Math.min(d[1],q[1]),e=Math.abs(d[0]-q[0]),i=Math.abs(d[1]-q[1]);r.attr('x',x).attr('y',y).attr('width',e).attr('height',i)};var Q=function(){var d={x:d3.event.clientX,y:d3.event.clientY};R(d)};var R=function(d){if(s!=='multiple'||!w)return;w=false;var e=r.node(),x=J(e),y=parseFloat(e.getAttribute('width')),W=parseFloat(e.getAttribute('height')),X=[],Y=[];setTimeout(function(){r.remove()},0);if(y||W){var Z,_,a1=false,b1=null,c1=[],d1=null,e1=null,f1=null;for(var i=0,g1=l.length;i<g1;i++){Z=l[i];_=null;if(b.isFunction(Z.getDatapointsInRect)){_=Z.getDatapointsInRect(r.node())}else{d1=Z.parent().select('rect.viz-event-sub-layer').node();e1=d1?J(d1):null;f1=e1?B.intersection(e1,x):x;if(!f1){continue}b1=Z.parent().selectAll('.datapoint');if(b1[0].length>0){_=L(b1,f1)}}if(_&&_.length>0){c1.push({plot:Z,selected:_})}}if(c1.length>0){if(n.length==0){A(n,false);N(true)}var Z=null,h1=null,i1=false,j1=O.extend(true,[],n);for(var i=0,g1=c1.length;i<g1;i++){Z=c1[i].plot,h1=c1[i].selected;for(var j=0,k1=h1.length;j<k1;j++){for(var t=0,l1=j1.length;t<l1;t++){if(h1[j]==j1[t]){i1=true;break}}if(i1){X.push(h1[j])}else{n.push(h1[j]);X.push(h1[j])}i1=false}Z.highlight(h1)}}else{if(n.length>0){A(n,false);N()}Y=Y.concat(n);n.splice(0,n.length)}if(X.length>0){U(X)}if(Y.length>0){V(Y)}for(var i=0,g1=D.length;i<g1;i++){if(D[i].plot.mouseout){D[i].plot.mouseout(D[i].target,true)}}D.splice(0,D.length);K()}};var S=function(e){if(w){var d={x:e.clientX,y:e.clientY};R(d);w=false}for(var i=0,j=F.length;i<j;i++){if(F[i].blurOut){F[i].blurOut()}}F.splice(0,F.length)};function U(d){var e=[];for(var i=0,t=d.length;i<t;i++){var x=[],y=d[i].__data__;if(y.val instanceof Array){for(var j=0,W=y.val.length;j<W;j++){x.push({val:y.val[j],ctx:y.ctx[j]})}}else{x.push({val:d[i].__data__.val,ctx:d[i].__data__.ctx})}e.push({target:d[i],data:x})}c.selectData({name:C.Module.Event.SelectData.name,data:e})};function V(d){var e=[];for(var i=0,t=d.length;i<t;i++){var x=[],y=d[i].__data__;if(y.val instanceof Array){for(var j=0,W=y.val.length;j<W;j++){x.push({val:y.val[j],ctx:y.ctx[j]})}}else{x.push({val:d[i].__data__.val,ctx:d[i].__data__.ctx})}e.push({target:d[i],data:x})}c.deselectData({name:C.Module.Event.DeSelectData.name,data:e})};return H}});sap.riv.module({qname:'sap.viz.modules.controller.interaction',version:'4.0.0',exported:true},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.controller.lasso',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'}],function Setup(T,d,l,b,C){return function(){var g=null,m,c=[],s='multiple',e=[],f=[],h=null,o=l(),q=[];var r=true,u=[],v=null,w=[];var x=new d('selectData','deselectData','deselectLegend');var y={'mouseup':null,'mousemove':null,'mouseout':null,'mouseover':null,'touchstart':null},z=false,A=['mouseup','mousemove','mouseout','mouseover','touchstart'],B=null,D=false;var E=true,F=true,G=true,H=false;var I=function(){z=false;e=[];c.splice(0,c.length);u.splice(0,u.length);w.splice(0,w.length);for(var i=0,a=f.length;i<a;i++){f[i].remove()}f=[]};var J=function(){o.dispatch(x).selected(c).lastOvered(w).lastHovered(u).unhighlightTarget(R);return J};var K=function(_){for(var i=0;i<e.length;i++){if(e[i].clear){e[i].clear(_)}}};var L=function(t,a){var p=a.parent()[0][0].getBoundingClientRect();return(t.x>=p.left&&t.x<=p.left+p.width&&t.y>=p.top&&t.y<=p.top+p.height)};var M=function(){var n=[];for(var i=0,a=e.length;i<a;i++){if(e[i].parent()){n.push(e[i].parent().node())}}return n};var N=function(t,a){var n=t,p=a||M(),i;for(;n&&n.ownerSVGElement;n=n.parentNode){i=p.indexOf(n);if(i!==-1){return i}}return-1};var O=function(t,n){var p=N(t,n);if(p!==-1){return e[p]}return null};var P=function(t){var p=M(),a=[];for(var i=0,j=e.length;i<j;i++){a.push([])}for(var i=0,j=t.length;i<j;i++){var k=t[i],n=N(k,p),W;if(n!==-1){W=a[n];W.push(k)}else{}}return a};var Q=function(t){var p=O(t);if(p&&p.highlight){p.highlight(t)}};var R=function(t,a){var j=b.isArray(t)?t:[t],k=P(j);for(var i=e.length-1;i>=0;i--){var p=e[i],n=k[i];if(n&&n.length>0&&p.unhighlight){p.unhighlight(n,a)}}};J.registerEvent=function(){if(z==false){z=true;var t=m.modules();for(var i in t){if(t.hasOwnProperty(i)&&!(t[i]instanceof Array)&&t[i].parent()){var a,j;if(t[i].getPreferredSize&&t[i].getPreferredSize()){a=t[i].getPreferredSize().height;j=t[i].getPreferredSize().width}else{a=t[i].height();j=t[i].width()}var k=t[i].parent().insert('rect','g').attr('width',j).attr('height',a).attr('opacity','0').attr('class','viz-event-sub-layer');f.push(k);e.push(t[i])}}if(!v){v=g.insert("rect","g").attr("x",0).attr("y",0).attr("fill-opacity",0);o.eventLayer(v)}v.attr("width",m.width()).attr("height",m.height());if(q!=null&&q instanceof Array){for(var i=0,n=q.length;i<n;i++){if(y[q[i]]){g.on(q[i]+'.interaction',y[q[i]])}}}if(r==true){o.registerEvent()}if(D===true){g.on('mousedown.preserveSelectionWhenDragging',function(){B=d3.mouse(g.node())},true)}}else{v.attr('width',m.width()).attr('height',m.height());o.eventLayer(v);for(var i=0,n=f.length;i<n;i++){f[i].attr('width',e[i].width()).attr('height',e[i].height())}for(var i=0,n=u.length;i<n;i++){if(u[i].blurOut){u[i].blurOut()}}u.splice(0,u.length);for(var i=0,n=w.length;i<n;i++){if(w[i].plot.mouseout){w[i].plot.mouseout()}}w.splice(0,w.length);if(H==false){c.splice(0,c.length)}}};J.getSelectionMode=function(){return s};J.highlightedByLegend=function(a,n){if(s==='single'||s==='none'){return}var p=[],t,W=true,X=[],Y=true,Z=[],$=[],_=[],a1=[],b1=[];for(var i=0,c1=e.length;i<c1;i++){X=[];if(a.ctx.ranges){if(e[i].getDatapointsByRange){X=e[i].getDatapointsByRange(a);Z.push({plot:e[i],ctxDatapoints:X})}}else{if(e[i].getDatapointsByLegend){X=e[i].getDatapointsByLegend(a);Z.push({plot:e[i],ctxDatapoints:X})}else{p=e[i].parent().selectAll('.datapoint')[0];for(var j=0,d1=p.length;j<d1;j++){if(p[j].__data__&&p[j].__data__.ctx){if(p[j].__data__.ctx.path){t=p[j].__data__.ctx.path}else{t=p[j].__data__.ctx[0].path}W=true;for(var k in t){if(a.ctx.path[k]!=undefined){if(a.ctx.path[k].length>0){if(S(a.ctx.path[k],t[k])===false){W=false}}else{if(a.ctx.path[k]!==t[k]){W=false}}}}if(W===true){X.push(p[j])}}}if(p.length>0){Z.push({plot:e[i],ctxDatapoints:X})}}}}if(c.length===0){Y=false}else{var e1=0;for(var i=0,c1=Z.length;i<c1;i++){X=Z[i].ctxDatapoints;var f1=X.length;e1+=f1;for(var k=0;k<f1;k++){if(S(c,X[k])===false){Y=false;break}}}if(Y&&!e1){Y=false}}for(var i=0,c1=Z.length;i<c1;i++){X=Z[i].ctxDatapoints;a1=[],b1=[];for(var k=0,f1=X.length;k<f1;k++){var g1=S(c,X[k]);if(Y){b1.push(X[k]);c.splice(g1,1);_.push(X[k])}else{if(c.length==0){K(true)}a1.push(X[k]);$.push(X[k]);if(g1===false){c.push(X[k])}}}if(b1.length>0){Z[i].plot.unhighlight(b1,false)}if(a1.length>0){Z[i].plot.highlight(a1,false)}if(Y){x.deselectLegend(a)}if(c.length===0){K()}}if($.length>0){U($)}if(_.length>0){V(_)}return Y};var S=function(a,j){for(var i=0;i<a.length;i++){if(a[i]===j){return i}}return false};J.dispatch=function(_){if(!arguments.length){return x}x=_;return J};y['mousemove']=function(){if(o.isLasso()||E==false){return}var a={x:d3.event.clientX,y:d3.event.clientY};var k=[];for(var i=0,n=e.length;i<n;i++){if(e[i].parent()&&L(a,e[i])){k.push(e[i])}}var p=false;for(var i=0,n=u.length;i<n;i++){for(var j=0,t=k.length;j<t;j++){if(u[i]==k[j]){p=true;break}}if(p==false&&u[i].blurOut){u[i].blurOut()}p=false}for(var i=0,n=k.length;i<n;i++){if(k[i].hoverOnPoint){var W=k[i].parent().node().getBoundingClientRect();k[i].hoverOnPoint({x:a.x-W.left,y:a.y-W.top})}}u.splice(0,u.length);for(var i=0,n=k.length;i<n;i++){u.push(k[i])}};y['mouseover']=function(){if(o.isLasso()||F==false){return}var t=d3.event.target,a=t.getAttribute('class');if(a!=null&&a.indexOf('datapoint')!=-1){var j=false;for(var i=0,k=c.length;i<k;i++){if(t===c[i]){j=true;break}}if(c.length==0){j=true}var p=O(t);if(p){w.push({plot:p,target:t});if(p.mouseover){p.mouseover(t,j)}}}};y['mouseout']=function(){if(o.isLasso()||G==false){return}var t=d3.event.target,a=t.getAttribute('class');if(a!=null&&a.indexOf('datapoint')!=-1){var j=false;for(var i=0,k=c.length;i<k;i++){if(t===c[i]){j=true;break}}if(c.length==0){j=true}var p=O(t);for(var i=0,k=w.length;i<k;i++){var n=w[i];if(n.target===t){w.splice(i,1);if(p.mouseout){p.mouseout(t,j)}break}}}};y['mouseup']=function(){if(D&&B){var p=d3.mouse(g.node());if(Math.abs(p[0]-B[0])>5||Math.abs(p[1]-B[1])>5){return}}if(s!=='none'){var t=d3.event.target,a=t.getAttribute('class'),j=[],k=[];if(a==null||a.indexOf('datapoint')==-1){R(c,false);K();k=k.concat(c);c.splice(0,c.length);x.deselectLegend()}else{var n=false;for(var i=0,W=c.length;i<W;i++){if(t==c[i]){n=true;break}}if(c.length==0){K(true);Q(t);c.push(t);j.push(t)}else{if(n){if(s=='single'){R(c[0]);K();c.splice(0,c.length);k.push(t)}else{var X=c.splice((i),1);k=k.concat(X);if(c.length==0){R(t);K()}else{R(t);k.push(t)}}}else{if(s=='single'){R(c[0]);k.push(c[0]);Q(t);j.push(t);c[0]=t}else{j.push(t);Q(t);c.push(t)}}}}if(j.length>0){U(j)}if(k.length>0){V(k)}}};y['touchstart']=y['mouseup'];function U(a){var k=[];for(var i=0,n=a.length;i<n;i++){var t=[],p=a[i].__data__;if(p.val instanceof Array){for(var j=0,W=p.val.length;j<W;j++){t.push({val:p.val[j],ctx:p.ctx[j]})}}else{t.push({val:a[i].__data__.val,ctx:a[i].__data__.ctx})}k.push({target:a[i],data:t})}x.selectData({name:C.Module.Event.SelectData.name,data:k})};function V(a){var k=[];for(var i=0,n=a.length;i<n;i++){var t=[],p=a[i].__data__;if(p.val instanceof Array){for(var j=0,W=p.val.length;j<W;j++){t.push({val:p.val[j],ctx:p.ctx[j]})}}else{t.push({val:a[i].__data__.val,ctx:a[i].__data__.ctx})}k.push({target:a[i],data:t})}x.deselectData({name:C.Module.Event.DeSelectData.name,data:k})};J.properties=function(_){if(!arguments.length){return h}h=_;o.properties(h);s=h.selectability&&h.selectability.mode?h.selectability.mode:'multiple';q=h.supportedEventNames?h.supportedEventNames:A;E=h.enableMouseMove!=null?h.enableMouseMove:true;F=h.enableMouseOver!=null?h.enableMouseOver:true;G=h.enableMouseOut!=null?h.enableMouseOut:true;r=h.supportLassoEvent!=null?h.supportLassoEvent:true;H=h.holdSelection!=null?h.holdSelection:false;D=Boolean(h.preserveSelectionWhenDragging)};J.module=function(_){if(!arguments.length){return m}I();m=_,g=m.parent();o.module(_);return J};return J}});sap.riv.module({qname:'sap.viz.mvc.CSSParserUtility',version:'4.0.0'},[],function Setup(){var C=function(){};var a=C.prototype;a.split=function(s,b){if(/['"]/.test(b))throw'\' " is not allowed in splitter.';if(s=='')return[s];var d=[];var r=[];var e=0;var f=b.length;var l=s.length;for(var i=0;i<l;i++){var c=s.charAt(i);if(c=="'"||c=='"'){if(d.length>0){var g=d.pop();if(c!=g){d.push(g);d.push(c)}}else{d.push(c)}continue}if(d.length>0)continue;var h=s.substring(i,i+f);if(h==b){r.push(s.substring(e,i));i=e=i+f}}if(e<l)r.push(s.substring(e));return r};a.COLORS=['aqua','black','blue','fuchsia','gray','green','lime','maroon','navy','olive','orange','purple','red','silver','teal','white','yellow','transparent'];a.isColor=function(c){c=c.toLowerCase();if(this.COLORS.indexOf(c)>=0)return true;if(c.charAt(0)=='#'){var l=c.length;if(l!=4&&l!=7)return false;return!/[^0-9a-f]/.test(c.substring(1))}var n='-?[0-9\\.]+%?';var r=RegExp('^rgb\\('+n+','+n+','+n+'\\)$');if(r.test(c))return true;return false};a.NUM_RE_STR='[0-9]+|[0-9]*\\.[0-9]+';a.isLength=function(l){l=l.toLowerCase();var b=new RegExp('^('+this.NUM_RE_STR+')(em|ex|in|cm|mm|pt|pc|px)$');return b.test(l)};a.isPercentage=function(s){var r=new RegExp('^'+this.NUM_RE_STR+'%$');return r.test(s)};a.WIDTHS=['thin','medium','thick'];a.isWidth=function(w){return this.WIDTHS.indexOf(w)>=0||this.isLength(w)};a.BORDER_STYLES=['none','hidden','dotted','dashed','solid','double','groove','ridge','inset','outset'];a.isBorderStyle=function(s){s=s.toLowerCase();return this.BORDER_STYLES.indexOf(s)>=0};a.FONT_STYLES=['italic','oblique'];a.isFontStyle=function(s){return this.FONT_STYLES.indexOf(s.toLowerCase())>=0};a.isFontVariant=function(s){return'small-caps'==s};a.FONT_WEIGHTS=['bold','bolder','lighter','100','200','300','400','500','600','700','800','900'];a.isFontWeight=function(s){return this.FONT_WEIGHTS.indexOf(s.toLowerCase())>=0};a.TYPE_COLOR='color';a.TYPE_WIDTH='width';a.TYPE_BORDERSTYLE='borderstyle';a.TYPE_FONTSTYLE='font-style';a.TYPE_FONTVARIANT='font-variant';a.TYPE_FONTWEIGHT='font-weight';a.TYPE_UNKNOWN='unknown';a.valueType=function(v){if(this.isColor(v))return this.TYPE_COLOR;if(this.isWidth(v))return this.TYPE_WIDTH;if(this.isBorderStyle(v))return this.TYPE_BORDERSTYLE;if(this.isFontStyle(v))return this.TYPE_FONTSTYLE;if(this.isFontVariant(v))return this.TYPE_FONTVARIANT;if(this.isFontWeight(v))return this.TYPE_FONTWEIGHT;return this.TYPE_UNKNOWN};a.FONT_SIZES=['xx-small','x-small','small','medium','large','x-large','xx-large','smaller','larger'];a.validateFontSize=function(s){return this.FONT_SIZES.indexOf(s)>=0||this.isLength(s)||this.isPercentage(s)};a.validateMargin=function(s){return s=='auto'||this.isLength(s)||this.isPercentage(s)};a.validatePadding=function(s){return this.isLength(s)||this.isPercentage(s)};return C});sap.riv.module({qname:'sap.viz.mvc.CSSParser',version:'4.0.0'},[{qname:'sap.viz.mvc.CSSParserUtility',version:'4.0.0'}],function Setup(C){var b=(function(){var b={trace:function trace(){},yy:{},symbols_:{error:2,theme:3,ruleset:4,rule:5,selector_list:6,"{":7,declaration_list:8,"}":9,selector:10,",":11,"class":12,".":13,IDENT:14,declaration:15,";":16,property:17,":":18,expr:19,prio:20,IMPORTANT_SYM:21,term:22,operator:23,"/":24,signed_term:25,STRING:26,URI:27,HASH:28,"function":29,NUMBER:30,PERCENTAGE:31,LENGTH:32,EMS:33,EXS:34,ANGLE:35,TIME:36,FREQ:37,unary_operator:38,FUNCTION:39,")":40,"-":41,"+":42,"$accept":0,"$end":1},terminals_:{2:"error",7:"{",9:"}",11:",",13:".",14:"IDENT",16:";",18:":",21:"IMPORTANT_SYM",24:"/",26:"STRING",27:"URI",28:"HASH",30:"NUMBER",31:"PERCENTAGE",32:"LENGTH",33:"EMS",34:"EXS",35:"ANGLE",36:"TIME",37:"FREQ",39:"FUNCTION",40:")",41:"-",42:"+"},productions_:[0,[3,1],[4,1],[4,2],[5,4],[6,1],[6,3],[10,1],[10,2],[12,2],[8,1],[8,3],[8,2],[15,3],[15,2],[17,1],[20,1],[19,1],[19,2],[19,3],[23,1],[23,1],[22,1],[22,1],[22,1],[22,1],[22,1],[22,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,2],[29,3],[38,1],[38,1]],performAction:function anonymous(y,a,c,f,g,$,_){var h=$.length-1;switch(g){case 1:return $[h];break;case 2:this.$=[$[h]];break;case 3:this.$=$[h-1];this.$.push($[h]);break;case 4:this.$={selector:$[h-3],declaration:$[h-1]};break;case 5:this.$=[$[h]];break;case 6:this.$=$[h-2];this.$.push($[h]);break;case 7:this.$=$[h];break;case 8:this.$=$[h-1]+$[h];break;case 9:this.$=$[h-1]+$[h];break;case 10:this.$=[$[h]];break;case 11:this.$=$[h-2];this.$.push($[h]);break;case 12:this.$=$[h-1];break;case 13:this.$={name:$[h-2],value:$[h]};break;case 14:this.$=$[h-1];this.$.important=true;break;case 18:this.$=$[h-1]+" "+$[h];break;case 19:this.$=$[h-2]+$[h-1]+$[h];break;case 36:this.$=$[h-1]+$[h];break;case 37:this.$=$[h-2]+$[h-1]+$[h];break}},table:[{3:1,4:2,5:3,6:4,10:5,12:6,13:[1,7]},{1:[3]},{1:[2,1],5:8,6:4,10:5,12:6,13:[1,7]},{1:[2,2],13:[2,2]},{7:[1,9],11:[1,10]},{7:[2,5],11:[2,5],12:11,13:[1,7]},{7:[2,7],11:[2,7],13:[2,7]},{14:[1,12]},{1:[2,3],13:[2,3]},{8:13,14:[1,16],15:14,17:15},{10:17,12:6,13:[1,7]},{7:[2,8],11:[2,8],13:[2,8]},{7:[2,9],11:[2,9],13:[2,9]},{9:[1,18],16:[1,19]},{9:[2,10],16:[2,10],20:20,21:[1,21]},{18:[1,22]},{18:[2,15]},{7:[2,6],11:[2,6],12:11,13:[1,7]},{1:[2,4],13:[2,4]},{9:[2,12],14:[1,16],15:23,16:[2,12],17:15},{9:[2,14],16:[2,14],21:[2,14]},{9:[2,16],16:[2,16],21:[2,16]},{14:[1,28],19:24,22:25,25:26,26:[1,27],27:[1,29],28:[1,30],29:31,30:[1,32],31:[1,33],32:[1,34],33:[1,35],34:[1,36],35:[1,37],36:[1,38],37:[1,39],38:40,39:[1,41],41:[1,42],42:[1,43]},{9:[2,11],16:[2,11],20:20,21:[1,21]},{9:[2,13],11:[1,47],14:[1,28],16:[2,13],21:[2,13],22:44,23:45,24:[1,46],25:26,26:[1,27],27:[1,29],28:[1,30],29:31,30:[1,32],31:[1,33],32:[1,34],33:[1,35],34:[1,36],35:[1,37],36:[1,38],37:[1,39],38:40,39:[1,41],41:[1,42],42:[1,43]},{9:[2,17],11:[2,17],14:[2,17],16:[2,17],21:[2,17],24:[2,17],26:[2,17],27:[2,17],28:[2,17],30:[2,17],31:[2,17],32:[2,17],33:[2,17],34:[2,17],35:[2,17],36:[2,17],37:[2,17],39:[2,17],40:[2,17],41:[2,17],42:[2,17]},{9:[2,22],11:[2,22],14:[2,22],16:[2,22],21:[2,22],24:[2,22],26:[2,22],27:[2,22],28:[2,22],30:[2,22],31:[2,22],32:[2,22],33:[2,22],34:[2,22],35:[2,22],36:[2,22],37:[2,22],39:[2,22],40:[2,22],41:[2,22],42:[2,22]},{9:[2,23],11:[2,23],14:[2,23],16:[2,23],21:[2,23],24:[2,23],26:[2,23],27:[2,23],28:[2,23],30:[2,23],31:[2,23],32:[2,23],33:[2,23],34:[2,23],35:[2,23],36:[2,23],37:[2,23],39:[2,23],40:[2,23],41:[2,23],42:[2,23]},{9:[2,24],11:[2,24],14:[2,24],16:[2,24],21:[2,24],24:[2,24],26:[2,24],27:[2,24],28:[2,24],30:[2,24],31:[2,24],32:[2,24],33:[2,24],34:[2,24],35:[2,24],36:[2,24],37:[2,24],39:[2,24],40:[2,24],41:[2,24],42:[2,24]},{9:[2,25],11:[2,25],14:[2,25],16:[2,25],21:[2,25],24:[2,25],26:[2,25],27:[2,25],28:[2,25],30:[2,25],31:[2,25],32:[2,25],33:[2,25],34:[2,25],35:[2,25],36:[2,25],37:[2,25],39:[2,25],40:[2,25],41:[2,25],42:[2,25]},{9:[2,26],11:[2,26],14:[2,26],16:[2,26],21:[2,26],24:[2,26],26:[2,26],27:[2,26],28:[2,26],30:[2,26],31:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],37:[2,26],39:[2,26],40:[2,26],41:[2,26],42:[2,26]},{9:[2,27],11:[2,27],14:[2,27],16:[2,27],21:[2,27],24:[2,27],26:[2,27],27:[2,27],28:[2,27],30:[2,27],31:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],37:[2,27],39:[2,27],40:[2,27],41:[2,27],42:[2,27]},{9:[2,28],11:[2,28],14:[2,28],16:[2,28],21:[2,28],24:[2,28],26:[2,28],27:[2,28],28:[2,28],30:[2,28],31:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],37:[2,28],39:[2,28],40:[2,28],41:[2,28],42:[2,28]},{9:[2,29],11:[2,29],14:[2,29],16:[2,29],21:[2,29],24:[2,29],26:[2,29],27:[2,29],28:[2,29],30:[2,29],31:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],37:[2,29],39:[2,29],40:[2,29],41:[2,29],42:[2,29]},{9:[2,30],11:[2,30],14:[2,30],16:[2,30],21:[2,30],24:[2,30],26:[2,30],27:[2,30],28:[2,30],30:[2,30],31:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],37:[2,30],39:[2,30],40:[2,30],41:[2,30],42:[2,30]},{9:[2,31],11:[2,31],14:[2,31],16:[2,31],21:[2,31],24:[2,31],26:[2,31],27:[2,31],28:[2,31],30:[2,31],31:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],37:[2,31],39:[2,31],40:[2,31],41:[2,31],42:[2,31]},{9:[2,32],11:[2,32],14:[2,32],16:[2,32],21:[2,32],24:[2,32],26:[2,32],27:[2,32],28:[2,32],30:[2,32],31:[2,32],32:[2,32],33:[2,32],34:[2,32],35:[2,32],36:[2,32],37:[2,32],39:[2,32],40:[2,32],41:[2,32],42:[2,32]},{9:[2,33],11:[2,33],14:[2,33],16:[2,33],21:[2,33],24:[2,33],26:[2,33],27:[2,33],28:[2,33],30:[2,33],31:[2,33],32:[2,33],33:[2,33],34:[2,33],35:[2,33],36:[2,33],37:[2,33],39:[2,33],40:[2,33],41:[2,33],42:[2,33]},{9:[2,34],11:[2,34],14:[2,34],16:[2,34],21:[2,34],24:[2,34],26:[2,34],27:[2,34],28:[2,34],30:[2,34],31:[2,34],32:[2,34],33:[2,34],34:[2,34],35:[2,34],36:[2,34],37:[2,34],39:[2,34],40:[2,34],41:[2,34],42:[2,34]},{9:[2,35],11:[2,35],14:[2,35],16:[2,35],21:[2,35],24:[2,35],26:[2,35],27:[2,35],28:[2,35],30:[2,35],31:[2,35],32:[2,35],33:[2,35],34:[2,35],35:[2,35],36:[2,35],37:[2,35],39:[2,35],40:[2,35],41:[2,35],42:[2,35]},{25:48,30:[1,32],31:[1,33],32:[1,34],33:[1,35],34:[1,36],35:[1,37],36:[1,38],37:[1,39],38:40,41:[1,42],42:[1,43]},{14:[1,28],19:49,22:25,25:26,26:[1,27],27:[1,29],28:[1,30],29:31,30:[1,32],31:[1,33],32:[1,34],33:[1,35],34:[1,36],35:[1,37],36:[1,38],37:[1,39],38:40,39:[1,41],41:[1,42],42:[1,43]},{30:[2,38],31:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],37:[2,38],41:[2,38],42:[2,38]},{30:[2,39],31:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],37:[2,39],41:[2,39],42:[2,39]},{9:[2,18],11:[2,18],14:[2,18],16:[2,18],21:[2,18],24:[2,18],26:[2,18],27:[2,18],28:[2,18],30:[2,18],31:[2,18],32:[2,18],33:[2,18],34:[2,18],35:[2,18],36:[2,18],37:[2,18],39:[2,18],40:[2,18],41:[2,18],42:[2,18]},{14:[1,28],22:50,25:26,26:[1,27],27:[1,29],28:[1,30],29:31,30:[1,32],31:[1,33],32:[1,34],33:[1,35],34:[1,36],35:[1,37],36:[1,38],37:[1,39],38:40,39:[1,41],41:[1,42],42:[1,43]},{14:[2,20],26:[2,20],27:[2,20],28:[2,20],30:[2,20],31:[2,20],32:[2,20],33:[2,20],34:[2,20],35:[2,20],36:[2,20],37:[2,20],39:[2,20],41:[2,20],42:[2,20]},{14:[2,21],26:[2,21],27:[2,21],28:[2,21],30:[2,21],31:[2,21],32:[2,21],33:[2,21],34:[2,21],35:[2,21],36:[2,21],37:[2,21],39:[2,21],41:[2,21],42:[2,21]},{9:[2,36],11:[2,36],14:[2,36],16:[2,36],21:[2,36],24:[2,36],26:[2,36],27:[2,36],28:[2,36],30:[2,36],31:[2,36],32:[2,36],33:[2,36],34:[2,36],35:[2,36],36:[2,36],37:[2,36],39:[2,36],40:[2,36],41:[2,36],42:[2,36]},{11:[1,47],14:[1,28],22:44,23:45,24:[1,46],25:26,26:[1,27],27:[1,29],28:[1,30],29:31,30:[1,32],31:[1,33],32:[1,34],33:[1,35],34:[1,36],35:[1,37],36:[1,38],37:[1,39],38:40,39:[1,41],40:[1,51],41:[1,42],42:[1,43]},{9:[2,19],11:[2,19],14:[2,19],16:[2,19],21:[2,19],24:[2,19],26:[2,19],27:[2,19],28:[2,19],30:[2,19],31:[2,19],32:[2,19],33:[2,19],34:[2,19],35:[2,19],36:[2,19],37:[2,19],39:[2,19],40:[2,19],41:[2,19],42:[2,19]},{9:[2,37],11:[2,37],14:[2,37],16:[2,37],21:[2,37],24:[2,37],26:[2,37],27:[2,37],28:[2,37],30:[2,37],31:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],37:[2,37],39:[2,37],40:[2,37],41:[2,37],42:[2,37]}],defaultActions:{16:[2,15]},parseError:function parseError(s,h){throw new Error(s)},parse:function parse(i){var s=this,c=[0],v=[null],f=[],t=this.table,y="",g=0,h=0,j=0,T=2,E=1;this.lexer.setInput(i);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;if(typeof this.lexer.yylloc=="undefined"){this.lexer.yylloc={}}var k=this.lexer.yylloc;f.push(k);var m=this.lexer.options&&this.lexer.options.ranges;if(typeof this.yy.parseError==="function"){this.parseError=this.yy.parseError}function o(n){c.length=c.length-2*n;v.length=v.length-n;f.length=f.length-n}function q(){var n;n=s.lexer.lex()||1;if(typeof n!=="number"){n=s.symbols_[n]||n}return n}var w,x,z,A,a,r,B={},p,D,F,G;while(true){z=c[c.length-1];if(this.defaultActions[z]){A=this.defaultActions[z]}else{if(w===null||typeof w=="undefined"){w=q()}A=t[z]&&t[z][w]}_handle_error:if(typeof A==="undefined"||!A.length||!A[0]){var H="";if(!j){G=[];for(p in t[z]){if(this.terminals_[p]&&p>2){G.push("'"+this.terminals_[p]+"'")}}if(this.lexer.showPosition){H="Parse error on line "+(g+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+G.join(", ")+", got '"+(this.terminals_[w]||w)+"'"}else{H="Parse error on line "+(g+1)+": Unexpected "+(w==1?"end of input":("'"+(this.terminals_[w]||w)+"'"))}this.parseError(H,{text:this.lexer.match,token:this.terminals_[w]||w,line:this.lexer.yylineno,loc:k,expected:G})}if(j==3){if(w==E){throw new Error(H||"Parsing halted.")}h=this.lexer.yyleng;y=this.lexer.yytext;g=this.lexer.yylineno;k=this.lexer.yylloc;w=q()}while(1){if((T.toString())in t[z]){break}if(z===0){throw new Error(H||"Parsing halted.")}o(1);z=c[c.length-1]}x=w==2?null:w;w=T;z=c[c.length-1];A=t[z]&&t[z][T];j=3}if(A[0]instanceof Array&&A.length>1){throw new Error("Parse Error: multiple actions possible at state: "+z+", token: "+w)}switch(A[0]){case 1:c.push(w);v.push(this.lexer.yytext);f.push(this.lexer.yylloc);c.push(A[1]);w=null;if(!x){h=this.lexer.yyleng;y=this.lexer.yytext;g=this.lexer.yylineno;k=this.lexer.yylloc;if(j>0){j--}}else{w=x;x=null}break;case 2:D=this.productions_[A[1]][1];B.$=v[v.length-D];B._$={first_line:f[f.length-(D||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(D||1)].first_column,last_column:f[f.length-1].last_column};if(m){B._$.range=[f[f.length-(D||1)].range[0],f[f.length-1].range[1]]}r=this.performAction.call(B,y,h,g,this.yy,A[1],v,f);if(typeof r!=="undefined"){return r}if(D){c=c.slice(0,-1*D*2);v=v.slice(0,-1*D);f=f.slice(0,-1*D)}c.push(this.productions_[A[1]][0]);v.push(B.$);f.push(B._$);F=t[c[c.length-2]][c[c.length-1]];c.push(F);break;case 3:return true}}return true}};var l=(function(){var l=({EOF:1,parseError:function parseError(s,h){if(this.yy.parser){this.yy.parser.parseError(s,h)}else{throw new Error(s)}},setInput:function(i){this._input=i;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges){this.yylloc.range=[0,0]}this.offset=0;return this},input:function(){var c=this._input[0];this.yytext+=c;this.yyleng++;this.offset++;this.match+=c;this.matched+=c;var a=c.match(/(?:\r\n?|\n).*/g);if(a){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges){this.yylloc.range[1]++}this._input=this._input.slice(1);return c},unput:function(c){var a=c.length;var f=c.split(/(?:\r\n?|\n)/g);this._input=c+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-a-1);this.offset-=a;var o=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(f.length-1){this.yylineno-=f.length-1}var r=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:f?(f.length===o.length?this.yylloc.first_column:0)+o[o.length-f.length].length-f[0].length:this.yylloc.first_column-a};if(this.options.ranges){this.yylloc.range=[r[0],r[0]+this.yyleng-a]}return this},more:function(){this._more=true;return this},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var p=this.matched.substr(0,this.matched.length-this.match.length);return(p.length>20?"...":"")+p.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var n=this.match;if(n.length<20){n+=this._input.substr(0,20-n.length)}return(n.substr(0,20)+(n.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var p=this.pastInput();var c=new Array(p.length+1).join("-");return p+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done){return this.EOF}if(!this._input){this.done=true}var t,m,a,c,f,g;if(!this._more){this.yytext="";this.match=""}var r=this._currentRules();for(var i=0;i<r.length;i++){a=this._input.match(this.rules[r[i]]);if(a&&(!m||a[0].length>m[0].length)){m=a;c=i;if(!this.options.flex){break}}}if(m){g=m[0].match(/(?:\r\n?|\n).*/g);if(g){this.yylineno+=g.length}this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:g?g[g.length-1].length-g[g.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+m[0].length};this.yytext+=m[0];this.match+=m[0];this.matches=m;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=false;this._input=this._input.slice(m[0].length);this.matched+=m[0];t=this.performAction.call(this,this.yy,this,r[c],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input){this.done=false}if(t){return t}else{return}}if(this._input===""){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function lex(){var r=this.next();if(typeof r!=="undefined"){return r}else{return this.lex()}},begin:function begin(c){this.conditionStack.push(c)},popState:function popState(){return this.conditionStack.pop()},_currentRules:function _currentRules(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function begin(c){this.begin(c)}});l.options={flex:true,"case-insensitive":true};l.performAction=function anonymous(y,a,$,Y){var c=Y;switch($){case 0:break;case 1:break;case 2:break;case 3:return"CDO";break;case 4:return"CDC";break;case 5:return"INCLUDES";break;case 6:return"DASHMATCH";break;case 7:return 26;break;case 8:return"BAD_STRING";break;case 9:return 14;break;case 10:return 28;break;case 11:return"IMPORT_SYM";break;case 12:return"PAGE_SYM";break;case 13:return"MEDIA_SYM";break;case 14:return"CHARSET_SYM";break;case 15:return 21;break;case 16:return 33;break;case 17:return 34;break;case 18:return 32;break;case 19:return 32;break;case 20:return 32;break;case 21:return 32;break;case 22:return 32;break;case 23:return 32;break;case 24:return 35;break;case 25:return 35;break;case 26:return 35;break;case 27:return 36;break;case 28:return 36;break;case 29:return 37;break;case 30:return 37;break;case 31:return"DIMENSION";break;case 32:return 31;break;case 33:return 30;break;case 34:return 27;break;case 35:return 27;break;case 36:return"BAD_URI";break;case 37:return 39;break;case 38:return a.yytext;break;case 39:console.log(a.yytext);break}};l.rules=[/^(?:([ \t\r\n\f]+))/i,/^(?:\/\*[^*]*\*+([^/*][^*]*\*+)*\/)/i,/^(?:((\/\*[^*]*\*+([^/*][^*]*\*+)*)|(\/\*[^*]*(\*+[^/*][^*]*)*)))/i,/^(?:<!--)/i,/^(?:-->)/i,/^(?:~=)/i,/^(?:\|=)/i,/^(?:(("([^\n\r\f\\"]|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*")|('([^\n\r\f\\']|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*')))/i,/^(?:(("([^\n\r\f\\"]|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*\\?)|('([^\n\r\f\\']|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*\\?)))/i,/^(?:([-]?([_a-zA-Z]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))([_a-zA-Z0-9-]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*))/i,/^(?:#(([_a-zA-Z0-9-]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))+))/i,/^(?:@([iI])([mM])([pP])([oO])([rR])([tT]))/i,/^(?:@([pP])([aA])([gG])([eE]))/i,/^(?:@([mM])([eE])([dD])([iI])([aA]))/i,/^(?:@charset )/i,/^(?:!((([ \t\r\n\f]+)?)|(\/\*[^*]*\*+([^/*][^*]*\*+)*\/))*([iI])([mM])([pP])([oO])([rR])([tT])([aA])([nN])([tT]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([eE])([mM]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([eE])([xX]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([pP])([xX]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([cC])([mM]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([mM])([mM]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([iI])([nN]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([pP])([tT]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([pP])([cC]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([dD])([eE])([gG]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([rR])([aA])([dD]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([gG])([rR])([aA])([dD]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([mM])([sS]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([sS]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([hH])([zZ]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([kK])([hH])([zZ]))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)([-]?([_a-zA-Z]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))([_a-zA-Z0-9-]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*))/i,/^(?:([0-9]+|[0-9]*\.[0-9]+)%)/i,/^(?:([0-9]+|[0-9]*\.[0-9]+))/i,/^(?:url\((([ \t\r\n\f]+)?)(("([^\n\r\f\\"]|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*")|('([^\n\r\f\\']|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*'))(([ \t\r\n\f]+)?)\))/i,/^(?:url\((([ \t\r\n\f]+)?)(([!#$%&*-~]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*)(([ \t\r\n\f]+)?)\))/i,/^(?:((url\((([ \t\r\n\f]+)?)([!#$%&*-\[\]-~]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*(([ \t\r\n\f]+)?))|(url\((([ \t\r\n\f]+)?)(("([^\n\r\f\\"]|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*")|('([^\n\r\f\\']|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*'))(([ \t\r\n\f]+)?))|(url\((([ \t\r\n\f]+)?)(("([^\n\r\f\\"]|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*\\?)|('([^\n\r\f\\']|\\(\n|\r\n|\r|\f)|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*\\?)))))/i,/^(?:([-]?([_a-zA-Z]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))([_a-zA-Z0-9-]|([\240-\377])|((\\([0-9a-f]){1,6}(\r\n|[ \t\r\n\f])?)|\\[^\r\n\f0-9a-f]))*)\()/i,/^(?:.)/i,/^(?:.)/i];l.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],inclusive:true}};return l})();b.lexer=l;function P(){this.yy={}}P.prototype=b;b.Parser=P;return new P})();if(typeof require!=="undefined"&&typeof exports!=="undefined"){exports.parser=b;exports.Parser=b.Parser;exports.parse=function(){return b.parse.apply(b,arguments)};exports.main=function commonjsMain(a){if(!a[1]){throw new Error("Usage: "+a[0]+" FILE")}var s,c;if(typeof process!=="undefined"){s=require("fs").readFileSync(require("path").resolve(a[1]),"utf8")}else{s=require("file").path(require("file").cwd()).join(a[1]).read({charset:"utf-8"})}return exports.parser.parse(s)};if(typeof module!=="undefined"&&require.main===module){exports.main(typeof process!=="undefined"?process.argv.slice(1):require("system").args)}};var d=function(){};var e=d.prototype;var u=new C();e._processBorderCommon=function(v,a){var c=v.split(' ');var l=c.length;if(l==0||l>3)return null;var r={};var f=[];var g=[u.TYPE_COLOR,u.TYPE_WIDTH,u.TYPE_BORDERSTYLE];for(var i=0;i<l;i++){var h=c[i];var t=u.valueType(h);if(g.indexOf(t)<0||r[t])return null;r[t]='XXX';for(var j=0;j<a.length;j++){var n=a[j]+'-';switch(t){case u.TYPE_COLOR:n+='color';break;case u.TYPE_WIDTH:n+='width';break;case u.TYPE_BORDERSTYLE:n+='style';break}f.push({name:n,value:h})}}if(!r[u.TYPE_BORDERSTYLE])return null;return f};e.processBorder=function(v){var a=['border-top','border-right','border-bottom','border-left'];return this._processBorderCommon(v,a)};e.processBorderEdge=function(v,a){return this._processBorderCommon(v,[a])};e._expandAttrTo4Edges=function(v,a,f,r,c){var g=v.split(' ');var l=g.length;if(l==0||l>4)return null;var h=[];for(var i=0;i<4;i++){var n=c[i].replace('*',a);var k=i;k<l||(k-=2)<l||(k-=3)<l;k>=0||(k=0);var j=g[k];if(v!='inherit'&&!f.call(r,j))return null;h.push({name:n,value:j})}return h};e._processBorderAttr=function(v,a){var f=null;switch(a){case'color':f=u.isColor;break;case'width':f=u.isWidth;break;case'style':f=u.isBorderStyle;break;default:return null}var c=['border-top-*','border-right-*','border-bottom-*','border-left-*'];return this._expandAttrTo4Edges(v,a,f,u,c)};e.processBorderColor=function(v){return this._processBorderAttr(v,'color')};e.processBorderWidth=function(v){return this._processBorderAttr(v,'width')};e.processBorderStyle=function(v){return this._processBorderAttr(v,'style')};e.processFont=function(v){var a=u.split(v,' ');if(a.length<2)return null;var h=v.indexOf('/')>=0;var r=[];r.push({name:'font-family',value:a.pop()});var s=a.pop();if(h){var c=s.split('/');if(c.length!=2||c[1]=='')return null;r.push({name:'line-height',value:c[1]});s=c[0]}if(s=='')return null;if(!u.validateFontSize(s))return null;r.push({name:'font-size',value:s});var f={};var g=[u.TYPE_FONTSTYLE,u.TYPE_FONTVARIANT,u.TYPE_FONTWEIGHT];for(var i=0,l=a.length;i<l;i++){var t=u.valueType(a[i]);if(g.indexOf(t)<0||f[t])return null;f[t]='XXX';var n=null;r.push({name:t,value:a[i]})}return r};e.processMargin=function(s){var a=['*-top','*-right','*-bottom','*-left'];return this._expandAttrTo4Edges(s,'padding',u.validateMargin,u,a)};e.processPadding=function(s){var a=['*-top','*-right','*-bottom','*-left'];return this._expandAttrTo4Edges(s,'margin',u.validatePadding,u,a)};e.processParentAttrs=function(a){var r=[];for(var i=0,l=a.length;i<l;i++){var c=a[i];var f=c.name.toLowerCase();var s=c;switch(f){case'border':s=this.processBorder(c.value);break;case'border-top':case'border-right':case'border-bottom':case'border-left':s=this.processBorderEdge(c.value,f);break;case'border-color':s=this.processBorderColor(c.value);break;case'border-style':s=this.processBorderStyle(c.value);break;case'border-width':s=this.processBorderWidth(c.value);break;case'font':s=this.processFont(c.value);break;case'margin':s=this.processMargin(c.value);break;case'padding':s=this.processPadding(c.value);break;default:break}if(s===c){r.push(c)}else{for(idx in s){s[idx].important=c.important;r.push(s[idx])}}}return r};e.parse=function(c){var s=null;try{s=b.parse(c)}catch(a){alert('Parse error, please check your console output: \n'+a);console.log(a);console.log(a.message);return null}var r=[];var f=1;for(var i=0,l=s.length;i<l;i++){var g=s[i];var h=this.processParentAttrs(g.declaration);for(var j=0,k=h.length;j<k;j++){var m={idx:f++,selector:g.selector,property:h[j].name,value:h[j].value,important:h[j].important?true:false};r.push(m)}}return r};return new d()});sap.riv.module({qname:'sap.viz.base.Observable',version:'4.0.0'},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'}],function Setup(t){var b=function(o){this._events={};var a=this.constructor;while(a){var e=a.prototype.events,l;if(e){l=e.length;while(l--){this.addEvents(e[l])}}a=a.superclazz}if(o){if(o.listeners){this.addListeners(o.listeners);delete o.listeners}}};var c=b.prototype;c.addEvents=function(){var e=this._events,a=arguments,l=arguments.length;while(l--){if(typeof a[l]==='string'){e[a[l]]=e[a[l]]||[]}}};c.getSupportedEvents=function(){var r=[];for(var e in this._events){r.push(e)}return r};c.addListeners=function(o){var a;if(t.isArray(o)){a=o}else{a=[o]}var d=a.length,l,e;var f=this._events;while(d--){l=a[d];e=l.eventName;if(f.hasOwnProperty(e)){var g=f[e];if(!this.isListening(e,l.listener,l.scope)){g[g.length]={fn:l.listener,scp:l.scope,optArgs:l.optionalArgs}}}}return this};c.findListener=function(e,f,s){var a=this._events;if(!a.hasOwnProperty(e)){return-1}var l=a[e],d=l.length,g;while(d--){g=l[d];if(s){if(g.fn==f&&g.scp==s){return d}}else{if(g.fn==f){return d}}}return-1};c.isListening=function(e,f,s){return this.findListener(e,f,s)>-1};c.removeListener=function(e,f,s){var a=this._events;if(a.hasOwnProperty(e)){var l=a[e];var d=l.length,i;while(d--){i=this.findListener(e,f,s);if(i>-1){l.splice(i,1);d=l.length}}}return this};c.removeAllListeners=function(e){var a=this._events;if(a.hasOwnProperty(e)){a[e]=[]}return this};c.hasListener=function(e){return this._events[e]&&this._events[e].length>0};c.purgeListeners=function(){var a=this._events;for(var e in a){a[e]=[]}};c.fireEvent=function(e){var d=Array.prototype.slice.call(arguments,1);var a=this._events;if(a.hasOwnProperty(e)){var f=a[e],l;for(var i=0,g=f.length;i<g;i++){l=f[i];if(l.optArgs){d.push(l.optArgs)}l.fn.apply(l.scp||this||window,d)}}};c.on=c.addListeners;c.un=c.removeListener;return b});sap.riv.module({qname:'sap.viz.mvc.ThemeManager',version:'4.0.0'},[{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.base.Observable',version:'4.0.0'},{qname:'sap.viz.mvc.CSSParser',version:'4.0.0'}],function Setup(O,a,C){function T(c,d){var r=d===''?[]:C.parse(d);this._classes=r;this.name=c};var t=T.prototype;t.query=function(c){if(/\./.test(c))throw'. is not allowed';var d=c.split(' ');var e='';for(var i=0,l=d.length;i<l;i++){if(d[i]!='')e+='.'+d[i]}if(e=='')return null;e+='.';var f=[];for(var i=0,l=this._classes.length;i<l;i++){var g=this._classes[i];for(var h=0,j=this._classes[i].selector.length;h<j;h++){var k={idx:g.idx,selector:this._classes[i].selector[h],property:g.property,value:g.value,important:g.important,weight:0};if(e.indexOf(k.selector+'.')>=0){var m=-1;while(true){m=k.selector.indexOf('.',m+1);if(m>=0)k.weight++;else break}f.push(k)}}}f.sort(function(o,p){if(o.important!=p.important)return p.important?-1:1;if(o.weight!=p.weight)return o.weight<p.weight?-1:1;return o.idx<p.idx?-1:1});var n={};for(var i=0,l=f.length;i<l;i++){var k=f[i];n[k.property]=k.value+(k.important?' !important':'')}n.toString=function(){var o='';for(var p in this){if(this.hasOwnProperty(p)&&typeof this[p]==='string')o+=';\n '+p+': '+this[p]}if(o!='')return o.slice(2);return null};return n};var b=new(O.derive(a,{events:[],_currentTheme:undefined,constructor:function(o){this._themeReg={}},installTheme:function(c,d){var e=new T(c,d);if(!e){console.log(d);throw new Error('Failed to parse theme "'+c+'", check console for detail info.')}this._themeReg[c]=e},getClassDef:function(c){return this._currentTheme?this._currentTheme.query(c):null},changeTheme:function(c,f){var m=this;if(!f&&m._currentTheme&&m._currentTheme.name==c)return;if(this._themeReg[c]){m._changeTheme(c)}else{m._loadTheme(c,function(){m._changeTheme(c)})}},_changeTheme:function(c){this._currentTheme=this._themeReg[c]},_loadTheme:function(c,d){var m=this;var u='themes/'+c+'.js';var h=document.getElementsByTagName("head")[0]||document.documentElement;var s=document.createElement("script");s.type='text/javascript';s.src=u;var e=false;s.onload=s.onreadystatechange=function(){if(!e&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){e=true;s.onload=s.onreadystatechange=null;if(h&&s.parentNode){h.removeChild(s)}d.call(m)}};if(s.addEventListener){s.addEventListener('error',function(){throw new Error('Loading '+u+' failed.')},true)}h.insertBefore(s,h.firstChild)}}))();return b});sap.riv.module({qname:'sap.viz.TemplateManager',version:'4.0.0',exported:true},[{qname:'sap.viz.manifest',version:'4.0.0'},{qname:'sap.viz.mvc.ThemeManager',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'}],function Setup(m,T,F,a,O){function l(u,i,j){var r=document.getElementsByTagName("head")[0]||document.documentElement;var s=document.createElement("script");s.type='text/javascript';s.src=u;var v=false;s.onload=s.onreadystatechange=function(){if(!v&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){v=true;d(s);i()}};if(s.addEventListener){s.addEventListener('error',function(){d(s);j()},true)}r.insertBefore(s,r.firstChild)}function b(i,j,r,s,u){if(j<i.length){var v=i[j]+r+'/template.js';var w=function(){b(i,j+1,r,s,u)};l(v,w,w)}else{var x=g(r);if(x){s(x)}else{u()}}}function c(i,j){b(p.loadPath,0,i,j,function(){F.error('Loading template {0} failed.',i)})}function d(s){s.onload=s.onreadystatechange=null;s.parentNode.removeChild(s)}var t=m.registerCategory("template",function(r){var s;Object.defineProperties(r,{props:{value:function(v){var i=r.properties;if(i){return i[v]}}},cssText:{value:function(){if(s===undefined){s="";var u=e.css;for(var i in u){if(u.hasOwnProperty(i)){s+=i+"{";var v=u[i];for(var j in v){if(v.hasOwnProperty(j)){s+=j+":"+v[j]+";"}}s+="}"}}}return s}}});return r});var e;var f=[];function g(i){return t.get(i)}function h(){var i=e.id+"-theme";var j=e.cssText();T.installTheme(i,j);T.changeTheme(i)}function o(i,j,r){e=i;h();f.forEach(function(s){s.fn.call(s.scope,e)});if(j){j.call(r,e)}}var k="default",n={id:k,name:"Default"};var p={constructor:function(){return},loadPath:["../../../resources/templates/"],current:function(){return e},apply:function(i,j,r){var s=g(i);if(!s){c(i,function(s){o(s,j,r)})}else{o(s,j,r)}return p},addListener:function(i){f.push(i);return p},removeListener:function(i){var j=f.indexOf(i);if(j!==-1){f.splice(j,1)}return p},register:function(){t.register.apply(t,arguments);return p},extend:function(i,j){var r=t.get(i,true);O.extend(true,r,j);return p}};delete p.constructor;var q={writable:false,configurable:false};Object.defineProperties(p,{loadPath:{configurable:false},current:q,apply:q,addListener:q,removeListener:q,register:q});p.register(n);e=g(k);return p});sap.riv.module({qname:'sap.viz.util.EffectManager',version:'4.0.0'},[],function Setup(){function E(s,b){this._defs=s;this._enableGhostEffect=b}function c(b){var g;if(b!=null&&typeof(b)=='object'){if(b.rgb)g=b.rgb().toString();else g=b.toString()}else if(typeof(b)=='string'){g=d3.rgb(b.toLowerCase()).toString()}return g}function a(k){var r=parseInt(k.substr(1,2),16);var g=parseInt(k.substr(3,2),16);var b=parseInt(k.substr(5,2),16);var l;if((r==g)&&(g==b)){l=((0|(1<<8)+r+(256-r)*0.6).toString(16)).substr(1)}else{var m=(r*299+g*587+b*114+500)/1000;l=((0|(1<<8)+m).toString(16)).substr(1)}return'#'+l+l+l}function i(k,p){var r=parseInt(k.substr(1,2),16);var g=parseInt(k.substr(3,2),16);var b=parseInt(k.substr(5,2),16);if(p>=0){return'#'+((0|(1<<8)+r+(256-r)*p/100).toString(16)).substr(1)+((0|(1<<8)+g+(256-g)*p/100).toString(16)).substr(1)+((0|(1<<8)+b+(256-b)*p/100).toString(16)).substr(1)}else{return'#'+((0|(1<<8)+r*(100+p)/100).toString(16)).substr(1)+((0|(1<<8)+g*(100+p)/100).toString(16)).substr(1)+((0|(1<<8)+b*(100+p)/100).toString(16)).substr(1)}}function d(b,g,k,r){var l=k;var m=i(l,50);var n=i(k,-30);var o=b.append('radialGradient');var p=o[0][0];p.setAttribute('id',g);p.setAttribute('cx',0);p.setAttribute('cy',0);p.setAttribute('r',r);p.setAttribute('fx',0);p.setAttribute('fy',0);p.setAttribute('gradientUnits',"userSpaceOnUse");o.append("stop").attr('stop-opacity',1).attr("offset",0).attr("stop-color",m);o.append("stop").attr('stop-opacity',1).attr("offset",0.9).attr("stop-color",l);o.append("stop").attr('stop-opacity',1).attr("offset",1).attr("stop-color",n)}function e(b,g,k){var l=k;var m=i(l,10);var n=i(l,80);var o=b.append('radialGradient');var r=o[0][0];r.setAttribute('id',g);r.setAttribute('cx','50%');r.setAttribute('cy','50%');r.setAttribute('r','50%');r.setAttribute('fx','50%');r.setAttribute('fy','20%');o.append("stop").attr('stop-opacity',1).attr("offset",0).attr("stop-color",n);o.append("stop").attr('stop-opacity',1).attr("offset",0.7).attr("stop-color",m);o.append("stop").attr('stop-opacity',1).attr("offset",0.9).attr("stop-color",l);o.append("stop").attr('stop-opacity',1).attr("offset",1).attr("stop-color",l)}function f(b,g,k,l){var m=i(k,30);var n=i(k,50);var o=i(k,-10);var p=i(k,10);var q=b.append("svg:linearGradient").attr("id",g).attr("x1","0%").attr("y1","0%");if(l=='horizontal'){q.attr("y2","0%").attr("x2","100%")}else{q.attr("y2","100%").attr("x2","0%")}q.append("stop").attr('stop-opacity',1).attr("offset",0).attr("stop-color",m);q.append("stop").attr('stop-opacity',1).attr("offset",0.2).attr("stop-color",n);q.append("stop").attr('stop-opacity',1).attr("offset",0.8).attr("stop-color",o);q.append("stop").attr('stop-opacity',1).attr("offset",1).attr("stop-color",p)}function h(b,g,k,l){var m=b.append("svg:linearGradient").attr("id",g);if(l=='horizontal'){m.attr("x1","100%").attr("y1","0%").attr("x2","0%").attr("y2","0%")}else{m.attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%")}m.append("stop").attr('stop-opacity',1).attr("offset",0).attr("stop-color",'#ffffff');m.append("stop").attr('stop-opacity',1).attr("offset",1).attr("stop-color",k)}function j(p,b){var g;if(p.drawingEffect=="glossy"){switch(p.graphType){case'sector':g=p.drawingEffect+p.graphType+b.slice(1)+Math.round(p.radius);break;case'circle':g=p.drawingEffect+p.graphType+b.slice(1);break;case'triangle-up':case'triangle-down':g=p.drawingEffect+'triangle'+b.slice(1)+'vertical';break;case'triangle-left':case'triangle-right':g=p.drawingEffect+'triangle'+b.slice(1)+'horizontal';break;case'rectangle':case'diamond':case'cross':case'star':case'intersection':case'background':default:g=p.drawingEffect+'rectangle'+b.slice(1)+p.direction;break;case'line':g=null;break}}return g}E.prototype.register=function(p){var b=p.fillColor;b=c(b);if(this._enableGhostEffect){b=a(b)}var g=j(p,b);if(!g)return b;var k=this._defs.select("#"+g);if(k.empty()){if(p.drawingEffect=="glossy"){switch(p.graphType){case'background':h(this._defs,g,b,p.direction);break;case'sector':d(this._defs,g,b,p.radius);break;case'circle':e(this._defs,g,b,p.direction);break;case'triangle-up':case'triangle-down':f(this._defs,g,b,'vertical');break;case'triangle-left':case'triangle-right':f(this._defs,g,b,'horizontal');break;case'rectangle':case'diamond':case'cross':case'star':case'intersection':default:f(this._defs,g,b,p.direction);break}}else return b}return"url(#"+g+")"};E.prototype.setContainer=function(b){this._defs=b};E.prototype.ghostEffect=function(_){if(!arguments.length)return this._enableGhostEffect;this._enableGhostEffect=_};return E});sap.riv.module({qname:'sap.viz.data.handler.BaseDataHandler',version:'4.0.0'},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'}],function Setup(F,T){function d(f){var c=[];var e=true;var i=0;for(;i<f.length;i++){var g=f[i];if(g.type()=="Dimension"&&g.acceptMND()>=0){if(g.hasMNDFeeded())return g.feedId();else if(g.getDataCount()<g.max()){c[g.acceptMND()]=g;if(e)e=g.hasFeeded()}}}if(c.length==0)return"";if(e)return c[c.length-1].feedId();for(i=c.length-1;i>=0;i--){if(c[i]&&!c[i].hasFeeded())return c[i].feedId()}return""}function v(c){if(T.isString(c))return c;else if(T.isNumber(c))return c.toString();else return null}function a(c){if(T.isNumber(c))return parseFloat(c);else return null}function b(r,u){var l=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY];var c=r.getDataPointCount();if(u==Number.POSITIVE_INFINITY||!T.isNumber(u)||u>=c)return l;var m=0;var e=r.getMeasureValuesGroupCount();for(var i=0;i<e;i++){m+=r.getMeasureValuesGroupByIdx(i).getMeasureValues().length}var f=Math.floor(u/m);var g=r.getAnalysisAxisCount();if(g==0||g==1){l[0]=f}else if(g==2){var h=r.getMeasureValuesGroupByIdx(0).getMeasureValues()[0];var j=h.getValues()[0].length;if(f/j<1){l[0]=f;l[1]=1}else{l[1]=Math.floor(f/j)}}return l}function B(f,r,u){this._feeder=f;this._feeds=f.getFeeds();this._mndFeed=d(this._feeds);this._limit=b(r,u)}B.prototype.getFeedValues=function(f){var c=this._feeder.findFeed(f);if(!c)F.error('could not find feed definition of '+f);if(c.type()=="Dimension")return this.getDimensionFeedValues(c);else if(c.type()=="Measure")return this.getMeasureFeedValues(c)};B.prototype.getDimensionFeedValues=function(f){var c=[];var h=false;var e=f.data();if(e.length>0){for(var i=0;i<e.length;i++){var g=e[i];var o={};if(g){if(g.getType()=="measureNamesDimension"){o['col']={'val':'MND'};o['type']='MND';o['rows']=this.getMeasureNamesValues();c.push(o);h=true}else if(g.getType()=="analysisAxis"){var l=g.getDimensionLabels();var m=this._feeder.getAnalysisAxisIndex(f);for(var j=0;j<l.length;j++){var o={};o['col']={'val':v(l[j].getId())};var r=[];var n=l[j].getValues();var p=l[j].infos();var q=n.length;if(this._limit[m]!=Number.POSITIVE_INFINITY){q=this._limit[m]}for(var k=0;k<q;k++){var s={'val':v(n[k]),'ctx':{'type':'Dimension','path':{'aa':m,'di':j,'dii':k}}};if(p!=null)s.info=p[k];r.push(s)}o['rows']=r;c.push(o)}}else{F.error('wrong type when getting data')}}}}if(f.feedId()==this._mndFeed&&h==false){var o={};o['col']={'val':'MND'};o['type']='MND';o['rows']=this.getMeasureNamesValues();c.unshift(o)}return c.length>0?c:null};B.prototype.getMeasureFeedValues=function(f){var c=[];var m=f.getMeasureValues();var e=this._feeder.getMeasureValuesGroupIndex(f);for(var i=0;i<m.length;i++){var o={};o['col']=v(m[i].getId());var r=[];var g=m[i].getValues();var h=g.length;if(this._limit[1]!=Number.POSITIVE_INFINITY)h=this._limit[1];for(var j=0;j<h;j++){var l=g[j];var n=[];var p=l.length;if(this._limit[0]!=Number.POSITIVE_INFINITY)p=this._limit[0];for(var k=0;k<p;k++){n.push({'val':a(l[k]),'ctx':{'type':'Measure','path':{'mg':e,'mi':i,'dii_a1':k,'dii_a2':j}}})}r.push(n)}o['rows']=r;c.push(o)}return c.length>0?c:null};B.prototype.getMeasureNamesValues=function(){var c=[];var m=this._feeder.getMeasureValuesGroupFeeds();for(var i=0;i<m.length;i++){if(m[i].hasFeeded()){var e=m[i].getMeasureValues();for(var j=0;j<e.length;j++){c.push({'val':v(e[j].getId()),'ctx':{'path':{'mg':i,'mi':j}}})}}}return c};return B});sap.riv.module({qname:'sap.viz.data.handler.SingleChartDataHandler',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.data.MultiAxesDataAdapter',version:'4.0.0'},{qname:'sap.viz.data.handler.MeasureDataHandler',version:'4.0.0'}],function Setup(F,M,a){function b(c){if(c[0]==true){if(c[1]==true)return[1,2];else if(c[2]==true)return[1,2];else if(c[3]==true)F.error("Not Supported");else return[1]}else if(c[1]==true){if(c[2]==true)return[1,2];else if(c[3]==true)F.error("Not Supported");else{if(c.length>2)return[1];else return[2]}}else if(c[2]==true){if(c[3]==true)F.error("Not Supported");else return[1]}else{for(var i=0;i<c.length;i++){if(c[i]==true)F.error("could not determin measure value axis index")}return[1]}F.error("could not determin measure value axis index")}function S(d){this._dataAdapter=d}S.prototype.getDataAdapter=function(){if(this._dataAdapter.getBindingInfo()==null||this._dataAdapter.getBindingInfo()==undefined)return this._dataAdapter;else{return this.getChartDataAdapter()}};S.prototype.getChartDataAdapter=function(){var m=b(this._dataAdapter.getBindingInfo());var c=this._dataAdapter.getAnalysisAxisDataByIdx();var d=this._dataAdapter.getMeasureValuesGroupDataByIdx();var e=new M();for(var i=0;i<c.length;i++){var f=c[i];e.addAnalysisAxis({index:f.index,values:f.values})}for(i=0;i<d.length;i++){var g=d[i];e.addMeasureValuesGroup({index:g.index,values:a.makeMeasureValues(null,g,m,2,false)})}return e};return S});sap.riv.module({qname:'sap.viz.util.Objects',version:'4.0.0'},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'}],function Setup(T){var o={extend:function(){var a,n,s,c,b,d,t=arguments[0]||{},i=1,l=arguments.length,e=false;if(typeof t==="boolean"){e=t;t=arguments[1]||{};i=2}if(typeof t!=="object"&&!T.isFunction(t)){t={}}if(l===i){t=this;--i}for(;i<l;i++){if((a=arguments[i])!=null){for(n in a){s=t[n];c=a[n];if(t===c){continue}if(e&&c&&(T.isPlainObject(c))){if(b){b=false;d=s&&T.isArray(s)?s:[]}else{d=s&&T.isPlainObject(s)?s:{}}t[n]=o.extend(e,d,c)}else if(c!==undefined){t[n]=c}}}}return t},};return o});sap.riv.module({qname:'sap.viz.modules.xycontainer',version:'4.0.0'},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.modules.layout',version:'4.0.0'},{qname:'sap.viz.manifest',version:'4.0.0'},{qname:'sap.viz.data.handler.SingleChartDataHandler',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'}],function Setup(T,O,F,l,M,S,d){function a(m){return M.module.get(m).execute()}return function(){var w=0,h=0,p={},b={},c={},m={},s={},e,f=null,g=null;var i=new d('initialized','showTooltip','hideTooltip'),j=0;;var r=function(B,C){var D={},E,G,H;if(C){if(B){E=B.propertyCategory;G=p;H={};H[E]=B.properties;O.extend(true,D,H,G)}else{D=p}}else{if(B){E=B.propertyCategory;G=p[E];H=B.properties;O.extend(true,D,H,G)}}return D};var u=function(B,C){var D=c.modules;var E,G;if(D[B]&&m[B]){G=D[B].configure;E=r(G,C);m[B].properties(E)}};function k(){if(T.isEmptyObject(c))F.error('Container configuration missing');j=0;o('xAxis');o('yAxis');o('xAxis2');o('yAxis2');o('background');var B=c.modules.plot;if(!B)return;var C=m.plot=a(B.id);var D=new S(b);C.data(D.getDataAdapter());if(typeof C.effectManager=='function')C.effectManager(g);var E;if(B.configure){E=r(B.configure);C.properties(E)}if(C.dispatch){var G=C.dispatch();if(G.initialized){j++;G.on('initialized.xycontainer',y)};if(G.showTooltip)G.on('showTooltip.xycontainer',z);if(G.hideTooltip)G.on('hideTooltip.xycontainer',A)}if(m.xAxis&&!s.xAxis)s.xAxis=f.append('g').attr('class','xAxis');if(m.xAxis2&&!s.xAxis2)s.xAxis2=f.append('g').attr('class','xAxis2');if(m.yAxis&&!s.yAxis)s.yAxis=f.append('g').attr('class','yAxis');if(m.yAxis2&&!s.yAxis2)s.yAxis2=f.append('g').attr('class','yAxis2');if(m.plot&&!s.plot)s.plot=f.append('g').attr('class','plot');if(m.background&&!s.background)s.background=f.insert('g',':first-child').attr('class','background')}function n(B){if(m[B]){var C=c.modules[B];var D=C.data;if(D){m[B].data(b.createDataAdapterForModule(D))}}};function o(B){if(!c.modules[B])return;var C=c.modules[B],D=m[B]=a(C.id);n(B);var E=r(C.configure);D.properties(E);D.effectManager(g);if(D.dispatch&&D.dispatch()['initialized']){j++;D.dispatch().on('initialized.xycontainer',y)}}function q(){if(T.isEmptyObject(m)||!w||!h)return;w=w<0?0:w;h=h<0?0:h;var B={};if(m.xAxis){m.xAxis.drawable(true);B.south={size:m.xAxis.getPreferredSize()}}if(m.yAxis){m.yAxis.drawable(true);B.west={size:m.yAxis.getPreferredSize()}}if(m.xAxis2){m.xAxis2.drawable(true);B.north={size:m.xAxis2.getPreferredSize()}}if(m.yAxis2){m.yAxis2.drawable(true);B.east={size:m.yAxis2.getPreferredSize()}}if(m.plot)B.center={};var C=l({type:'border',bias:'none',size:{width:w,height:h},prefs:B});if(C.east){var D=0,E=0;if(C.south){D=C.east.bounds.height-C.south.bounds.height;E=C.east.bounds.y}if(C.north){D=C.east.bounds.height-C.north.bounds.height;E=C.west.bounds.y}s.yAxis2.attr('transform','translate('+C.east.bounds.x+','+E+')');m.yAxis2.width(C.east.bounds.width).height(D);m.yAxis2.gridlineLength(C.center.bounds.width)}else if(m.yAxis2){m.yAxis2.drawable(false)}if(C.north){var G=0,H=0;if(C.west){H=C.north.bounds.x+C.west.bounds.width}s.xAxis2.attr('transform','translate('+H+','+C.north.bounds.y+')');m.xAxis2.width(H).height(C.north.bounds.height);m.xAxis2.gridlineLength(C.center.bounds.height)}else if(m.xAxis2){m.xAxis2.drawable(false)}if(C.west){var I=0,J=0;if(C.south){I=C.west.bounds.height-C.south.bounds.height;J=C.west.bounds.y}if(C.north){I=C.west.bounds.height-C.north.bounds.height;J=C.west.bounds.y}s.yAxis.attr('transform','translate('+C.west.bounds.x+','+J+')');m.yAxis.width(C.west.bounds.width).height(I);m.yAxis.gridlineLength(C.center.bounds.width)}else if(m.yAxis){m.yAxis.drawable(false)}if(C.south){var K=0,L=0;if(C.west){L=C.south.bounds.x+C.west.bounds.width}s.xAxis.attr('transform','translate('+L+','+C.south.bounds.y+')');m.xAxis.width(C.south.bounds.width).height(C.south.bounds.height);m.xAxis.gridlineLength(C.center.bounds.height)}else if(m.xAxis){m.xAxis.drawable(false)}var N=0,P=rightPaddingxAxis2=0;if(!C.east){if(m.xAxis){P=m.xAxis.endPadding()}if(m.xAxis2){rightPaddingxAxis2=m.xAxis2.endPadding()}N=P>rightPaddingxAxis2?P:rightPaddingxAxis2}if(C.center){s.plot.attr('transform','translate('+C.center.bounds.x+','+C.center.bounds.y+')');var Q=C.center.bounds.width-N;m.plot.width(Q>0?Q:0).height(C.center.bounds.height>0?C.center.bounds.height:0);e=w-Q;if(s.background){s.background.attr('transform','translate('+C.center.bounds.x+','+C.center.bounds.y+')');m.background.width(Q>0?Q:0).height(C.center.bounds.height>0?C.center.bounds.height:0)}}if(C.west){m.yAxis.gridlineLength(C.center.bounds.width-N)}}function t(B){B.each(function(b){f=B;if(T.isEmptyObject(m))k();v()});return t}t.width=function(_){if(!arguments.length)return w;w=_;q();return t};t.height=function(_){if(!arguments.length)return h;h=_;q();return t};t.size=function(_){if(!arguments.length)return{'width':w,'height':h};h=_.height;w=_.width;q();return t};t.data=function(_){if(!arguments.length)return b;b=_;if(!T.isEmptyObject(m)){var B=new S(b);m.plot.data(B.getDataAdapter());n('xAxis');n('yAxis');n('xAxis2');n('yAxis2')}return t};t.properties=function(_){if(!arguments.length)return p;p=_;if(!T.isEmptyObject(m)){u('xAxis');u('xAxis2');u('yAxis');u('yAxis2');u('plot');u('background')}return t};t.config=function(_){if(!arguments.length)return c;c=_;return t};t.modules=function(_){if(!arguments.length){if(T.isEmptyObject(m)){k()}return m}m=_;return t};t.parent=function(_){if(!arguments.length)return f;f=_;return t};t.effectManager=function(_){if(!arguments.length)return g;g=_;return t};t.dispatch=function(_){if(!arguments.length)return i;i=_;return t};t.infoForSizeLegend=function(){return{space:e,number:1,plotHeight:m.plot.height()}};function v(){for(var B in s){if(s.hasOwnProperty(B)){s[B].datum(m[B].data()).call(m[B])}}}var x=0;function y(){if(j==++x){x=0;i.initialized()}};function z(B){i.showTooltip(B)};function A(B){i.hideTooltip(B)};return t}});sap.riv.module({qname:'sap.viz.modules.tooltip',version:'4.0.0',exported:true},[{qname:'sap.viz.modules.dispatch',version:'4.0.0'}],function Setup(D){return function(a){var b={singleMeasure:{label:{font:'bold 11px sans-serif',color:'#333333'},value:{font:'bold 14px sans-serif',color:'#333333'},padding:{vertical:9,horizontal:10}},multipleMeasure:{label:{font:"12px 'Open Sans', Arial, Helvetica, sans-serif",color:'#333333'},value:{font:"12px 'Open Sans', Arial, Helvetica, sans-serif",color:'#333333'},padding:{vertical:8,horizontal:10,inline:6,symbolGap:7,defaultSpace:8}},title:{color:'#333333',font:"bold 13px 'Open Sans', Arial, Helvetica, sans-serif",formatString:''},footer:{label:{font:"bold 10.5px 'Open Sans', Arial, Helvetica, sans-serif",color:'#333333'},value:{font:"10.5px 'Open Sans', Arial, Helvetica, sans-serif",color:'#333333'},padding:{inline:6}},valueFormat:[],labelFormat:[],maxDimensionLabelWidth:150,maxMeasureLabelWidth:80};var c={dimension:undefined,measure:undefined,value:undefined};var d={padding:5,radius:4,markerWidth:12,markerHeight:8,borderWidth:2};var e={tooltip:null,tooltipRB:null,dimensionLabel:null,separateLine:null,measureLabels:[],measureMarks:[],valueLabels:[]};var f={offset:undefined};var g={backgroundColor:'#ffffff',borderColor:'#000000',separateLineColor:['#ffffff','#8a8a8a','#ffffff'],separateLineSingleColor:'#AAAAAA',guideLineColor:'#AAAAAA'};var h={arcA:'A',lineToA:'L',moveToA:'M',closePath:'z'};var l={symbolSize:8,hasSymbol:false};var n='tooltipsymbol',o='tooltipparagraphtitle',p='tooltipparagraphlabel',q='tooltipparagraphvalue',s='tooltipfooterlabel',t='tooltipfootervalue';var v=null,u=null;var w=0,z=0,A=0,B=null,C={width:200,height:100},E={width:160,height:70,x:0,y:0},F={},G=null;_truncationParameter={isTruncated:false,currentFooterIndex:-1,currentBodyIndex:-1,defaultValue:'...',font:'bold 20px Arial',color:'#000000'};function H(){_truncationParameter.isTruncated=false;_truncationParameter.currentFooterIndex=-1;_truncationParameter.currentBodyIndex=-1}function I(i){v=d3.select(i).append('svg').style('position','absolute').attr('pointer-events','none').attr('width','0').attr('height',0).attr('class','tooltip');return I};function J(v,j){var k=b.multipleMeasure.padding.inline,m=b.multipleMeasure.padding.vertical,r=b.multipleMeasure.label.font,x=b.multipleMeasure.value.font,y=b.footer.padding.inline,_=b.footer.label.font,d1=b.title.font;var z=0,e1=0,f1=0,g1=0,h1=j.body,i1=j.footer;if(h1&&h1.length>0){z=m;if(i1&&i1.length>0){var j1=0;if(h1[0].name!=null){j1=U(v,h1[0].name,d1).height+k+U(v,_truncationParameter.defaultValue,_truncationParameter.font).height}if(i1[0].label!=null){var k1=U(v,i1[0].label,_);z+=m*3;z+=(i1.length*k1.height+y*(i1.length-1));z+=j1;if(z>C.height){_truncationParameter.isTruncated=true;_truncationParameter.currentBodyIndex=0;var l1=0;while(z>C.height){z-=k1.height;z-=y;l1++}_truncationParameter.currentFooterIndex=i1.length-l1-1;return z}z-=j1}}else{z+=m}var m1=0,n1=0;for(var i=0;i<h1.length;i++){m1++;n1+=h1[i].val.length}if(h1[0].name!=null){z+=(m1*U(v,h1[0].name,d1).height)}var o1=0;if(h1[0].val.length>0){if(h1[0].val[0].label!=null){o1=U(v,h1[0].val[0].label,r).height}if(h1[0].val[0].value!=null){var p1=U(v,h1[0].val[0].value,x).height;if(p1>o1)o1=p1}z+=(n1*o1)}z+=(k*(m1+n1-1));if(z>C.height){_truncationParameter.isTruncated=true;var l1=0;while(z>C.height){z-=o1;z-=k;l1++}_truncationParameter.currentBodyIndex=m1+n1-l1-2;var q1=U(v,_truncationParameter.defaultValue,_truncationParameter.font);return z+(q1.height-o1)}}else if(i1&&i1.length>0){if(i1[0].label!=null){var k1=U(v,i1[0].label,_);z+=m;z+=(i1.length*k1.height+y*(i1.length-1));if(z>C.height){_truncationParameter.isTruncated=true;var l1=0;while(z>C.height){z-=k1.height;z-=y;l1++}_truncationParameter.currentFooterIndex=i1.length-l1-1;var q1=U(v,_truncationParameter.defaultValue,_truncationParameter.font);return z+(q1.height-k1.height)}}}return z}function K(v,i){var w=0,m=b.multipleMeasure.padding.horizontal,j=b.multipleMeasure.padding.symbolGap,k=b.multipleMeasure.padding.defaultSpace,r=l.symbolSize;w=A+(m*2)+k;if(l.hasSymbol){w+=r+j}return w}function L(v,k){var r=0,x=0,y=k.body,_=k.footer;if(y){for(var i=0;i<y.length;i++){if(y[i].name!=null){x=U(v,y[i].name,b.title.font).width;if(x>r){r=x}}var d1=y[i].val;if(d1){if(d1.length==1&&(d1[0].value!=null)){var e1=U(v,d1[0].value,b.multipleMeasure.value.font);l.symbolSize=e1.height*0.8;l.hasSymbol=true;if(e1.width>r){r=e1.width}}else if(d1.length>1){if(d1[0].label!=null){if(d1[0].shape!=null&&d1[0].color!=null){l.symbolSize=U(v,d1[0].label,b.multipleMeasure.label.font).height*0.8;l.hasSymbol=true}}if(d1[0].value!=null){if(d1[0].shape!=null&&d1[0].color!=null){l.symbolSize=U(v,d1[0].value,b.multipleMeasure.value.font).height*0.8;l.hasSymbol=true}}for(var j=0;j<d1.length;j++){if((d1[j].label!=null)&&(d1[j].value!=null)){x=U(v,d1[j].label,b.multipleMeasure.label.font).width+U(v,d1[j].value,b.multipleMeasure.value.font).width;if(x>r){r=x}}else if(d1[j].label!=null){x=U(v,d1[j].label,b.multipleMeasure.label.font).width;if(x>r){r=x}}else if(d1[j].value!=null){x=U(v,d1[j].value,b.multipleMeasure.value.font).width;if(x>r){r=x}}}}}}}if(_){for(var m=0;m<_.length;m++){var f1=_[m];if(f1.label&&f1.value){x=U(v,f1.label,b.footer.label.font).width+U(v,f1.value,b.footer.value.font).width;if(x>r){r=x}}}}return r}function M(i,j){var k='',r;switch(i){case'circle':r=j/2;k="M0,"+r+"A"+r+","+r+" 0 1,1 0,"+(-r)+"A"+r+","+r+" 0 1,1 0,"+r+"Z";break;case"cross":var m=j/6,x=j/6;k="M"+-3*m+","+-x+"H"+-m+"V"+-3*x+"H"+m+"V"+-x+"H"+3*m+"V"+x+"H"+m+"V"+3*x+"H"+-m+"V"+x+"H"+-3*m+"Z";break;case"triangle-down":var m=j/2,x=j/2;k="M0,"+x+"L"+m+","+-x+" "+-m+","+-x+"Z";break;case"triangle-up":var m=j/2,x=j/2;k="M0,"+-x+"L"+m+","+x+" "+-m+","+x+"Z";break;case"diamond":var m=j/2,x=j/2;k="M0,"+-x+"L"+m+",0"+" 0,"+x+" "+-m+",0"+"Z";break;case'squareWithRadius':r=j/2;var y=r-3;k="M0,"+-r+"L"+-y+","+-r+"Q"+-r+","+-r+" "+-r+","+-y+"L"+-r+","+y+"Q"+-r+","+r+" "+-y+","+r+"L"+y+","+r+"Q"+r+","+r+" "+r+","+y+"L"+r+","+-y+"Q"+r+","+-r+" "+y+","+-r+"Z";break;case'square':default:r=j/2;k="M"+-r+","+-r+"L"+r+","+-r+" "+r+","+r+" "+-r+","+r+"Z";break;case"triangle-left":var m=j/2,x=j/2;k="M"+-m+",0L"+m+","+x+" "+m+","+-x+"Z";break;case"triangle-right":var m=j/2,x=j/2;k="M"+m+",0L"+-m+","+x+" "+-m+","+-x+"Z";break;case"intersection":var m=j/2,x=j/2;k="M"+m+','+x+' '+m/3+',0 '+m+','+-x+' '+m/2+','+-x+' 0,'+-x/3+' '+-m/2+','+-x+' '+-m+','+-x+' '+-m/3+',0 '+-m+','+x+' '+-m/2+','+x+' 0,'+x/3+' '+m/2+','+x;break}return k}function N(v,i,j,k,m,r){var x={drawingEffect:F.drawingEffect,fillColor:k,graphType:j,direction:'vertical'};var y=B.register(x);v.append('path').attr('d',M(j,m)).attr('transform','translate('+i.x+','+i.y+')').attr('fill',y).attr('class',r)}function O(v,m,r,x){var y=m.x,_=m.y-d.radius/2;var d1=d.markerWidth,e1=d.markerHeight;if(x=='left'){y+=e1}if(x=='top'){_+=e1}var f1=b.multipleMeasure.padding.horizontal,g1=b.multipleMeasure.padding.vertical,h1=b.multipleMeasure.padding.inline,i1=b.multipleMeasure.padding.symbolGap,j1=b.multipleMeasure.padding.defaultSpace;var k1=l.symbolSize,l1=l.hasSymbol;var m1=b.title.color,n1=b.title.font;var o1=b.multipleMeasure.label.font,p1=b.multipleMeasure.label.color,q1=b.singleMeasure.label.font,r1=b.singleMeasure.label.color;var s1=b.multipleMeasure.value.font,t1=b.multipleMeasure.value.color,u1=b.singleMeasure.value.font,v1=b.singleMeasure.value.color;var w1=b.footer.padding.inline,x1=b.footer.label.font,y1=b.footer.value.font,z1=b.footer.label.color,A1=b.footer.value.color;var B1=r.body,C1=r.footer;var D1=-1,E1=-1;var F1={x:0,y:0};var G1=false;if(B1){for(var i=0;i<B1.length;i++){if(G1)break;var H1=B1[i];if(H1.name){var I1=U(v,H1.name,n1);var J1=I1.height;F1.x=y+f1;if(i==0)F1.y=_+J1+g1;else F1.y+=(_+J1+h1);a1(v,F1,H1.name,m1,n1,o);D1++;if(_truncationParameter.isTruncated&&D1==_truncationParameter.currentBodyIndex){var K1=U(v,_truncationParameter.defaultValue,_truncationParameter.font);F1.x=y+(w-K1.width-f1);F1.y+=(h1+K1.height);a1(v,F1,_truncationParameter.defaultValue,_truncationParameter.color,_truncationParameter.font,q);break}}if(H1.val.length>0){if(H1.val.length>1){for(var j=0;j<H1.val.length;j++){if((H1.val[j].shape!=null)&&(H1.val[j].color!=null)&&(H1.val[j].label!=null)&&(H1.val[j].value!=null)){var L1=U(v,H1.val[j].label,o1),K1=U(v,H1.val[j].value,s1);var M1=(L1.height>=K1.height)?L1.height:K1.heigth;F1.x=y+f1+k1/2;F1.y+=(h1+M1);N(v,{x:F1.x,y:(F1.y-k1/2)},H1.val[j].shape,H1.val[j].color,k1,n);F1.x=y+f1+k1+i1;a1(v,F1,H1.val[j].label,p1,o1,p);F1.x=y+(w-K1.width-f1);a1(v,F1,H1.val[j].value,t1,s1,q)}else if((H1.val[j].shape!=null)&&(H1.val[j].color!=null)&&(H1.val[j].label!=null)){var L1=U(v,H1.val[j].label,o1);F1.x=y+f1+k1/2;F1.y+=(h1+L1.height);N(v,{x:F1.x,y:(F1.y-k1/2)},H1.val[j].shape,H1.val[j].color,k1,n);F1.x=y+f1+k1+i1;a1(v,F1,H1.val[j].label,p1,o1,p)}else if((H1.val[j].shape!=null)&&(H1.val[j].color!=null)&&(H1.val[j].value!=null)){var K1=U(v,H1.val[j].value,s1);F1.x=y+f1+k1/2;F1.y+=(h1+K1.height);N(v,{x:F1.x,y:(F1.y-k1/2)},H1.val[j].shape,H1.val[j].color,k1,n);F1.x=y+w-K1.width-f1;a1(v,F1,H1.val[j].value,t1,s1,q)}else if((H1.val[j].label!=null)&&(H1.val[j].value!=null)){var L1=U(v,H1.val[j].label,o1),K1=U(v,H1.val[j].value,s1);var M1=(L1.height>=K1.height)?L1.height:K1.heigth;F1.x=y+f1;F1.y+=(h1+M1);a1(v,F1,H1.val[j].label,p1,o1,p);F1.x=y+(w-K1.width-f1);a1(v,F1,H1.val[j].value,t1,s1,q)}D1++;if(_truncationParameter.isTruncated&&D1==_truncationParameter.currentBodyIndex){var N1=U(v,_truncationParameter.defaultValue,_truncationParameter.font);F1.x=y+(w-N1.width-f1);F1.y+=(h1+N1.height);a1(v,F1,_truncationParameter.defaultValue,_truncationParameter.color,_truncationParameter.font,q);G1=true;break}}}else if(H1.val.length==1){if(H1.val[0].value!=null){var K1=U(v,H1.val[0].value,s1);F1.y+=(h1+K1.height);if(F.chartType=='heatmap'||F.chartType=='tagcloud'||F.chartType=='geo'){F1.x=y+(w-K1.width-f1)}else if(H1.val[0].shape!=null&&H1.val[0].color!=null){F1.x=y+f1+k1/2;N(v,{x:F1.x,y:(F1.y-k1/2)},H1.val[0].shape,H1.val[0].color,k1,n);F1.x=y+(w-K1.width-f1)}a1(v,F1,H1.val[0].value,t1,s1,q);D1++;if(_truncationParameter.isTruncated&&D1==_truncationParameter.currentBodyIndex){var K1=U(v,_truncationParameter.defaultValue,s1);F1.x=y+(w-K1.width-f1);F1.y+=(h1+K1.height);a1(v,F1,_truncationParameter.defaultValue,_truncationParameter.color,_truncationParameter.font,q);break}}}}}}if(C1&&C1.length>0){var O1={x:y,y:F1.y+g1};var P1={x:y+w,y:F1.y+g1};v.append('line').attr('x1',O1.x+1).attr('y1',O1.y).attr('x2',P1.x-1).attr('y2',P1.y).style('stroke',g.separateLineSingleColor).style('stroke-width',1).style('shape-rendering','crispEdges');F1.y+=(g1*2);for(var k=0;k<C1.length;k++){if(C1[k].label&&C1[k].value){var L1=U(v,C1[k].label,x1),K1=U(v,C1[k].value,y1);F1.x=y+f1;if(k>0)F1.y+=w1;F1.y+=(L1.height);a1(v,F1,C1[k].label,z1,x1,s);F1.x=y+(w-K1.width-f1);a1(v,F1,C1[k].value,A1,y1,t);E1++;if(_truncationParameter.isTruncated&&E1==_truncationParameter.currentFooterIndex){break}}}}}I.showTooltip=function(i){var j=i.data;if(u!=null){u.remove()}if(F.visible){if(j.plotArea){I.plotArea(j.plotArea)}G=F.orientation;u=v.append('svg:g');c1();A=L(v,j);w=K(u,j);z=J(u,j);var k=w,m=z;if(G=='top'||G=='bottom'){m+=d.markerHeight}if(G=='left'||G=='right'){k+=d.markerHeight}v.attr('width',k+d.padding).attr('height',m+d.padding);var r=Q(j.point,E,C,w,z);T(u,{x:0,y:0,absoluteMarkerOffset:r.absoluteMarkerOffset},w,z,G);O(u,{x:0,y:0},j,G);v.style('left',r.x+'px').style('top',r.y+'px');H()}};I.hideTooltip=function(){if(u!=null){u.remove();v.attr('width',0).attr('height',0);u=null}};function P(i){if(i.labels){l.symbolSize=U(v,i.labels[0].label,b.multipleMeasure.label.font).height}}function Q(i,E,C,w,z){var j={x:0,y:0,absoluteMarkerOffset:0};var k=F.chartType;var m=d.markerHeight,r=d.markerWidth;if(F.chartType===undefined){j.x=i.x;j.y=i.y}else if(k=='heatmap'||k=='tagcloud'){if(G=='bottom'){var _=C.height-i.y+z+m;if(_>C.height){G='top';j.y=i.y}else{j.y=i.y-z-m}}var d1=R(i,E,C,w);j.x=d1.x;j.absoluteMarkerOffset=d1.absoluteMarkerOffset}else if(k=='line'||k=='verticalboxplot'||k=='verticalbar'){if(G=='left'){var e1=i.x+w+m;if(e1>C.width){G='right';j.x=i.x-w-m}else{j.x=i.x+m}}if(z/2<E.y){j.y=E.y-(z-r)/2}else j.y=0}else if(k=='radar'){var f1=0,g1=0,h1=0,i1=0,x=0,y=0;G=i.orientation;j.x=i.x;j.y=i.y-z/2;if(i.orientation=='right'){j.x-=(w+m)}if(i.orientation=='left'){f1=i.x+w+m-C.width}if(i.orientation=='right'){g1=i.x-w-m}h1=i.y-z/2;i1=i.y+z/2-C.height;if(f1<=0&&g1>=0&&h1>=0&&i1<=0){return j}if(f1>0&&f1>i.range.x){return j}if(g1<0&&Math.abs(g1)>i.range.x){return j}if(h1<0&&Math.abs(h1)>i.range.y){return j}if(i1>0&&i1>i.range.y){return j}var j1=i.angle*180/Math.PI,k1=i.angle;if(j1>=0){if(j1==0&&f1>0){j.x-=f1}else if(j1==90&&h1<0){j.y-=h1}else if(j1==180&&g1<0){j.x-=g1}else if(j1>0&&j1<90){if(h1<0&&f1>0){var l1=Math.abs(h1);if(l1>=f1){y=l1;x=y/Math.tan(k1)}else{x=f1;y=x*Math.tan(k1)}}else if(h1<0&&f1<=0){y=Math.abs(h1);x=y/Math.tan(k1)}else if(h1>=0&&f1>0){x=f1;y=x*Math.tan(k1)}j.x-=x;j.y+=y}else if(j1>90&&j1<180){if(h1<0&&g1<0){var l1=Math.abs(h1),m1=Math.abs(g1);if(l1>=m1){y=l1;x=y/Math.tan(Math.PI-k1)}else{x=m1;y=x*Math.tan(Math.PI-k1)}}else if(h1<0&&g1>=0){y=Math.abs(h1);x=y/Math.tan(Math.PI-k1)}else if(h1>=0&&g1<0){x=Math.abs(g1);y=x*Math.tan(Math.PI-k1)}j.x+=x;j.y+=y}}else{var n1=Math.abs(j1);if(n1==0&&f1>0){j.x-=f1}else if(n1==90&&i1>0){j.y-=i1}else if(n1==180&&g1<0){j.x-=g1}else if(n1>0&&n1<90){if(i1>0&&f1>0){if(i1>=f1){y=i1;x=y/Math.tan(Math.abs(k1))}else{x=f1;y=x*Math.tan(Math.abs(k1))}}else if(i1>0&&f1<=0){y=i1;x=y/Math.tan(Math.abs(k1))}else if(i1<=0&&f1>0){x=f1;y=x*Math.tan(Math.abs(k1))}j.x-=x;j.y-=y}else if(n1>90&&n1<180){if(i1>0&&g1<0){var m1=Math.abs(g1);if(i1>=m1){y=i1;x=y/Math.tan(Math.PI-Math.abs(k1))}else{x=m1;y=x*Math.tan(Math.PI-Math.abs(k1))}}else if(i1>0&&g1>=0){y=i1;x=y/Math.tan(Math.PI-Math.abs(k1))}else if(i1<=0&&g1<0){x=Math.abs(g1);y=x*Math.tan(Math.PI-Math.abs(k1))}j.x+=x;j.y-=y}}}else if(k=='geo'&&G=='left'){var h1=i.y-z/2,i1=i.y+z/2-C.height;j.y=h1;if(E.x+E.width+w-m>C.width){j.x=E.x-E.width-w;G='right'}else{j.x=E.x+E.width-m}if(h1<0){j.y=0;j.absoluteMarkerOffset=h1}if(i1>0){j.y=C.height-z;j.absoluteMarkerOffset=i1}}else{if(F.orientation=='left'){var f1=0,g1=0,h1=0,i1=0;f1=E.x+E.width+w+m-C.width;h1=i.y-z/2;i1=i.y+z/2-C.height;j.y=i.y-z/2;if(f1>0){j.x=C.width-m-w}else{j.x=E.x+E.width-m}if(h1<0){j.y=0;j.absoluteMarkerOffset=h1}if(i1>0){j.y=C.height-z;j.absoluteMarkerOffset=i1}}else if(F.orientation=='bottom'){var o1=E.y-z;if(o1<0){j.y=0}else{j.y=E.y-z}var d1=R(i,E,C,w);j.x=d1.x;j.absoluteMarkerOffset=d1.absoluteMarkerOffset}}return j}function R(i,E,C,w){var j={x:0,absoluteMarkerOffset:0};var k=w/2-(i.x-E.x)+E.width;var r=i.x-E.x+w/2;if(k>C.width){j.x=E.x;tooltipPos.absoluteMarkerOffset=i.x-E.x-w/2}else if(r>C.width){j.x=E.x+(E.width-w);j.absoluteMarkerOffset=E.width-(i.x-E.x)-w/2}else{j.x=i.x-w/2;j.absoluteMarkerOffset=0}return j}function S(i,E,C,z){var j={y:0,absoluteMarkerOffset:0};var k=E.height+(z/2-(i.y-E.y));var m=i.y-E.y+z/2;if(k>C.height){j.y=E.y;j.absoluteMarkerOffset=i.y-E.y-z/2}else if(m>C.height){j.y=E.y+E.height-z;j.absoluteMarkerOffset=i.y-(E.height-z)-E.y-z/2}else{j.y=i.y-z/2;j.absoluteMarkerOffset=0}return j}function T(v,i,j,k,m){var x=i.x,y=i.y,r=i.absoluteMarkerOffset,_=d.radius,d1=d.markerWidth,e1=d.markerHeight;var f1=' ';var g1=h.lineToA,h1=h.moveToA,i1=h.arcA,j1=h.closePath;if(m=='left'){x+=e1}if(m=='top'){y+=e1}var k1=h1+f1+x+f1+(y+_)+f1;if(m=='left'){k1+=g1+f1+x+f1+(y+k/2+r-d1/2)+f1;k1+=g1+f1+(x-e1)+f1+(y+k/2+r)+f1;k1+=g1+f1+x+f1+(y+k/2+r+d1/2)+f1}k1+=g1+x+f1+(y+k-_)+f1;k1+=i1+f1+_+f1+_+f1+'0'+f1+'0'+f1+'0'+f1+(x+_)+f1+(y+k)+f1;if(m=='bottom'){k1+=g1+f1+(x+j/2+r-d1/2)+f1+(y+k)+f1;k1+=g1+f1+(x+j/2+r)+f1+(y+k+e1)+f1;k1+=g1+f1+(x+j/2+r+d1/2)+f1+(y+k)+f1}k1+=g1+f1+(x+j-_)+f1+(y+k)+f1;k1+=f1+i1+f1+_+f1+_+f1+'0'+f1+'0'+f1+'0'+f1+(x+j)+f1+(y+k-_)+f1;if(m=='right'){k1+=g1+f1+(x+j)+f1+(y+k/2+r+d1/2)+f1;k1+=g1+f1+(x+j+e1)+f1+(y+k/2-r)+f1;k1+=g1+f1+(x+j)+f1+(y+k/2+r-d1/2)+f1}k1+=g1+f1+(x+j)+f1+(y+_)+f1;k1+=f1+i1+f1+_+f1+_+f1+'0'+f1+'0'+f1+'0'+f1+(x+j-_)+f1+y+f1;if(m=='top'){k1+=g1+f1+(x+j/2+r+d1/2)+f1+y+f1;k1+=g1+f1+(x+j/2+r)+f1+(y-e1)+f1;k1+=g1+f1+(x+j/2+r-d1/2)+f1+y+f1}k1+=g1+f1+(x+_)+f1+y+f1;k1+=i1+f1+_+f1+_+f1+'0'+f1+'0'+f1+'0'+f1+x+f1+(y+_)+f1;k1+=j1;v.append('path').attr('d',k1).attr('fill',g.backgroundColor).attr('stroke',g.borderColor).style('stroke-width',1).style('-webkit-svg-shadow','3px 3px 8px rgba(0, 0, 0, 0.3)')};function U(v,i,j){var i=v.append('svg:text').attr('x',0).attr('y',0).attr('visibility','hidden').style('font',j).text(i);var k=i.node().getBBox();i.remove();return k}function V(v,j){var m=0;if(j.title!=null){if(j.labels.length>0){var k=U(v,j.title,b.title.font);var r=k.width;for(var i=0,x=j.labels.length;i<x;i++){var y=U(v,j.labels[i].label,b.multipleMeasure.label.font).width+U(v,j.labels[i].value,b.multipleMeasure.value.font).width;if(y>r){r=y}}m=r}}else{m=U(v,j.labels[0].label,b.singleMeasure.label.font).width;var y=U(svg,j.labels[0].value,b.singleMeasure.value.font).width;if(y>m){m=y}}return m}function W(v,i){var w=0,j=l.symbolSize;var k=b.singleMeasure.padding.horizontal,m=b.multipleMeasure.padding.horizontal,r=b.multipleMeasure.padding.symbolGap,x=b.multipleMeasure.padding.defaultSpace;if(i.title!=null){w=A+(m*2)+x;if(i.shapes&&i.colors){w+=j+r}}else{w=A+(k*2)}return w}function X(v,i){var j=b.multipleMeasure.padding.inline,m=b.multipleMeasure.padding.vertical,k=b.singleMeasure.padding.vertical;var r=b.multipleMeasure.value.font,x=b.singleMeasure.value.font;var y=b.title.font;var z=0;if(i.title!=null){z=(m*3)+(j*(i.labels.length-1))+U(v,i.title,y).height+U(v,i.labels[0].value,r).height*i.labels.length}else{z=(k*3)+U(v,i.labels[0].value,x).height}return z}function Y(v){var i=v.append('svg:defs').append('svg:linearGradient').attr('id','tooltipGradient1').attr('x1','0%').attr('y1','0%').attr('x2','80%').attr('y2','0%').attr('x3','100%').attr('y3','0%');i.append('svg:stop').attr('offset','30%').attr('style','stop-color:'+g.separateLineColor[0]);i.append('svg:stop').attr('offset','60%').attr('style','stop-color:'+g.separateLineColor[1]);i.append('svg:stop').attr('offset','100%').attr('style','stop-color:'+g.separateLineColor[2])}function Z(v,i,j,k,m){var r=d3.svg.symbol().type(k).size(j*j);var x={drawingEffect:F.drawingEffect,fillColor:m,graphType:k,direction:'vertical'};var y=B.register(x);v.append('path').attr('d',r).attr('transform','translate('+i.x+','+i.y+')').attr('fill',y)}function $(v,i,j,k,m){v.append('text').attr('x',i.x).attr('y',i.y).attr('fill',k).style('font',m).text(j)}function a1(v,i,j,k,m,r){v.append('text').attr('x',i.x).attr('y',i.y).attr('fill',k).style('font',m).text(j).attr('class',r)}function b1(v,j,k){var x=j.x,y=j.y-d.radius;var m=F.orientation;var r=d.markerWidth,_=d.markerHeight;if(m=='left'){x+=_}if(m=='top'){y+=_}var d1=d.radius;var e1=b.multipleMeasure.padding.horizontal,f1=b.multipleMeasure.padding.vertical,g1=b.multipleMeasure.padding.inline,h1=b.multipleMeasure.padding.symbolGap,i1=b.multipleMeasure.padding.defaultSpace;var j1=b.singleMeasure.padding.horizontal,k1=b.singleMeasure.padding.vertical;var l1=l.symbolSize;var m1=b.title.color,n1=b.title.font;var o1=b.multipleMeasure.label.font,p1=b.multipleMeasure.label.color,q1=b.singleMeasure.label.font,r1=b.singleMeasure.label.color;var s1=b.multipleMeasure.value.font,t1=b.multipleMeasure.value.color,u1=b.singleMeasure.value.font,v1=b.singleMeasure.value.color;if(k.title!=null){var w1=U(v,k.title,n1);var x1=w1.width;var y1=w1.height;var z1={x:x+e1,y:y+y1+f1};$(v,z1,k.title,m1,n1);var A1={x:x,y:y+y1+f1*2};var B1={x:x+w,y:y+y1+f1*2};for(var i=0,C1=k.labels.length;i<C1;i++){var D1=U(v,k.labels[i].label,o1);var E1=U(v,k.labels[i].value,s1);var m={x:x+e1+l1/2,y:y+f1*2+y1+g1*i+E1.height*(i+1)-l1/2};var F1=0,G1=0;if(k.shapes&&k.colors){F1=l1;G1=h1}var H1={x:x+e1+F1+G1,y:y+f1*2+y1+g1*i+E1.height*(i+1)};var I1={x:x+e1+F1+G1+A-E1.width+i1,y:y+f1*2+y1+g1*i+E1.height*(i+1)};if(k.shapes&&k.colors){Z(v,m,l1,k.shapes[i],k.colors[i])}$(v,H1,k.labels[i].label,p1,o1);$(v,I1,k.labels[i].value,t1,s1)}}else{var D1=U(v,k.labels[0].label,q1);var E1=U(v,k.labels[0].value,u1);var H1={x:x+j1,y:y+k1+D1.height};var I1={x:x+j1,y:y+k1+D1.height+E1.height};$(v,H1,k.labels[i].label,r1,q1);$(v,I1,k.labels[i].value,v1,u1)}}I.zone=function(_){if(!arguments.length){return C}C=_;return this};I.plotArea=function(_){if(!arguments.length){return E}E=_;return this};I.properties=function(_){if(!arguments.length){return F}F=a.props(_);return this};I.effectManager=function(_){if(!arguments.length){return B}B=_;return this};function c1(){var i;if(i=a.style('viz-tooltip-background')){if((i['fill'])&&(g.backgroundColor!=i['fill']))g.backgroundColor=i['fill']}if(i=a.style('viz-tooltip-title')){if((i['fill'])&&(b.title.color!=i['fill']))b.title.color=i['fill']}if(i=a.style('viz-tooltip-label')){if(i['fill']){b.singleMeasure.label.color=i['fill'];b.multipleMeasure.label.color=i['fill']}}if(i=a.style('viz-tooltip-value')){if(i['fill']){b.singleMeasure.value.color=i['fill'];b.multipleMeasure.value.color=i['fill']}}}I.properties(null);return I}});sap.riv.module({qname:'sap.viz.modules.Constants',version:'4.0.0'},[{qname:'sap.viz.Constants',version:'4.0.0'}],function Setup(c){var m={Type:{Chart:'CHART',Container:'CONTAINER',Supplementary:'SUPPLEMENTARY',Controller:'CONTROLLER',ThirdParty:'THIRDPARTY'},CSS:{CLASS:{DATAPOINT:"datapoint"}},Event:{SelectData:{name:'selectData',desc:'Event fired when certain data point(s) is(are) selected, data context of selected item(s) would be passed in accordance with the following format.'+'<code>{name: "selectData",'+'data:[{\n//selected element\'s detail\n'+'target:"Dom Element",//an object pointed to corresponding dom element\n'+'data:[{val: "...",//value of this element\n'+'ctx:{type:"Dimension"||"Measure"||"MND",\n'+'//for Dimension\n'+'path:{aa:"...",di:"...",dii:"..."},\n'+'//for Measure\n'+'path:{mg:"...",mi:"...",dii_a1:"...",dii_a2:"..."},\n'+'//for MND\n'+'path:{mg:"...",mi:"..."}\n'+'//path: analysis path\n'+'//aa: analysis axis index // 0 for analysis axis 1,  1 for analysis 2\n'+'//di: dimension index //zero based\n'+'//dii: dimension item index //zero based\n'+'//mg: measure group index // 0 for measure group 1,1 for measure group 2\n'+'//mi: measure index // measure index in measure group zero based\n'+'//dii_a1: each dii of di in analysis axis 1 index\n'+'//dii_a2: each dii of di in analysis axis 2 index\n'+'}},{\n//for bubble, tagcloud and scatter, there will be more than one values in one selected element.\n'+'var:"...",ctx:"..."}]},{\n//if under multi selection, there will be more than one selected elements\n'+'target:"...",data:["..."]}]}'},DeSelectData:{name:'deselectData',desc:'Event fired when certain data point(s) is(are) deselected, data context of deselected item(s) would be passed in accordance with the following format.'+'<code>{name: "deselectData",'+'data:["---the same as selectedData---"]}'},TooltipShow:{name:'showTooltip',desc:'Event fired when the mouse hover onto the specific part of chart, data context of tooltip would be passed in accordance with the following format.'+'<code>{name:"showTooltip",data:{body:[{\n//data of one group\n'+'name:"...",val:[{\n//data of one row\n'+'color:"...",label:"...",shape:"...",value:"..."},"..."]},"..."],footer:[{label:"...",value:"..."},"..."],'+'plotArea:{\n//this object specifies the plot area of the chart\n'+'height:"...",width:"...",x:"...",y:"..."},point:{\n//this object specifies a point which affects the position of tooltip\n'+'x:"...",y:"..."}}}'},TooltipHide:{name:'hideTooltip',desc:'Event fired when the mouse hover out of the specific part of chart, no data is passed.'},initialized:{desc:'Event fired when the loading ends, which contains event name only.'},highlightedByLegend:{desc:"Event fired when legend item is clicked, which contains its data context."}}};c.Module=m;return m});sap.riv.module({qname:'sap.viz.data.feed.Constants',version:'4.0.0'},[{qname:'sap.viz.Constants',version:'4.0.0'}],function Setup(c){var f={Type:{Dimension:"Dimension",Measure:"Measure"},Constraints:{INF:Number.POSITIVE_INFINITY}};c.Feed=f;return f});sap.riv.module({qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},[{qname:'sap.viz.manifest',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.mvc.ThemeManager',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.data.feed.Constants',version:'4.0.0'},{qname:'sap.viz.modules.Constants',version:'4.0.0'}],function Setup(m,F,T,O,a){function l(b,c){var d=c.id;if(d==null)F.error("Cannot find module id in sub module config \"{0}\"",JSON.stringify(c));var f=m.module.get(c.id,true);b.push({module:f,config:c,subModules:f.subModules(c)})}function e(p){var d={},n;for(n in p){var b=p[n];if(b)d[n]=b.supportedValueType=='Object'?e(b.supportedValues):b.defaultValue}return d}m.registerCategory("module",function(o){var d;Object.defineProperties(o,{subModules:{value:function(b){var s;var c=o.submodulekeys;if(c&&b){var f=b.modules;if(f){s=new Array();c.forEach(function(k){var g=f[k.key];if(g){l(s,g)}})}}return s}},style:{value:function(c){var b=o.css;var r=O.extend(null,b?b["."+c].value:null,T.getClassDef(c));Object.defineProperty(r,"toString",{value:function(){var s="",i;for(i in this){s+=i+":"+this[i]+";"}return s},enumerable:false});return r}},cssText:{value:function(c){return this.style(c).toString()}},props:{value:function(p){if(!d)d=e(o.properties);return a.extend(true,null,d,p)}},execute:{value:function(){return o.fn(o)}}});return o});m.module.loadModule=l;return m.module});sap.riv.module({qname:'sap.viz.modules.manifests.Tooltip',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.tooltip',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.tooltip','type':C.Module.Type.Supplementary,'name':'tooltip','description':'Settings for the tooltip that appears when the user hovers over a series or point.','properties':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set visibility of tooltip.'},'drawingEffect':{'name':'drawingEffect','supportedValueType':'List','supportedValues':['normal','glossy'],'defaultValue':'normal','description':'Set drawing effect of Tooltip.','isExported':true}},'css':{'.viz-tooltip-background':{'description':'Define style for the tooltip background.','value':{'fill':'#ffffff'}},'.viz-tooltip-title':{'description':'Define style for the tooltip title.','value':{'fill':'#333333'}},'.viz-tooltip-label':{'description':'Define style for the tooltip label.','value':{'fill':'#333333'}},'.viz-tooltip-value':{'description':'Define style for the tooltip value.','value':{'fill':'#333333'}}},fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.modules.manifests.Background',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.background',version:'4.0.0'}],function Setup(M,C,f){var v={'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set visibility of background.'};var m={'id':'sap.viz.modules.background','type':C.Module.Type.Supplementary,'name':'background','description':'Settings for the background for the outer chart area.','properties':{'visible':v,'border':{'name':'border','description':'Settings for border property.','supportedValueType':'Object','supportedValues':{'left':{'name':'left','description':'Set left border property.','supportedValueType':'Object','supportedValues':{'visible':v,},},'right':{'name':'right','description':'Set right border property.','supportedValueType':'Object','supportedValues':{'visible':v,},},'top':{'name':'top','description':'Set top border property.','supportedValueType':'Object','supportedValues':{'visible':v,},},'bottom':{'name':'bottom','description':'Set bottom border property.','supportedValueType':'Object','supportedValues':{'visible':v,},},},},'drawingEffect':{'name':'drawingEffect','description':'Set drawing effect of background.','supportedValueType':'List','supportedValues':['normal','glossy'],'defaultValue':'normal','isExported':true,},'direction':{'name':'direction','description':'Set gradient direction of background.','supportedValueType':'List','supportedValues':['horizontal','vertical'],'defaultValue':'vertical',}},'css':{'.viz-plot-background':{'description':'Define style for the plot background.','value':{'fill':'#ffffff',}},'.viz-plot-background-border':{'description':'Define style for the plot background border.','value':{'stroke':'#d8d8d8','stroke-width':1,'shape-rendering':'crispEdges',}},},'configure':null,fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.modules.axis.categoryAxisCore',version:'4.0.0',exported:true},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'}],function Setup(T,N,O,l,a){return function(){var m;var b;var c=6;var d=5;var e=1;var f="#d8d8d8";var g=false;var h=null;var j={"title":{"visible":false,"text":undefined,},"gridline":{"visible":false,"color":f,"showFirstLine":false,"length":0,"showLastLine":false,"type":"line"},"type":"value","visible":true,"label":{"visible":true,"format":"",},"position":"left","color":"#333333"};var k=-1;p.spaceLimit=function(_){if(!arguments.length)return k;if(!g){k=_}return p};var n=function(){var i=[];if(b&&b.length>=1){i.push(b[0])}for(var S=1;S<b.length;S++){var y=b[S].domain;var z=b[S].range;var A=u(y,z);var B=A.isVertical;if(m=="left"||m=="right"){b[S].labelsToDraw=r(y,z)}else{b[S].labelsToDraw=s(y,z,B)}if(b[S].labelsToDraw.length==b[S].domain.length){i.push(b[S])}}return i};var o=function(i,y,z,A,B){var C=i.append("line").attr("y1",z).attr("y2",B).attr("x1",y).attr("x2",A).attr("stroke",j.color).attr("stroke-width",j.size).attr("shape-rendering","crispEdges");if(j.gridline.type=="dotted"){C.attr("stroke-dasharray","3, 2")}};function p(y){var z=n();if(k>=0){var A=[];var B=p.getPreferredSize().spacings;var C=k;for(var i=0;i<B.length;i++){if(C>=B[i]){A.push(z[i]);C-=B[i]}else{break}}if(A.length==0&&z.length>0){var D=[];for(var i=0;i<z[0].domain.length;i++){D.push('')}A.push({domain:D,range:z[0].range})}z=A}if(m=="left"){var E=0;var F=0;for(var S=0;S<z.length;S++,E++){if(!j.label.visible&&S!=(z.length-1)){continue}var G=z[S].domain;var H=z[S].range;var I=r(G,H);var J=v(G,H);var K=J.maxLabelTextWidth;if(!j.label.visible){K=0}if(S==(z.length-1)){if(j.gridline.showFirstLine){o(y,F+(K+2*c),H[H.length-1][1],F+(K+2*c)+j.gridline.length,H[H.length-1][1])}if(j.gridline.showLastLine){o(y,F+(K+2*c),H[0][0],F+(K+2*c)+j.gridline.length,H[0][0])}}if(z.length==1){var L=F+(K+2*c);var M=F+(K+2*c);var P=H[0][0];var Q=H[H.length-1][1];var R="M"+(L-d)+" "+P;R+="L"+L+" "+P;R+="L"+M+" "+Q;R+="L"+(M-d)+" "+Q;var U=y.append("path").attr("d",R).attr("fill","none").attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges")}else if(z.length>=2&&(S==z.length-1)){var U=y.append("line").attr("x1",F+(K+2*c)).attr("x2",F+(K+2*c)).attr("y1",H[0][0]).attr("y2",H[H.length-1][1]).attr("class","domain").attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges")}if(z.length>=2&&j.label.visible){y.append("line").attr("x1",F).attr("x2",F).attr("y1",H[0][0]).attr("y2",H[H.length-1][1]).attr("class","domain").attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges")}if(j.gridline.visible&&S==(z.length-1)){for(var i=0;i<G.length;i++){o(y,F+(K+2*c),H[i][0],F+(K+2*c)+j.gridline.length,H[i][0]);if((i==(G.length-1))||(H[i][1]!=H[i+1][0])){o(y,F+(K+2*c),H[i][1],F+(K+2*c)+j.gridline.length,H[i][1])}}o(y,F+(K+2*c)+j.gridline.length,H[0][0],F+(K+2*c)+j.gridline.length,H[i-1][1])}for(var i=0;i<G.length;i++){if(z.length==1||(z.length!=1&&!j.label.visible)){if(i>0&&(H[i][0]!=H[i-1][1])){var V=y.append("line").attr("x1",(K+2*c)-d).attr("x2",(K+2*c)).attr("y1",H[i][0]).attr("y2",H[i][0]).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges")}if(i!=(G.length-1)){var W=y.append("line").attr("x1",(K+2*c)-d).attr("x2",(K+2*c)).attr("y1",H[i][1]).attr("y2",H[i][1]).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges")}}if(z.length>=2&&j.label.visible){y.append("line").attr("x1",F).attr("x2",F+(K+2*c)).attr("y1",H[i][0]).attr("y2",H[i][0]).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges");if((i==(G.length-1))||(H[i][1]!=H[i+1][0])){y.append("line").attr("x1",F).attr("x2",F+(K+2*c)).attr("y1",H[i][1]).attr("y2",H[i][1]).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges")}}}for(var i=0;i<I.length;i++){var X=I[i].text?I[i].text:'';if(j.label.visible){var Y=y.append("text").attr("x",F+K+c).attr("y",I[i].y).attr("dominant-baseline","middle").attr("text-anchor","end").text(X).attr("fill",h.label.fill).attr("font-size",h.label['font-size']).attr("font-weight",h.label['font-weight']).attr("font-family",h.label['font-family']);q(Y)}}F+=(K+2*c)}}else if(m=="right"){var E=0;var F=0;for(var S=(z.length-1);S>=0;S--,E++){if(!j.label.visible&&S!=(z.length-1)){continue}var G=z[S].domain;var H=z[S].range;var J=v(G,H);var K=J.maxLabelTextWidth;if(S==(z.length-1)){if(j.gridline.showFirstLine){o(y,F,H[H.length-1][1],F-j.gridline.length,H[H.length-1][1])}if(j.gridline.showLastLine){o(y,F,H[0][0],F-j.gridline.length,H[0][0])}}if((z.length==1)){var L=F;var M=F;var P=H[0][0];var Q=H[H.length-1][1];var R="M"+(L+d)+" "+P;R+="L"+L+" "+P;R+="L"+M+" "+Q;R+="L"+(L+d)+" "+Q;var U=y.append("path").attr("d",R).attr("fill","none").attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges")}else if(z.length>=2&&(S==(z.length-1))){var U=y.append("line").attr("x1",F).attr("x2",F).attr("y1",H[0][0]).attr("y2",H[H.length-1][1]).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges")}if(z.length>=2&&j.label.visible){y.append("line").attr("x1",F+(K+2*c)).attr("x2",F+(K+2*c)).attr("y1",H[0][0]).attr("y2",H[H.length-1][1]).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges")}if(j.gridline.visible&&S==(z.length-1)){for(var i=0;i<G.length;i++){o(y,F+(K+2*c),H[i][0],F+(K+2*c)+j.gridline.length,H[i][0]);if((i==(G.length-1))||(H[i][1]!=H[i+1][0])){o(y,F+(K+2*c),H[i][1],F+(K+2*c)+j.gridline.length,H[i][1])}}}for(var i=0;i<G.length;i++){if(z.length==1||(z.length!=1&&!j.label.visible)){if(i>0&&(H[i][0]!=H[i-1][1])){var V=y.append("line").attr("x1",0).attr("x2",d).attr("y1",H[i][0]).attr("y2",H[i][0]).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges")}if(i!=(G.length-1)){var W=y.append("line").attr("x1",0).attr("x2",d).attr("y1",H[i][1]).attr("y2",H[i][1]).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges")}}if(z.length>=2&&j.label.visible){y.append("line").attr("x1",F).attr("x2",F+(K+2*c)).attr("y1",H[i][0]).attr("y2",H[i][0]).attr("stroke",j.color).attr("stroke-width",1).attr("shape-rendering","crispEdges");if((i==(G.length-1))||(H[i][1]!=H[i+1][0])){y.append("line").attr("x1",F).attr("x2",F+(K+2*c)).attr("y1",H[i][1]).attr("y2",H[i][1]).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges")}}}var I=r(G,H);for(var i=0;i<I.length;i++){var X=I[i].text?I[i].text:'';if(j.label.visible){var Y=y.append("text").attr("x",F+c).attr("y",I[i].y).attr("text-anchor","start").attr("dominant-baseline","middle").text(X).attr("fill",h.label.fill).attr("font-size",h.label['font-size']).attr("font-weight",h.label['font-weight']).attr("font-family",h.label['font-family']);q(Y)}}F+=(K+2*c)}}else if(m=="bottom"){var E=0;var Z=0;for(var S=(z.length-1);S>=0;S--,E++){if(!j.label.visible&&S!=(z.length-1)){continue}var G=z[S].domain;var H=z[S].range;var J=u(G,H);var $=J.maxLabelTextHeight;var _=J.isVertical;if(S==(z.length-1)){if(j.gridline.showFirstLine){o(y,H[0][0],Z,H[0][0],Z-j.gridline.length)}if(j.gridline.showLastLine){o(y,H[H.length-1][0],Z,H[H.length-1][0],Z-j.gridline.length)}}if(z.length==1){var L=H[0][0];var M=H[H.length-1][1];var P=Z;var Q=Z;var R="M"+L+" "+(P+d);R+="L"+L+" "+P;R+="L"+M+" "+Q;R+="L"+M+" "+(Q+d);var U=y.append("path").attr("d",R).attr("fill","none").attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges")}else if(z.length>=2&&(S==z.length-1)){var U=y.append("line").attr("x1",H[0][0]).attr("x2",H[H.length-1][1]).attr("y1",Z).attr("y2",Z).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges")}if(z.length>=2&&j.label.visible){y.append("line").attr("x1",H[0][0]).attr("x2",H[H.length-1][1]).attr("y1",Z+$+2*c).attr("y2",Z+$+2*c).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges")}if(j.gridline.visible&&S==(z.length-1)){for(var i=0;i<G.length;i++){o(y,H[i][0],Z+($+2*c),H[i][0],Z+($+2*c)+j.gridline.length);if((i==(G.length-1))||(H[i][1]!=H[i+1][0])){o(y,H[i][1],Z+($+2*c),H[i][1],Z+($+2*c)+j.gridline.length)}}}for(var i=0;i<G.length;i++){if(z.length==1||(z.length!=1&&!j.label.visible)){if(i>0&&(H[i][0]!=H[i-1][1])){var V=y.append("line").attr("x1",H[i][0]).attr("x2",H[i][0]).attr("y1",0).attr("y2",d).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges")}if(i!=(G.length-1)){var W=y.append("line").attr("x1",H[i][1]).attr("x2",H[i][1]).attr("y1",0).attr("y2",d).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges")}}if(z.length>=2&&j.label.visible){y.append("line").attr("x1",H[i][0]).attr("x2",H[i][0]).attr("y1",Z).attr("y2",Z+2*c+$).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges");if((i==(G.length-1))||(H[i][1]!=H[i+1][0])){y.append("line").attr("x1",H[i][1]).attr("x2",H[i][1]).attr("y1",Z).attr("y2",Z+2*c+$).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges")}}}var I=s(G,H,_);t(y,I,Z,$,G,_,z.length!=1);Z+=($+2*c)}}else if(m=="top"){var E=0;var Z=0;for(var S=0;S<z.length;S++,E++){if(!j.label.visible&&S!=(z.length-1)){continue}var G=z[S].domain;var H=z[S].range;var J=u(G,H);var $=J.maxLabelTextHeight;var _=J.isVertical;if(!j.label.visible){$=0}if(S==(z.length-1)){if(j.gridline.showFirstLine){o(y,H[0][0],$+2*c+Z,H[0][0],$+2*c+Z+j.gridline.length)}if(j.gridline.showLastLine){o(y,H[H.length-1][1],$+2*c+Z,H[H.length-1][1],$+2*c+Z+j.gridline.length)}}if((z.length==1)){var L=H[0][0];var M=H[H.length-1][1];var P=$+2*c+Z;var Q=$+2*c+Z;var R="M"+L+" "+(P-d);R+="L"+L+" "+P;R+="L"+M+" "+Q;R+="L"+M+" "+(Q-d);var U=y.append("path").attr("d",R).attr("fill","none").attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges")}else if(z.length>=2&&(S==z.length-1)){var U=y.append("line").attr("x1",H[0][0]).attr("x2",H[H.length-1][1]).attr("y1",$+2*c+Z).attr("y2",$+2*c+Z).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges")}if(z.length>=2&&j.label.visible){y.append("line").attr("x1",H[0][0]).attr("x2",H[H.length-1][1]).attr("y1",Z).attr("y2",Z).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges")}if(j.gridline.visible&&S==(z.length-1)){for(var i=0;i<G.length;i++){o(y,H[i][0],Z+($+2*c),H[i][0],Z+($+2*c)+j.gridline.length);if((i==(G.length-1))||(H[i][1]!=H[i+1][0])){o(y,H[i][1],Z+($+2*c),H[i][1],Z+($+2*c)+j.gridline.length)}}o(y,H[0][0],Z+($+2*c)+j.gridline.length,H[i-1][1],Z+($+2*c)+j.gridline.length)}for(var i=0;i<G.length;i++){if(z.length==1||(z.length!=1&&!j.label.visible)){if(i>0&&(H[i][0]!=H[i-1][1])){var V=y.append("line").attr("x1",H[i][0]).attr("x2",H[i][0]).attr("y1",($+2*c)).attr("y2",($+2*c)-d).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges")}if(i!=(G.length-1)){var W=y.append("line").attr("x1",H[i][1]).attr("x2",H[i][1]).attr("y1",($+2*c)).attr("y2",($+2*c)-d).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges")}}if(z.length>=2&&j.label.visible){y.append("line").attr("x1",H[i][0]).attr("x2",H[i][0]).attr("y1",Z).attr("y2",Z+($+2*c)).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges");if((i==(G.length-1))||(H[i][1]!=H[i+1][0])){y.append("line").attr("x1",H[i][1]).attr("x2",H[i][1]).attr("y1",Z).attr("y2",Z+($+2*c)).attr("stroke",j.color).attr("stroke-width",j.lineSize).attr("shape-rendering","crispEdges")}}}var I=s(G,H,_);t(y,I,Z,$,G,_,z.length!=1);Z+=($+2*c)}}};var q=function(i){if(jQuery.browser.msie){var z=h.label['font-size'].toString();var A=z.indexOf("px");if(A>=0){z=z.substr(0,A)}var y=i.attr("y");i.attr("y",Number(y)+z/2);i.attr("dominant-baseline","auto")}};var r=function(y,z){var A=[];for(var i=0;i<y.length;i++){var B={};B.text=x(y[i])?l.get('IDS_ISNOVALUE'):y[i];var C=w(B.text,h.label).height;var D=z[i][0]+(z[i][1]-z[i][0])/2;B.y=D;B.y1=D-C/2;B.y2=D+C/2;A.push(B)}var E=[];for(var F=0;F<=(A.length-1);F++){var G=true;for(var i=(A.length-1);i>=0;i-=(F+1)){var B=A[i];if(i!=(A.length-1)){var H=i+(F+1);if(A[i].y2>=A[H].y1){G=false;break}}E.push(B)}if(G){break}else{E=[]}}return E};var s=function(y,z,A){var B=[];for(var i=0;i<y.length;i++){var C={};C.text=x(y[i])?l.get('IDS_ISNOVALUE'):y[i];var D;if(A){D=w(C.text,h.label).height}else{D=w(C.text,h.label).width}var E=z[i][0]+(z[i][1]-z[i][0])/2;C.x=E;C.x1=E-D/2;C.x2=E+D/2;B.push(C)}var F=[];for(var G=0;G<=(B.length-1);G++){var H=true;for(var i=0;i<B.length;i+=(G+1)){var C=B[i];if(i!=0){var I=i-(G+1);if(B[i].x1<=B[I].x2){H=false;break}}F.push(C)}if(H){break}else{F=[]}}return F};var t=function(y,z,A,B,C,D,E){for(var i=0;i<z.length;i++){var F=z[i].text?z[i].text:'';if(j.label.visible){var G=y.append("text").attr("x",z[i].x).attr("y",A+B/2+c).attr("dominant-baseline","middle").attr("text-anchor","middle").text(F).attr("fill",h.label.fill).attr("font-size",h.label['font-size']).attr("font-weight",h.label['font-weight']).attr("font-family",h.label['font-family']);if(D){if(!E){if(m=='top'){G.attr('text-anchor','start').attr("y",A+B+c)}else if(m=='bottom'){G.attr("y",A+c).attr('text-anchor','end')}}var H="-90";G.attr("transform","rotate( "+H+" "+G.attr("x")+" "+G.attr("y")+" )")}q(G)}}};p.position=function(_){if(!arguments.length)return m;m=_;return p};p.properties=function(_){if(arguments.length==0)return j;j=O.extend(true,j,_);return p};p.style=function(_){if(arguments.length==0)return h;h=O.extend(true,h,_);return p};p.axScale=function(_){if(!arguments.length)return b;b=_;return p};p.getPreferredSize=function(){var y=n();var z=0;var A=0;var B=[];for(var i=0;i<y.length;i++){if(!j.label.visible&&i!=(y.length-1)){continue}var C=y[i].domain;var D=y[i].range;if(m=="bottom"||m=="top"){z=Math.abs(D[D.length-1][1]-D[0][0])+e;var E=0;if(j.label.visible){E+=u(C,D).maxLabelTextHeight}E+=2*c;A+=E;B.push(E)}else if(m=="left"||m=="right"){var F=0;if(j.label.visible){F+=v(C,D).maxLabelTextWidth}F+=2*c;z+=F;B.push(F);A=Math.abs(D[D.length-1][1]-D[0][0])+e}}if(k>=0){var G=B;var H=k;var I=0;for(var i=0;i<G.length;i++){if(H>=G[i]){I+=G[i];H-=G[i]}else{break}}if(I==0&&G.length>0){I+=G[0]}if(m=="bottom"||m=="top"){A=I}else if(m=="left"||m=="right"){z=I}}return{width:z,height:A,spacings:B,}};var u=function(y,z){var A={"maxLabelTextHeight":0,"isVertical":false};var B=0;var C=false;var D=[];var E=[];for(var i=0;i<y.length;i++){var F=w(y[i],h.label);var G=F.height;var H=F.width;if((G<H)&&H>(z[i][1]-z[i][0])){if(m=="top"||m=="bottom"){C=true}}D.push(G);E.push(H)}for(var i=0;i<y.length;i++){if(C){if(B<E[i]){B=E[i]}}else{if(B<D[i]){B=D[i]}}}A.maxLabelTextHeight=B;A.isVertical=C;return A};var v=function(y,z){var A={"maxLabelTextWidth":0,"isVertical":false};var B=0;var C=false;var D=[];var E=[];for(var i=0;i<y.length;i++){var F=w(x(y[i])?l.get('IDS_ISNOVALUE'):y[i],h.label);var G=F.height;var H=F.width;if((G<H)&&H>(z[i][1]-z[i][0])){if(m=="top"||m=="bottom"){C=true}}D.push(G);E.push(H)}for(var i=0;i<y.length;i++){if(C){if(B<D[i]){B=D[i]}}else{if(B<E[i]){B=E[i]}}}A.maxLabelTextWidth=B;A.isVertical=C;return A};var w=function(_,i){return T.fastMeasure(_,i['font-size'],i['font-weight'],i['font-family'])};var x=function(i){if(typeof(i)!="string"&&N.isNoValue(i)){return true}return false};return p}});sap.riv.module({qname:'sap.viz.modules.axis.valueAxisCore',version:'4.0.0',exported:true},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'}],function Setup(T,N,O){return function(){var m;var a=null;var b=5;var c=4;var d=7;var e=1;var f="#6c6c6c";var g="#d8d8d8";var h="#ffffff";var j="#333333";var k=null;var l={"title":{"visible":false,"text":undefined,},"gridline":{"visible":true,"color":g,"showFirstLine":false,"length":0,"showLastLine":false,"type":"line"},"type":"value","visible":true,"label":{"visible":true,"numberFormat":"",},"position":"left","color":f,"axisline":{"visible":true},};var n=-1;o.spaceLimit=function(_){if(!arguments.length)return n;n=_;return o};function o(y){var A=a.range();var B=a.domain();if(A[0]==0&&A[1]==0){return}var C=u();if(m=="bottom"){var D=0;if(l.label.visible){var E=[];for(var i=0;i<C.length;i++){E.push(C[i].text)}D=v(E)}if((n!=-1)&&(D+b+2*c+e/2>n)){C=[]}for(var i=0;i<C.length;i++){var F=y.append("line").attr("x1",a(C[i].value)).attr("x2",a(C[i].value)).attr("y1",0).attr("y2",b+1).attr("stroke",l.color).attr("stroke-width",l.lineSize).attr("shape-rendering","crispEdges");var G=function(){var U=y.append("line").attr("x1",a(C[i].value)).attr("x2",a(C[i].value)).attr("y1",-l.gridline.length).attr("y2",0).attr("stroke",l.gridline.color).attr("stroke-width",l.gridline.size).attr("shape-rendering","crispEdges");if(l.gridline.type=="dotted"){U.attr("stroke-dasharray","3, 2")}if(l.gridline.type=="incised"){var U=y.append("line").attr("x1",a(C[i].value)-1).attr("x2",a(C[i].value)-1).attr("y1",-l.gridline.length).attr("y2",0).attr("stroke",h).attr("stroke-width",l.gridline.size).attr("shape-rendering","crispEdges")}};if(i==0&&l.gridline.showFirstLine){G()}else if(i==(C.length-1)&&l.gridline.showLastLine){G()}else if((i!=(C.length-1))&&(i!=0)&&l.gridline.visible){G()}}if(l.label.visible){r(y,"Bottom",C,D)}if(l.axisline.visible){var H=A[0];var I=A[1];var J=0;var K=0;var L=0;var P="M"+H+" "+(J+L);P+="L"+H+" "+J;P+="L"+I+" "+K;P+="L"+I+" "+(K+L);var M=y.append("path").attr("d",P).attr("fill","none").attr("stroke",l.color).attr("stroke-width",l.lineSize).attr("shape-rendering","crispEdges")}}else if(m=="top"){var D=0;if(l.label.visible){var E=[];for(var i=0;i<C.length;i++){E.push(C[i].text)}D=v(E)}if((n!=-1)&&(D+b+2*c+e/2>n)){C=[]}var Q=1;if(l.label.visible){Q=2}for(var i=0;i<C.length;i++){var F=y.append("line").attr("x1",a(C[i].value)).attr("x2",a(C[i].value)).attr("y1",D+Q*c).attr("y2",D+Q*c+b).attr("stroke",l.color).attr("stroke-width",l.lineSize).attr("shape-rendering","crispEdges");var G=function(){var U=y.append("line").attr("x1",a(C[i].value)).attr("x2",a(C[i].value)).attr("y1",D+b+Q*c).attr("y2",D+b+Q*c+l.gridline.length).attr("stroke",l.gridline.color).attr("stroke-width",l.gridline.size).attr("shape-rendering","crispEdges");if(l.gridline.type=="dotted"){U.attr("stroke-dasharray","3, 2")}if(l.gridline.type=="incised"){var U=y.append("line").attr("x1",a(C[i].value)-1).attr("x2",a(C[i].value)-1).attr("y1",D+b+Q*c).attr("y2",D+b+Q*c+l.gridline.length).attr("stroke",h).attr("stroke-width",l.gridline.size).attr("shape-rendering","crispEdges")}};if(i==0&&l.gridline.showFirstLine){G()}else if(i==(C.length-1)&&l.gridline.showLastLine){G()}else if((i!=(C.length-1))&&(i!=0)&&l.gridline.visible){G()}}if(l.label.visible){r(y,"Top",C,D)}if(l.axisline.visible){var H=A[0];var I=A[1];var J=D+b+Q*c;var K=D+b+Q*c;var L=0;var P="M"+H+" "+(J-L);P+="L"+H+" "+J;P+="L"+I+" "+K;P+="L"+I+" "+(K-L);var M=y.append("path").attr("d",P).attr("fill","none").attr("stroke",l.color).attr("stroke-width",l.lineSize).attr("shape-rendering","crispEdges")}}else if(m=="left"){C=q(C);var R=0;if(l.label.visible){var E=[];for(var i=0;i<C.length;i++){E.push(C[i].text)}R=w(E)}if((n!=-1)&&(R+b+2*c+e/2>n)){C=[]}var Q=1;if(l.label.visible){Q=2}for(var i=0;i<C.length;i++){var F=y.append("line").attr("x1",R+Q*c).attr("x2",R+Q*c+b).attr("y1",a(C[i].value)).attr("y2",a(C[i].value)).attr("stroke",l.color).attr("stroke-width",l.lineSize).attr("shape-rendering","crispEdges");var G=function(){var U=y.append("line").attr("y1",a(C[i].value)).attr("y2",a(C[i].value)).attr("x1",R+Q*c+b).attr("x2",R+Q*c+b+l.gridline.length).attr("stroke",l.gridline.color).attr("stroke-width",l.gridline.size).attr("shape-rendering","crispEdges");if(l.gridline.type=="dotted"){U.attr("stroke-dasharray","3, 2")}if(l.gridline.type=="incised"){var U=y.append("line").attr("y1",a(C[i].value)+1).attr("y2",a(C[i].value)+1).attr("x1",R+Q*c+b).attr("x2",R+Q*c+b+l.gridline.length).attr("stroke",h).attr("stroke-width",l.gridline.size).attr("shape-rendering","crispEdges")}};if(i==0&&l.gridline.showFirstLine){G()}else if(i==(C.length-1)&&l.gridline.showLastLine){G()}else if((i!=(C.length-1))&&(i!=0)&&l.gridline.visible){G()}if(l.label.visible){var S=y.append("text").attr("x",R+c).attr("y",a(C[i].value)).attr("dominant-baseline","middle").attr("text-anchor","end").text(C[i].text).attr("fill",k.label.fill).attr("font-size",k.label['font-size']).attr("font-weight",k.label['font-weight']).attr("font-family",k.label['font-family']);p(S)}}if(l.axisline.visible){var H=R+Q*c+b;var I=R+Q*c+b;var J=A[0];var K=A[1];var L=0;var P="M"+(H-L)+" "+J;P+="L"+H+" "+J;P+="L"+I+" "+K;P+="L"+(I-L)+" "+K;var M=y.append("path").attr("d",P).attr("fill","none").attr("stroke",l.color).attr("stroke-width",l.lineSize).attr("shape-rendering","crispEdges")}}else if(m=="right"){C=q(C);if(l.label.visible){var E=[];for(var i=0;i<C.length;i++){E.push(C[i].text)}R=w(E)}if((n!=-1)&&(R+b+2*c+e/2>n)){C=[]}for(var i=0;i<C.length;i++){var F=y.append("line").attr("x1",0).attr("x2",b).attr("y1",a(C[i].value)).attr("y2",a(C[i].value)).attr("stroke",l.color).attr("stroke-width",l.lineSize).attr("shape-rendering","crispEdges");var G=function(){var U=y.append("line").attr("y1",a(C[i].value)).attr("y2",a(C[i].value)).attr("x1",-l.gridline.length).attr("x2",0).attr("stroke",l.gridline.color).attr("stroke-width",l.gridline.size).attr("shape-rendering","crispEdges");if(l.gridline.type=="dotted"){U.attr("stroke-dasharray","3, 2")}if(l.gridline.type=="incised"){var U=y.append("line").attr("y1",a(C[i].value)+1).attr("y2",a(C[i].value)+1).attr("x1",-l.gridline.length).attr("x2",0).attr("stroke",h).attr("stroke-width",l.gridline.size).attr("shape-rendering","crispEdges")}};if(i==0&&l.gridline.showFirstLine){G()}else if(i==(C.length-1)&&l.gridline.showLastLine){G()}else if((i!=(C.length-1))&&(i!=0)&&l.gridline.visible){G()}if(l.label.visible){var S=y.append("text").attr("x",b+c).attr("y",a(C[i].value)).attr("dominant-baseline","middle").attr("text-anchor","start").text(C[i].text).attr("fill",k.label.fill).attr("font-size",k.label['font-size']).attr("font-weight",k.label['font-weight']).attr("font-family",k.label['font-family']);p(S)}}if(l.axisline.visible){var H=0;var I=0;var J=A[0];var K=A[1];var L=0;var P="M"+(H+L)+" "+J;P+="L"+H+" "+J;P+="L"+I+" "+K;P+="L"+(I+L)+" "+K;var M=y.append("path").attr("d",P).attr("fill","none").attr("stroke",l.color).attr("stroke-width",l.lineSize).attr("shape-rendering","crispEdges")}}};var p=function(i){if(jQuery.browser.msie){var A=k.label['font-size'].toString();var B=A.indexOf("px");if(B>=0){A=A.substr(0,B)}var y=i.attr("y");i.attr("y",Number(y)+A/2);i.attr("dominant-baseline","auto")}};o.position=function(_){if(!arguments.length)return m;m=_;return o};o.style=function(_){if(arguments.length==0)return k;k=O.extend(true,k,_);return o};o.properties=function(_){if(arguments.length==0)return l;l=z(l,_);return o};o.axScale=function(_){if(!arguments.length)return a;a=_;return o};o.startPadding=function(){if(a){var i=u();var y=0;if(i.length>0){y=x(i[0].text,k.label)}if(y==0){return 0}if(m=="top"||m=="bottom"){return y.width/2}else{return y.height/2}}else{return 0}};o.endPadding=function(){if(a){var i=u();var y=0;if(i.length>0){y=x(i[i.length-1].text,k.label)}if(y==0){return 0}if(m=="top"||m=="bottom"){return y.width/2}else{return y.height/2}}else{return 0}};o.getPreferredSize=function(){var y=a.domain();var A=a.range();var B=0;var C=0;var D=[];if(!(A[0]==0&&A[1]==0)){if(m=="bottom"||m=="top"){B=Math.abs(A[1]-A[0])+e;if(l.label.visible){var E=u();var F=[];for(var i=0;i<E.length;i++){F.push(E[i].text)}C=v(F)+b+2*c+e/2}else{C=b+c+e/2}D.push(C)}else if(m=="left"||m=="right"){if(l.label.visible){var E=u();var F=[];for(var i=0;i<E.length;i++){F.push(E[i].text)}B=w(F)+b+2*c+e/2}else{B=b+c+e/2}D.push(B);C=Math.abs(A[1]-A[0])+e}}return{width:B,height:C,spacings:D,}};var q=function(y){var A=false;if(y.length>0){if(a(y[0].value)>a(y[y.length-1].value)){A=true}}var B=[];for(var i=0;i<y.length;i++){if(!N.isNoValue(y[i].value)){var C={};C.value=y[i].value;C.text=y[i].text;var D=x(C.text,k.label).height;var E=a(C.value);C.y1=E-D/2;C.y2=E+D/2;B.push(C)}}var F=[];F=s(B,A,true);return F};var r=function(y,A,B,C){if(B.length==0){return}var D=false;if(B.length>0){if(a(B[0].value)>a(B[B.length-1].value)){D=true}}var E=[];for(var i=0;i<B.length;i++){var F={};F.value=B[i].value;F.text=B[i].text;var G=x(F.text,k.label).width;var H=a(F.value);F.x1=H-G/2;F.x2=H+G/2;E.push(F)}var I=[];I=s(E,D,false);for(var i=0;i<I.length;i++){var F=y.append("text").attr("x",a(I[i].value)).attr("y",c+b).attr("dominant-baseline","hanging").attr("text-anchor","middle").text(I[i].text).attr("fill",k.label.fill).attr("font-size",k.label['font-size']).attr("font-weight",k.label['font-weight']).attr("font-family",k.label['font-family']);F.attr("dominant-baseline","auto");F.attr("y",C+c)}};var s=function(y,A,B){var C=[];if(y.length>0){if(!(y[0].value>=0&&y[y.length-1].value>=0)&&!(y[0].value<=0&&y[y.length-1].value<=0)){var D=[];var E=[];for(var i=0;i<y.length;i++){if(y[i].value<=0){D.push(y[i])}if(y[i].value>=0){E.push(y[i])}}D=t(D,A,B);E=t(E,A,B);var F=function(G,H){return G.value-H.value};D.sort(F);E.sort(F);if(D[D.length-1].value==0&&E[0].value==0){D.pop()}C=D.concat(E)}else{C=t(y,A,B)}}if(C.length<=1){C=[]}return C};var t=function(y,A,B){var C=true;if(Math.abs(y[0].value)>Math.abs(y[y.length-1].value)){C=false}var D=[];if(!A){for(var E=0;E<=(y.length-1);E++){var F=true;if(C){for(var i=0;i<y.length;i+=(E+1)){var G=y[i];if(i!=0){var H=i-(E+1);if(!B){if(y[i].x1<=y[H].x2){F=false;break}}else{if(y[i].y1<=y[H].y2){F=false;break}}}D.push(G)}}else{for(var i=(y.length-1);i>=0;i-=(E+1)){var G=y[i];if(i!=(y.length-1)){var H=i+(E+1);if(!B){if(y[i].x2>=y[H].x1){F=false;break}}else{if(y[i].y2>=y[H].y1){F=false;break}}}D.push(G)}}if(F){break}else{D=[]}}}else{for(var E=0;E<=(y.length-1);E++){var F=true;if(C){for(var i=0;i<y.length;i+=(E+1)){var G=y[i];if(i!=0){var H=i-(E+1);if(!B){if(y[H].x1<=y[i].x2){F=false;break}}else{if(y[H].y1<=y[i].y2){F=false;break}}}D.push(G)}}else{for(var i=(y.length-1);i>=0;i-=(E+1)){var G=y[i];if(i!=(y.length-1)){var H=i+(E+1);if(!B){if(y[H].x2>=y[i].x1){F=false;break}}else{if(y[H].y2>=y[i].y1){F=false;break}}}D.push(G)}}if(F){break}else{D=[]}}}return D};var u=function(){var y=a.domain();var A=d;if(a.tickHint){A=a.tickHint}var B=a.ticks(A);var C;var D;if(y[0]<=y[y.length-1]){C=y[0];D=y[y.length-1]}else{C=y[y.length-1];D=y[0]}if(B.length>0){if(B[0]!=C){B.unshift(C)}if(B[B.length-1]!=D){B.push(D)}}var E=[];for(var i=0;i<B.length;i++){var F={};F.value=B[i];F.text=B[i].toString();E.push(F)}if(l.label&&l.label.numberFormat){for(var i=0;i<B.length;i++){var G=d3.format(l.label.numberFormat);E[i].text=(G(B[i]))}}return E};var v=function(y){var A=0;for(var i=0;i<y.length;i++){var B=x(y[i],k.label).height;if(A<B){A=B}}return A};var w=function(y){var A=0;for(var i=0;i<y.length;i++){var B=x(y[i],k.label).width;if(A<B){A=B}}return A};var x=function(_,i){return T.fastMeasure(_,i['font-size'],i['font-weight'],i['font-family'])};var z=function(i,y){for(var A in y){if(typeof(y[A])==="object"){if(i[A]){i[A]=z(i[A],y[A])}else{i[A]=y[A]}}else{i[A]=y[A]}}return i};return o}});sap.riv.module({qname:'sap.viz.modules.axis',version:'4.0.0',exported:true},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.modules.axis.valueAxisCore',version:'4.0.0'},{qname:'sap.viz.modules.axis.categoryAxisCore',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'}],function Setup(T,O,v,c,l,N,d){return function(m){var a=null;var p=null;var b=0;var f=0;var g=true;var h=-1;var n="viz-axis";var o="viz-axis-body";var q="viz-axis-title";var r="viz-axis-label";var s=11;var t={};var u={};var w=true;var x={"drawable":true,};var y=new d('initialized');x=O.extend(true,x,m.props(null));var z={};z=O.extend(true,z,m.props(null));var A=null;var B=null;var C=null;var D={};function E(){D.title=m.style(q);D.label=m.style(r)};var F=function(){if(!x.drawable){return false}else{if(!H()&&!G()){return false}}return true};var G=function(){return x.title.visible};var H=function(){if(!g){return false}var e=A.range();var i=A.domain();var j=null;if(x.type=="category"){j=A.rangeBand()}var k=false;if(!x.isIndependentMode){if(u){k=true}}else{if(t){k=true}}return!(!x.visible||(e[0]==0&&e[e.length-1]==0&&e.length>=2)||(e.length==1&&e[0]==0&&i.length==1&&i[0]==0&&x.type=="value")||((!j||!k)&&e.length==1&&e[0]==0&&i.length==1&&i[0]==0&&x.type=="category"))};var I=function(j){p=j;var k=j.select("."+n);var M=A.range();var P=A.domain();if(!F()){k.remove()}else{var Q=I.getPreferredSize().spacings;var R=Q[0];var S=0;for(var i=1;i<Q.length;i++){S+=Q[i]}if(h>=0&&h<(R+S)){w=false}L();var U;var V;var W=K();U=W.core;V=W.coreScale;var X=U().properties(x).style(D).position(x.position).axScale(V).spaceLimit(h);var Y;if(k.empty()){k=j.append("g").attr("class",n);Y=k.append("g").attr("class",o)}else{var e=k.select("."+o).remove();Y=k.append("g").attr("class",o);Y=k.select("."+o)}if(H()){Y.call(X)}var Z="";if(!(x.title.text===undefined)){Z=x.title.text}else{if(x.type=="value"){if(C)Z=C;else Z="Value"}else{var $=[];if(x.isIndependentMode){if(t){for(dataObj in t){$=t[dataObj].values;break}}}else{if(u){$=u.values}}for(var i=0;i<$.length;i++){if($[i].type){if($[i].type=="MND"&&i==0){Z+=l.get('IDS_DEFAULTMND')+(($.length==1)?"":" - ")}else if($[i].type=="MND"&&i==($.length-1)){Z+=" - "+l.get('IDS_DEFAULTMND')}}else{Z+=$[i].col.val;if(!(i==($.length-1))&&!$[i+1].type){Z+=" / "}}}}}var _=s;k.select("."+q).remove();if(G()){if(x.title.visible&&w){var a1=X.getPreferredSize();var b1=k.append("g").attr("class",q).append("text").attr("text-anchor","middle").attr("fill",D.title.fill).attr("font-size",D.title['font-size']).attr("font-weight",D.title['font-weight']).attr("font-family",D.title['font-family']);if(x.position=="bottom"){if(!H()){a1.height=0}b1.attr("x",a1.width/2).attr("y",a1.height+_).attr("dominant-baseline","hanging");if(jQuery.browser.msie){var c1=D.title['font-size'].toString();var d1=c1.indexOf("px");if(d1>=0){c1=c1.substr(0,d1)}b1.attr("y",Number(b1.attr("y"))+c1/2);b1.attr("dominant-baseline","auto")}T.ellipsis(Z,b1.node(),a1.width,D.title.toString())}else if(x.position=="top"){if(!H()){a1.height=0}titleHieght=J(Z,D.title).height;Y.attr("transform","translate(0, "+(titleHieght+_)+")");b1.attr("x",a1.width/2).attr("y",titleHieght).attr("dx","0").attr("dy","0").attr("dominant-baseline","auto");T.ellipsis(Z,b1.node(),a1.width,D.title.toString())}else if(x.position=="left"){if(!H()){a1.width=0}titleWidth=J(Z,D.title).height;Y.attr("transform","translate("+(titleWidth+_)+", "+0+")");var e1=titleWidth;var f1=a1.height/2;var ac="-90";b1.attr("transform","rotate( "+ac+" "+e1+" "+f1+" )").attr("x",e1).attr("y",f1).attr("dominant-baseline","auto");T.ellipsis(Z,b1.node(),a1.height,D.title.toString())}else{if(!H()){a1.width=0}titleWidth=J(Z,D.title).height;var e1=a1.width+titleWidth/2+_;var f1=a1.height/2;var ac="-90";b1.attr("transform","rotate( "+ac+" "+e1+" "+f1+" )").attr("x",e1).attr("y",f1-titleWidth/2).attr("dominant-baseline","hanging");if(jQuery.browser.msie){var c1=D.title['font-size'].toString();var d1=c1.indexOf("px");if(d1>=0){c1=c1.substr(0,d1)}f1=Number(a1.height/2)+c1/2;b1.attr("y",f1);b1.attr("dominant-baseline","auto")}T.ellipsis(Z,b1.node(),a1.height,D.title.toString())}}}w=true}y.initialized();return I};I.parent=function(_){if(!arguments.length)return p;p=_;return I};I.width=function(_){if(arguments.length==0){return b}else{b=_;if(x.position=="bottom"||x.position=="top"){if(f){h=f}}else if(x.position=="left"||x.position=="right"){if(b){h=b}}return I}};I.height=function(_){if(arguments.length==0)return f;f=_;if(x.position=="bottom"||x.position=="top"){if(f){h=f}}else if(x.position=="left"||x.position=="right"){if(b){h=b}}return I};I.gridlineLength=function(_){if(arguments.length==0)return x.gridline.length;x.gridline.length=_;return I};I.startPadding=function(){var e=0;if(x.type=="value"){e=v().properties(x).style(D).position(x.position).axScale(A).startPadding()}return e};I.endPadding=function(){var e=0;if(x.type=="value"){e=v().properties(x).style(D).position(x.position).axScale(A).endPadding()}return e};I.size=function(_){if(arguments.length==0)return{"width":b,"height":f,};b=_.width;f=_.height;return I};I.independentData=function(_){if(x.isIndependentMode){if(arguments.length==0)return t;t=_}},I.data=function(_){if(arguments.length==0)return t;if(!x.isIndependentMode){t=_;if(_.getAnalysisAxisDataByIdx){u=t.getAnalysisAxisDataByIdx(0)}}return I};I.title=function(_){if(arguments.length==0)return C;C=_;return I};I.properties=function(_){if(arguments.length==0)return x;x=O.extend(true,x,m.props(_));E();if(x.customizedColor){x.color=x.customizedColor}return I};I.scale=function(_){if(arguments.length==0)return A;A=_;return I};I.isDrawBody=function(_){if(arguments.length==0)return g;g=_;return I};I.color=function(_){if(arguments.length==0)return x.color;if(!_){_=z.color}x=O.extend(true,x,{"customizedColor":_});x=O.extend(true,x,{"color":_});if(x.title.applyAxislineColor&&_){D.title.fill=_}return I};I.drawable=function(_){if(arguments.length==0)return x.drawable;x=O.extend(true,x,{"drawable":_});return I};I.getPreferredSize=function(){var e=[0];var j=[0];if(A){e=A.range();j=A.domain()}if(!A||(!F())){return{width:0,height:0,}}else{var k=K();var M=(k.core)().properties(x).style(D).position(x.position).axScale(k.coreScale).spaceLimit(h);var P;if(x.title.visible){var P;if(!(x.title.text===undefined)){P=x.title.text}else{P="Value"}}var Q=0;var R=0;var S=0;var U=[];var V=M.getPreferredSize();if(x.position=="bottom"||x.position=="top"){if(!H()){V.height=0;V.spacings=[]}if(x.title.visible){Q=J(P,D.title).height;S=s}var W=Q+S;U=U.concat([W]);U=U.concat(V.spacings);var X=0;for(var i=1;i<U.length;i++){X+=U[i]}var Y=W+X;var Z=Y;if(h>=0&&h<Y){Z=V.height}return{maxSizeConstant:0.5,width:V.width,height:Y,realHeight:Z,spacings:U,}}else if(x.position=="left"||x.position=="right"){if(!H()){V.width=0;V.spacings=[]}if(x.title.visible){R=J(P,D.title).height;S=s}var W=R+S;U=U.concat([W]);U=U.concat(V.spacings);var X=0;for(var i=1;i<U.length;i++){X+=U[i]}var $=X+W;var _=$;if(h>=0&&h<$){_=V.width}return{maxSizeConstant:0.5,width:$,realWidth:_,height:V.height,spacings:U,}}}};I.effectManager=function(_){if(arguments.length==0)return B;B=_;return I};I.dispatch=function(_){if(!arguments.length)return y;y=_;return I};var J=function(_,e){return T.fastMeasure(_,e['font-size'],e['font-weight'],e['font-family'])};var K=function(){var e={};var M;if(x.type=="category"){var P=false;var R=A.range();if(R[0]>R[1]){P=true}M=[];var Q=[];if(x.isIndependentMode){for(dataObj in t){Q=t[dataObj].values}}else{if(u){Q=u.values}}var S=-1;var U=1;for(var i=0;i<Q.length;i++){if(Q[i].type){if(Q[i].type=="MND"){S=i;U=Q[i].rows.length}}}if(S==0){U=1}var V=A.range();var W=A.rangeBand();for(var i=0;i<Q.length;i++){var X=false;if(Q[i].type){if(Q[i].type=="MND"){X=true}}if(!X){var Y=Q[i].rows;var Z=[];var $=[];var _=null;var a1=0;var b1=1;for(var j=0;j<Y.length;j++){if((j==Y.length-1)||(Y[j].val!=Y[j+1].val)||((S!=0)&&(i==(Q.length-1)))){Z.push(Y[j].val);_=Y[j].val;$.push([a1,a1+b1*W*U]);a1=a1+b1*W*U;b1=1}else if((j==Y.length-1)&&Y[j].val==Y[j+1].val){if(Q[i-1]&&Q[i-1].rows[j]&&Q[i-1].rows[j+1]&&Q[i-1].rows[j].val!=Q[i-1].rows[j+1].val){Z.push(Y[j].val);_=Y[j].val;$.push([a1,a1+b1*W*U]);a1=a1+b1*W*U;b1=1}}else{b1++}}if(Y.length==0){$.push([a1,W*2]);a1=W*2}if(P){Z=Z.reverse()}d1={"domain":Z,"range":$,};M.push(d1)}}if(S==0){var Z=[];var $=[];var c1=Q[S].rows;var d1;if(!M[0]){var rg=R;var f1;f1=A.rangeExtent()[1]/c1.length;for(var i=0;i<c1.length;i++){Z.push(c1[i].val);$.push([f1*i,f1*(i+1)])}if(P){Z=Z.reverse()}d1={"domain":Z,"range":$,}}else{var rg=M[0].range;var g1=rg.length-1;var f1=rg[g1][1]-rg[0][0];for(var i=0;i<c1.length;i++){Z.push(c1[i].val);$.push([f1*i,f1*(i+1)])}if(P){Z=Z.reverse()}d1={"domain":Z,"range":$,};for(var i=0;i<M.length;i++){var dm=M[i].domain;for(var j=1;j<c1.length;j++){M[i].domain=M[i].domain.concat(dm)}var rg=[];for(var k=0;k<M[i].range.length;k++){rg.push([M[i].range[k][0],M[i].range[k][1]])}var i1=rg[rg.length-1][1]-rg[0][0];for(var j=1;j<c1.length;j++){var j1=[];for(var k=0;k<M[i].range.length;k++){j1.push([M[i].range[k][0],M[i].range[k][1]])}for(var k=0;k<rg.length;k++){rg[k][0]+=i1;rg[k][1]+=i1}var k1=j1.concat(rg);var j1=[];for(var k=0;k<k1.length;k++){j1.push([k1[k][0],k1[k][1]])}M[i].range=j1}}}M.unshift(d1)}else if(S>0){var l1=M[M.length-1].range;var Z=[];var $=[];var c1=Q[S].rows;var rg=M[0].range;var g1=rg.length-1;var f1=rg[g1][1]-rg[0][0];for(var i=0;i<(U*l1.length);i++){Z.push(c1[i%U].val);var m1=l1[parseInt(i/U)][0];var n1=l1[parseInt(i/U)][1];var o1=parseInt(i%U);var p1=(n1-m1)/U;$.push([m1+o1*p1,m1+o1*p1+p1])}if(P){Z=Z.reverse()}var d1={"domain":Z,"range":$,};M.push(d1)}core=c}else{core=v;M=A}e.core=core;e.coreScale=M;return e};function L(){if(!B)return;var e={drawingEffect:'normal',fillColor:x.color,};x.color=B.register(e);if(x.customizedColor){x.color=x.customizedColor}e={drawingEffect:'normal',fillColor:D.label.fill,};D.label.fill=B.register(e);e={drawingEffect:'normal',fillColor:D.title.fill,};D.title.fill=B.register(e)}return I}});sap.riv.module({qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.axis',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.axis','type':C.Module.Type.Supplementary,'name':'axis','properties':{'isIndependentMode':{'name':'isIndependentMode','supportedValueType':'Boolean','defaultValue':false,'description':'Set whether axis works on independent mode, currently it is used specially for boxplot chart.','isExported':false},'lineSize':{'name':'lineSize','supportedValueType':'String','defaultValue':'1','description':'Set line size of axis.','isExported':true,},'title':{'name':'title','description':'Settings for axis title.','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':false,'description':'Set visibility of axis title.'},'text':{'name':'text','supportedValueType':'String','description':'Set text of axis title.'},'applyAxislineColor':{'name':'applyAxislineColor','supportedValueType':'Boolean','defaultValue':false,'description':'Set title color same with axisline color.','isExported':false,},},},'gridline':{'name':'gridline','description':'Settings for axis gridline.','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set visibility of axis gridline.'},showFirstLine:{'name':'showFirstLine','supportedValueType':'Boolean','defaultValue':false,'description':'Set enabled/disabled the first line of gridlines.','isExported':false,},showLastLine:{'name':'showLastLine','supportedValueType':'Boolean','defaultValue':false,'description':'Set enabled/disabled the last line of gridlines.','isExported':false,},'type':{'name':'type','supportedValueType':'List','supportedValues':['line','dotted','incised'],'defaultValue':'line','description':'Set type of gridline.','isExported':true,},'color':{'name':'color','supportedValueType':'String','defaultValue':'#d8d8d8','description':'Set color of gridline.','isExported':true,},'size':{'name':'size','supportedValueType':'String','defaultValue':'1','description':'Set line size of gridline.','isExported':true,},},},'color':{'name':'color','supportedValueType':'String','defaultValue':'#6c6c6c','description':'Set color of axisline.','isExported':true,},'axisline':{'name':'axisline','description':'Settings for axisline.','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set visibility of axisline.'},},},'type':{'name':'type','supportedValueType':'List','supportedValues':['value','category',],'defaultValue':'value','description':'Set type of axis.','isExported':false,},'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set visibility of axis.',},'label':{'name':'label','description':'Settings for axis label.','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set visibility of axis label.'},'numberFormat':{'name':'numberFormat','supportedValueType':'String','description':'Set number format of value axis.'},},},'position':{'name':'position','supportedValueType':'List','supportedValues':['left','right','top','bottom'],'defaultValue':'bottom','description':'Set position of axis.','isExported':false,},},'css':{'.viz-axis-title':{'description':'Define style for the axis title.','value':{'fill':'black','font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'14px','font-weight':'bold'}},'.viz-axis-label':{'description':'Define style for the axis label.','value':{'fill':'#333333','font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'12px','font-weight':'normal'}}},'configure':null,fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.data.handler.MultiChartDataHandler',version:'4.0.0'},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.data.MultiAxesDataAdapter',version:'4.0.0'},{qname:'sap.viz.data.handler.MeasureDataHandler',version:'4.0.0'}],function Setup(F,M,c){function d(h){var s=h.slice(0);s.sort(function(a,b){return a.index-b.index});s.shift();return s}function e(b){if(b[0]==true){if(b[1]==true)return[1,2];else return[1]}else if(b[1]==true){return[2]}else{return[1]}}function f(b){if(b[0]==true){if(b[1]==true)return[1];else if(b[2]==true){if(b.length>3)return[1];else return[2]}else if(b[3]==true)F.error("Not Supported");else return[1]}else if(b[1]==true){if(b[2]==true)return[1,2];else if(b[3]==true)F.error("Not Supported");else return[1]}else if(b[2]==true){if(b[3]==true)F.error("Not Supported");else{if(b.length>3)return[1];else return[2]}}else{for(var i=0;i<b.length;i++){if(b[i]==true)F.error("could not determin measure value axis index")}return[1]}F.error("could not determin measure value axis index")}function g(a,t){this._dataAdapter=a;this._aa=this._dataAdapter.getAnalysisAxisDataByIdx();this._mg=this._dataAdapter.getMeasureValuesGroupDataByIdx();this._subAxes=d(this._aa);this._type=t;if(this._type==undefined){this._measureValueAxisIndex=f(this._dataAdapter.getBindingInfo());this._maxMeasureAxis=2}else if(this._type=="measures"){this._measureValueAxisIndex=e(this._dataAdapter.getBindingInfo());this._maxMeasureAxis=this._dataAdapter.getBindingInfo().length}}g.prototype.getSubDataAdapter=function(a){if(this._type==undefined){return this.getSubDataAdapterByContext(a)}else if(this._type=="measures"){return this.getSubDataAdapterByMeasures(a)}return null};g.prototype.getSubDataAdapterByContext=function(a){if(a){if(a.path.mg!=undefined&&a.path.mi!=undefined){if(a.path.di!=undefined&&a.path.dii!=undefined){var b=new M();for(var i=0;i<this._subAxes.length;i++){var s=this._subAxes[i];b.addAnalysisAxis({index:s.index-1,values:s.values})}var m=this._mg[a.path.mg];b.addMeasureValuesGroup({index:0,values:c.makeMeasureValues(a,m,this._measureValueAxisIndex,this._maxMeasureAxis,true)});return b}else{var b=new M();for(var i=0;i<this._subAxes.length;i++){var s=this._subAxes[i];b.addAnalysisAxis({index:s.index-1,values:s.values})}var m=this._mg[a.path.mg];b.addMeasureValuesGroup({index:0,values:c.makeMeasureValues(null,{"values":[m.values[a.path.mi]]},this._measureValueAxisIndex,this._maxMeasureAxis,false)});return b}}else{var b=new M();for(var i=0;i<this._subAxes.length;i++){var s=this._subAxes[i];b.addAnalysisAxis({index:s.index-1,values:s.values})}for(i=0;i<this._mg.length;i++){var m=this._mg[i];b.addMeasureValuesGroup({index:m.index,values:c.makeMeasureValues(a,m,this._measureValueAxisIndex,this._maxMeasureAxis,false)})}return b}}return null};g.prototype.getSubDataAdapterByMeasures=function(a){var b=new M();for(var i=0;i<this._aa.length;i++){b.addAnalysisAxis(this._aa[i])}var m=this._mg[0];b.addMeasureValuesGroup({index:0,values:c.makeMeasureValues(null,{"values":[m.values[a.row]]},this._measureValueAxisIndex,this._maxMeasureAxis,false)});b.addMeasureValuesGroup({index:1,values:c.makeMeasureValues(null,{"values":[m.values[a.col]]},this._measureValueAxisIndex,this._maxMeasureAxis,false)});return b};return g});sap.riv.module({qname:'sap.viz.modules.util.DimensionalInfoHandler',version:'4.0.0'},[],function Setup(){return function(p,m){var d=m;var a=p;;var b;var c;var r={'values':[]};var e={'values':[]};var f=[];var g;var h;var l=function(){};l.setData=function(i){d=i;return l};l.setProperties=function(p){a=p;return l};l.getColumnDimensionData=function(){return e};l.getRowDimensionData=function(){return r};l.getContexts=function(){return f};function n(){if(b>0){g=1;h=d.values[0].rows.length;f.push([]);var j=e.values;j[0]={'col':{'val':"MND"},'rows':[]};for(var i=0;i<d.values[0].rows.length;++i){j[0].rows.push({'val':d.values[0].rows[i].val});f[0].push(d.values[0].rows[i].ctx)}}else{g=d.values[0].rows.length;h=1;var k=r.values;k[0]={'col':{'val':"MND"},'rows':[]};for(var i=0;i<d.values[0].rows.length;++i){k[0].rows.push({'val':d.values[0].rows[i].val});f.push([d.values[0].rows[i].ctx])}}};function o(){r.values=[];e.values=[];g=0;h=0;f=[]};function q(j,k,D,E){for(var i=D;i<D+E;++i){if(d.values[i].rows[j].val!=d.values[i].rows[k].val)return false}return true};function s(i,j,k,D){var E=0;var F=i.length;var G=true;for(var H=0;G&&H<D;++H){var I=F;var J=E;G=false;for(var K=E;K<F;++K){if(d.values[k+H].rows[i[K]].val===d.values[k+H].rows[j].val){G=true;if(K<I)I=K;if(K>=J)J=K+1}}if(G){E=I;F=J}}if(!G){if(F<i.length)i.splice(F,0,j);else i.push(j)}};function t(j,k,D){var E=[];for(var i=k;i<k+D;++i){E.push(d.values[i].rows[j].val)}return E};function u(j,k,D){var E={};for(var i=0;i<j.length;++i){E[t(j[i],k,D)]=i}return E};function v(k,D){var E=[];var F=[];F.push(0);for(var i=1;i<d.values[k].rows.length;++i){s(F,i,k,D)}var G=e.values;for(var i=0;i<D;++i){var H={};H.col=d.values[k+i].col;H.rows=[];H.rows[0]={'val':d.values[k+i].rows[0].val};G.push(H)}for(var i=0;i<F.length;++i){for(var j=0;j<D;j++){G[j].rows[i]={'val':d.values[k+j].rows[F[i]].val}}}var I=u(F,k,D);for(var i=0;i<d.values[k].rows.length;++i){var H=t(i,k,D);E[i]=I[H]}h=F.length;return E};function w(i){if(!i)return null;return{'type':i.type,'path':{'aa':i.path.aa,'di':i.path.di,'dii':i.path.dii}}};function x(j){var k=[];for(var i=0;i<j.length;++i){k.push(w(j[i]))}return k};function y(j,k){for(var i=0;i<j.length;++i){if(!j[i])j[i]={path:{}};j[i].path.mg=k.path.mg;j[i].path.mi=k.path.mi}};function z(k){var D=f.length;for(var i=0;i<k;++i){for(var j=0;j<D;++j){f.push(x(f[j]))}}};function A(M,D,E,F){var G=M?d.values.length-1:0;var H=d.values[G].rows;var I={};I.col=d.values[G].col;I.rows=[];var J=D?r.values:e.values;var K=D?E:F;if(D&&E==0){J[0]={'col':{'val':"MND"},'rows':[]};y(f[0],H[0].ctx);J[0].rows.push({'val':H[0].val});for(var i=1;i<H.length;++i){J[0].rows.push({'val':H[i].val});f.push(x(f[0]));y(f[i],H[i].ctx)}g=H.length;return}if(!D&&F==0){J[0]={'col':{'val':"MND"},'rows':[]};for(var i=0;i<H.length;++i){J[0].rows.push({'val':H[i].val})}for(var i=0;i<f.length;++i){f[i][0].path.mg=H[0].ctx.path.mg;f[i][0].path.mi=H[0].ctx.path.mi;for(var j=1;j<H.length;++j){f[i].push(w(f[i][0]));f[i][j].path.mg=H[j].ctx.path.mg;f[i][j].path.mi=H[j].ctx.path.mi}}return}var L=D?g:h;if(M){for(var i=0;i<L;++i){for(var j=0;j<J.length;++j){for(var k=1;k<H.length;++k){var N={'val':J[j].rows[i*H.length+k-1].val};J[j].rows.splice(i*H.length+k,0,N)}}}for(var i=0;i<L;++i){for(var j=0;j<H.length;++j){var N={'val':H[j].val};I.rows.push(N)}}J.push(I);if(D){g*=H.length;for(var i=0;i<g;i+=H.length){y(f[i],H[0].ctx);for(var j=1;j<H.length;++j){var O=x(f[i]);f.splice(i+j,0,O);y(f[i+j],H[j].ctx)}}}else{h*=H.length;for(var i=0;i<f.length;++i){for(var j=0;j<h;j+=H.length){f[i][j].path.mg=H[0].ctx.path.mg;f[i][j].path.mi=H[0].ctx.path.mi;for(var k=1;k<H.length;++k){f[i].splice(j+k,0,w(f[i][j]));f[i][j+k].path.mg=H[k].ctx.path.mg;f[i][j+k].path.mi=H[k].ctx.path.mi}}}}return}else{for(var i=1;i<H.length;++i){for(var j=0;j<K;++j){for(var k=0;k<L;++k){var N={'val':J[j].rows[k].val};J[j].rows.push(N)}}}for(var j=0;j<H.length;++j){for(var i=0;i<L;++i){var N={'val':H[j].val};I.rows.push(N)}}J.splice(0,0,I);if(D){g*=H.length;z(H.length-1);for(var i=0;i<g;++i){y(f[i],H[g%H.length].ctx)}}else{h*=H.length;for(var i=0;i<f.length;++i){var P=[];y(f[i],H[0].ctx);for(var j=1;j<H.length;++j){var Q=x(i);y(Q,H[0].ctx);P=P.concat(x(i))}f[i]=f[i].concat(P)}}}};function B(k,D,E){var F=r.values;for(var i=0;i<k;++i){var G={};G.col=d.values[D+i].col;G.rows=[];G.rows[0]={'val':d.values[D+i].rows[0].val};F.push(G)}for(var i=1;i<d.values[D].rows.length;++i){if(q(i,i-1,D,k))E[i]=g;else{++g;for(var j=0;j<k;j++){F[j].rows[g]={'val':d.values[D+j].rows[i].val}}E[i]=g}}++g};function C(){var k=0,D=d.values.length;var E=c,F=b;var M=false,G=true;if(d.values[0].type=="MND"){++k;if(E>0)--E;else{--F;G=false}}if(d.values[D-1].type=="MND"){M=true;--D;if(F>0){--F;G=false}else{G=true;--E}}if(k<D){var H=[];if(F>0||E>0){H[0]=0;g=0;if(E>0){B(E,k,H)}else{g=1;for(var i=1;i<d.values[k].rows.length;++i)H[i]=0}var I=[];if(F>0){I=v(k+E,F)}else{h=1;for(var i=0;i<d.values[k].rows.length;++i)I[i]=0}f=new Array(g);for(var i=0;i<g;++i){f[i]=[];for(var j=0;j<h;++j)f[i][j]=null}for(var i=0;i<d.values[k].rows.length;++i){f[H[i]][I[i]]=d.values[k+E+F-1].rows[i].ctx}}if(E<c||F<b){A(M,G,E,F)}}};l.process=function(){o();if(!d||!d.values||d.values.length==0)return;b=a&&a["numberOfDimensionsInColumn"]!=undefined?a["numberOfDimensionsInColumn"]:1;if(!b||b<0)b=0;if(b>d.values.length)b=d.values.length;c=d.values.length-b;if(c<0)c=0;if(d.values.length==1&&d.values[0].type=="MND"){n()}else{C()}};return l}});sap.riv.module({qname:'sap.viz.modules.tablecontainer',version:'4.0.0'},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.modules.layout',version:'4.0.0'},{qname:'sap.viz.modules.util.DimensionalInfoHandler',version:'4.0.0'},{qname:'sap.viz.data.handler.MultiChartDataHandler',version:'4.0.0'},{qname:'sap.viz.manifest',version:'4.0.0'},{qname:'sap.viz.data.MultiAxesDataAdapter',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'}],function Setup(T,O,F,l,D,M,a,b,d){return function(c){var w=0,h=0,e=0,f=0,p={},g=null,k=c.props(null),n={},o={},s=[],q=[],r=null,t={},u={},v={},x=null,y=3,z=2,A=d3.scale.ordinal(),B=d3.scale.ordinal(),C=new d('initialized','showTooltip','hideTooltip'),E=0,G=0;var P='multiLayout';function H(m){return a.module.get(m).execute()}function I(){if(T.isEmptyObject(t))F.error('Container configuration missing');J();E=0,G=0;K(t,'xAxis',o.columnData);K(t,'yAxis',o.rowData);K(t,'xAxis2',o.columnData);K(t,'yAxis2',o.rowData);N();Q();R();S();G=G+E}function J(){delete o.contexts;delete o.columnData;delete o.rowData;delete o.dataHandler;var i=D({'numberOfDimensionsInColumn':k.numberOfDimensionsInColumn},r.getAnalysisAxisDataByIdx(0));i.process();var j=i.getRowDimensionData();var m=i.getColumnDimensionData();var _=i.getContexts();y=_.length;z=y>0?_[0].length:z;var g1=new b();g1.addAnalysisAxis({key:g1.key,index:0,values:m.values});var h1=new b();h1.addAnalysisAxis({key:j.key,index:0,values:j.values});o.contexts=_;o.columnData=g1;o.rowData=h1;o.dataHandler=new M(r)}function K(t,i,j){if(!t.modules[i])return;var m=t.modules[i],_=u[i]=H(m.id);L(i,j);var g1={},h1,i1;if(m.configure){h1=p[m.configure.propertyCategory]||{};i1=m.configure.properties||{};O.extend(true,g1,i1,h1);_.properties(g1)}_.effectManager(g);if(_.dispatch&&_.dispatch()['initialized']){G++;_.dispatch().on('initialized.tablecontainer',d1)}v[i]=x.append('g').attr('class',i)}function L(i,j){if(u[i]){u[i].data(j)}}function N(){var j=t.modules.plot;if(!j)return;U();V();var m=o.contexts;var _=u.plot=[];for(var g1=0;g1<z;g1++){for(var h1=0;h1<y;h1++){var i1=m[h1][g1];if(i1){var i=g1*y+h1;var j1=_[i]=H(j.id);j1.config(j);j1.effectManager(g);if(j1.dispatch){E++;var k1=j1.dispatch();if(k1.initialized)k1.on('initialized.tablecontainer',d1);if(k1.showTooltip)k1.on('showTooltip.tablecontainer',e1);if(k1.hideTooltip)k1.on('hideTooltip.tablecontainer',f1)}}}}}function Q(){var j=u.plot;if(j){var m=t.modules.plot;if(!m)return;var _=null,g1,h1;var i1=m.configure;if(i1){h1={};if(i1.propertyCategory){h1[i1.propertyCategory]=i1.properties}g1=p;_={};O.extend(true,_,h1,g1)}else{_=p}for(var i=0,j1=j.length;i<j1;i++){if(_&&j[i]){j[i].properties(_)}}}}function R(){var j=o.dataHandler;var m=o.contexts;var _=u.plot;for(var g1=0;g1<z;g1++){for(var h1=0;h1<y;h1++){var i1=m[h1][g1];if(i1){var i=g1*y+h1;var j1=j.getSubDataAdapter(i1);if(_[i]){_[i].data(j1)}}}}}function S(){var j=t.modules.plot;if(!j)return;var _=u.plot;var g1=v.plot=[];if(v.plotRoot){v.plotRoot.remove()}var h1=v.plotRoot=x.append('g').attr('class','plot');for(var i1=0;i1<z;i1++){for(var j1=0;j1<y;j1++){var i=i1*y+j1;if(_[i]){var k1=_[i];g1[i]=h1.append('g').attr('class','plot'+i);k1.parent(g1[i]);if(k1.modules){var l1=k1.modules();var m1;for(var m in l1){if(l1.hasOwnProperty(m)){m1='plot['+i+']'+'.'+m;s.push(m1);u['plot['+i+']'+'.'+m]=l1[m]}}}var n1=j.controllers;if(n1){for(var nc in n1){if(n1.hasOwnProperty(nc)){var p1=n1[nc];var q1=H(p1.id);q1().module(k1);props={};propsCat=p1.propertyCategory;usrProps=p[propsCat];sysProps=p1.properties;O.extend(true,props,sysProps,usrProps);q1.properties(props);q.push('plot['+i+']'+'.'+nc);u['plot['+i+']'+'.'+nc]=q1}}}}}}}function U(){for(var i=0,j=q.length;i<j;i++){delete u[q[i]]}q=[]}function V(){for(var i=0,j=s.length;i<j;i++){delete u[s[i]]}s=[]}function W(){if(T.isEmptyObject(u)||!w||!h)return;var i={};if(u.xAxis){u.xAxis.drawable(true);i.south={size:u.xAxis.getPreferredSize()}}if(u.yAxis){u.yAxis.drawable(true);i.west={size:u.yAxis.getPreferredSize()}}if(u.xAxis2){u.xAxis2.drawable(true);i.north={size:u.xAxis2.getPreferredSize()}}if(u.yAxis2){u.yAxis2.drawable(true);i.east={size:u.yAxis2.getPreferredSize()}}if(u.plot)i.center={};var j=l({type:'border',bias:'none',size:{width:w,height:h},prefs:i});e=j.center.bounds.width;f=j.center.bounds.height;A.rangeBands([0,e]);B.rangeBands([0,f]);if(j.north){var m=0,_=0;if(j.west){m=j.north.bounds.width-j.west.bounds.width;_=j.north.bounds.x+j.west.bounds.width}if(j.east){m=j.north.bounds.width-j.east.bounds.width}v.xAxis2.attr('transform','translate('+_+','+j.north.bounds.y+')');u.xAxis2.width(m).height(j.north.bounds.height);u.xAxis2.gridlineLength(j.center.bounds.height)}else if(u.xAxis2){u.xAxis2.drawable(false)}if(j.east){v.yAxis2.attr('transform','translate('+j.east.bounds.x+','+j.east.bounds.y+')');u.yAxis2.width(j.east.bounds.width).height(j.east.bounds.height);u.yAxis2.gridlineLength(j.center.bounds.width)}else if(u.yAxis2){u.yAxis2.drawable(false)}if(j.south){var g1=0,h1=0;if(j.west){g1=j.south.bounds.width-j.west.bounds.width;h1=j.south.bounds.x+j.west.bounds.width}if(j.east)g1=j.south.bounds.width-j.east.bounds.width;v.xAxis.attr('transform','translate('+h1+','+j.south.bounds.y+')');u.xAxis.width(g1).height(j.south.bounds.height);u.xAxis.gridlineLength(j.center.bounds.height)}else if(u.xAxis){u.xAxis.drawable(false)}if(j.west){v.yAxis.attr('transform','translate('+j.west.bounds.x+','+j.west.bounds.y+')');u.yAxis.width(j.west.bounds.width).height(j.west.bounds.height);u.yAxis.gridlineLength(j.center.bounds.width)}else if(u.yAxis){u.yAxis.drawable(false)}if(j.center){v.plotRoot.attr('transform','translate('+j.center.bounds.x+','+j.center.bounds.y+')');var i1=l({type:'table',bias:'none',size:{width:j.center.bounds.width,height:j.center.bounds.height},columns:z,rows:y,cellpadding:k.cellPadding,paddingThreshold:k.paddingThreshold});for(var j1=0;j1<z;j1++){for(var k1=0;k1<y;k1++){var l1=u.plot[j1*y+k1];if(l1){var m1=i1[j1][k1];var n1=v.plot[j1*y+k1];l1.width(m1.bounds.width).height(m1.bounds.height);n1.attr('transform','translate('+m1.bounds.x+','+m1.bounds.y+')')}}}}}function X(j){return function(m){if(!arguments.length){return n[j]}else{if(!n[j]){n[j]=m}else{var _=n[j];if(m.distinctValuesObj){for(var i in m.distinctValuesObj){_.distinctValuesObj[i]=m.distinctValuesObj[i]}}if(m.min<_.min){_.min=m.min}if(m.max>_.max){_.max=m.max}if(m.hasNoValue){_.hasNoValue=true}}}}}function Y(j){for(var i=0,m=j.length;i<m;i++){$[j[i]+'DataRange']=X(j[i])}}function Z(i){p=i;if(i[P]){if(i[P].mergeDataRange){k.mergeDataRange=i[P].mergeDataRange;Y(k.mergeDataRange)}O.extend(true,k,i[P])}}function $(i){i.each(function(r){x=i;if(T.isEmptyObject(u))I();b1()});return $}$.width=function(_){if(!arguments.length)return w;w=_;W();return $};$.height=function(_){if(!arguments.length)return h;h=_;W();return $};$.size=function(_){if(!arguments.length)return{'width':w,'height':h};h=_.height;w=_.width;W();return $};$.data=function(_){if(!arguments.length)return r;r=_;for(var i in n){if(n.hasOwnProperty(i)){delete n[i]}}if(!T.isEmptyObject(u)){J();G=G-E;L('xAxis',o.columnData);L('yAxis',o.rowData);L('xAxis2',o.columnData);L('yAxis2',o.rowData);E=0;N();Q();R();S();G=G+E}return $};$.properties=function(_){if(!arguments.length)return p;Z(_);if(!T.isEmptyObject(u)){Q()}return $};$.config=function(_){if(!arguments.length)return t;t=_;return $};$.effectManager=function(_){if(!arguments.length)return g;g=_;return $};$.xCategoryScale=function(_){if(!arguments.length){var j=[];for(var i=0;i<z;i++){j.push(i)}var m=u.xAxis?u.xAxis:u.xAxis2;A.domain(j).rangeBands([0,e]);return A}A=_;return $};$.yCategoryScale=function(_){if(!arguments.length){var j=[];for(var i=0;i<y;i++){j.push(i)}var m=u.yAxis?u.yAxis:u.yAxis2;B.domain(j).rangeBands([0,f]);return B}B=_;return $};$.modules=function(_){if(!arguments.length){if(T.isEmptyObject(u)){I()}return u}u=_;return $};$.parent=function(_){if(!arguments.length)return x;x=_;return $};$.dispatch=function(_){if(!arguments.length){return C}C=_;return $};$.infoForSizeLegend=function(){var m;for(var i=-1,j=u.plot.length;++i<j;){if(m=u.plot[i])break}return{space:m?(w-e+m.infoForSizeLegend().space*z):0,number:z,plotHeight:m?m.height():0}};$.plotRegion=function(){return{selection:v.plotRoot,width:e,height:f}};function a1(i){if(v[i]){x.select('.'+i).datum(u[i].data()).call(u[i])}}function b1(){a1('xAxis');a1('xAxis2');a1('yAxis');a1('yAxis2');if(v.plot){for(var i=0,j=v.plot.length;i<j;i++){if(v.plot[i]){v.plot[i].datum(u.plot[i].data()).call(u.plot[i])}}}}var c1=0;function d1(){if(++c1==G){c1=0;C.initialized()}}function e1(i){C.showTooltip(i)};function f1(i){C.hideTooltip(i)};return $}});sap.riv.module({qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.modules.Constants',version:'4.0.0'},{qname:'sap.viz.modules.tablecontainer',version:'4.0.0'},{qname:'sap.viz.data.feed.Constants',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'}],function Setup(M,m,f,a,C){var b={'id':'multiplier','name':'Chart Multiplier','type':a.Type.Dimension,'min':1,'max':1,'aaIndex':1,'acceptMND':0};var c={'id':'sap.viz.modules.tablecontainer','type':m.Type.Container,'name':'table container','description':'Settings for the subcharts layout of multiple charts.','properties':{'mergeDataRange':{'name':'mergeDataRange','supportedValueType':'List','supportedValues':['ANY DATA RANGE NAME'],'defaultValue':null,'description':'Set mergeDataRange. Specify names of data range you want to merge, we will generate corresponding functions in this module to do the real merge. for example, if \'primary\' and \'second\' are specified here, two functions will be generated: \'primaryDataRange\' and \'secondDataRange\'. the function name is the range name plus \'DataRange\'. these generated functions support both getter and setter, for setter, you can pass any number of ranges {min:NUM, max:NUM} to it to merge, then you can get the merged result through the getter.','isExported':false},'numberOfDimensionsInColumn':{'name':'numberOfDimensionsInColumn','supportedValueType':'PositiveInt','defaultValue':1,'description':'Set the specified number of dimensions, retrieved from the end of the dimension list in multiplier, will be put in column when doing multiple layout.'},'cellPadding':{'name':'cellPadding','supportedValueType':'PositiveInt','defaultValue':15,'description':'Set padding between cells of sub plots.'},'paddingThreshold':{'name':'paddingThreshold','supportedValueType':'Number','defaultValue':0.2,'description':'Set paddingThreshold, if cellPadding value exceeds the containerSize * threshold, we set it to 0.','isExported':false}},'events':{'showTooltip':C.Module.Event.TooltipShow.desc,'hideTooltip':C.Module.Event.TooltipHide.desc},'css':null,'feeds':[b],'submodulekeys':[{'key':'xAxis','description':'Define horizontal axis module in the bottom'},{'key':'xAxis2','description':'Define horizontal axis module in the top'},{'key':'yAxis','description':'Define vertical axis module in the left'},{'key':'yAxis2','description':'Define vertical axis module in the right'},{'key':'plot','description':'Define the plot module in each cell, currently we only support same plot for all cells'}],'fn':f};M.register(c)});sap.riv.module({qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.xycontainer',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.xycontainer','type':C.Module.Type.Container,'name':'single container','properties':null,'css':null,'configure':null,'events':{'showTooltip':C.Module.Event.TooltipShow.desc,'hideTooltip':C.Module.Event.TooltipHide.desc},'submodulekeys':[{'key':'xAxis','description':'Define horizontal axis module in the bottom'},{'key':'xAxis2','description':'Define horizontal axis module in the top'},{'key':'yAxis','description':'Define vertical axis module in the left'},{'key':'yAxis2','description':'Define vertical axis module in the right'},{'key':'plot','description':'Define the plot module in the center'},{'key':'background','description':'Define the background in the center'}],fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.modules.manifests.Legend',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.legend',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.legend','type':C.Module.Type.Supplementary,'name':'legend','description':'The legend is a box containing a symbol and name for each series item or point item in the chart.','properties':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set visibility of legend.'},'title':{'name':'title','description':'Settings for legend title.','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':false,'description':'Set visibility of legend title.'},'text':{'name':'text','supportedValueType':'String','description':'Set text of legend title.'}}},'isHierarchical':{'name':'isHierarchical','supportedValueType':'Boolean','defaultValue':false,'description':'Set hierarchy legend. Supported only when legend is located in the right of chart.',},'position':{'name':'position','supportedValueType':'List','supportedValues':['right'],'defaultValue':'right','description':'Set legend position. Only support legend is located in the right side.','isExported':false},'type':{'name':'type','supportedValueType':'List','supportedValues':['ColorLegend','BubbleColorLegend','SizeLegend','MeasureBasedColoringLegend'],'defaultValue':'ColorLegend','description':'Set legend type of Bubble chart. Non-bubble chart is not supported.','isExported':false},'alignment':{'name':'alignment','supportedValueType':'List','supportedValues':['start','middle','end'],'defaultValue':'start','description':'Set alignment of legend.','isExported':false},'drawingEffect':{'name':'drawingEffect','supportedValueType':'List','supportedValues':['normal','glossy'],'defaultValue':'normal','description':'Set drawing effect of legend.','isExported':true}},'css':{'.viz-legend-title':{'description':'Define style for the legend title.','value':{'fill':'black','font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'14px','font-weight':'bold'}},'.viz-legend-valueLabel':{'description':'Define style for the legend label.','value':{'fill':'black','font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'12px','font-weight':'normal'}}},'configure':null,fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.modules.title',version:'4.0.0',exported:true},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'}],function Setup(T,l){var t=function(m){var w=500,h=100;var a=null;var e=null;var o={},s={width:500,height:100},b=undefined;var c=function(d){if(o.visible){u();var f=this.selectAll('text.chart-title').data([b]);f.exit().remove();f.enter().append('text').attr('class','chart-title');f.attr('style',a).attr('text-anchor',function(){if(o.alignment=='right')return'end';else if(o.alignment=='left')return'start';else return'middle'}).attr('x',function(){if(o.alignment=='right')return w;else if(o.alignment=='left')return 0;else return(w)/2}).attr('y',h/2);T.ellipsis(b,f.node(),w,a.toString())}return c};c.width=function(v){if(!arguments.length)return w;w=v;return c};c.height=function(v){if(!arguments.length)return h;h=v;return c};c.size=function(v){if(!arguments.length)return s;s=v;return c};c.properties=function(p){if(!arguments.length)return o;o=m.props(p);if(!o.text){b=l.get('IDS_DEFAULTCHARTTITLE')}else{b=o.text}return c};c.effectManager=function(_){if(!arguments.length)return e;e=_;return c};c.getPreferredSize=function(){if(o.visible){u();var d=T.measure(b,a);return{hideOversize:true,maxSizeConstant:1/3,'width':d.width,'height':d.height}}return{'width':0,'height':0}};function u(){a=m.cssText('viz-title-label')}c.properties(null);return c};return t});sap.riv.module({qname:'sap.viz.modules.manifests.Title',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.title',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.title','type':C.Module.Type.Supplementary,'name':'title','description':"Settings for the chart's main title.",'properties':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':false,'description':'Set visibility of chart title.'},'text':{'name':'text','supportedValueType':'String','description':'Set chart title text.'},'alignment':{'name':'alignment','supportedValueType':'List','supportedValues':['left','center','right'],'defaultValue':'center','description':'Set chart title alignment.'}},'css':{'.viz-title-label':{'description':'Define style for the title label.','value':{'font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'16px','font-weight':'bold','fill':'#333333'}}},'configure':null,fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.feeds.Manifest',version:'4.0.0'},[{qname:'sap.viz.manifest',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'}],function Setup(m,O,l){return m.registerCategory("feeds",function(a){var f={};a.feeds.forEach(function(o){f[o.id]=o;var n=o.name;delete o.name;Object.defineProperty(o,'name',{set:function(){value=n},get:function(){var r=l.get(n);if(r)return r;return n},enumerable:true,})});Object.defineProperty(a,"feedsMap",{value:f,writable:false,enumerable:false,configurable:false});return a})});sap.riv.module({qname:'sap.viz.manifests.Viz',version:'4.0.0'},[{qname:'sap.viz.manifest',version:'4.0.0'},{qname:'sap.viz.feeds.Manifest',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'}],function Setup(m,f,O,c,a,l){function g(d,t){for(var i=0;i<d.length;++i){if(d[i].module.type===t){return d[i]}if(d[i].subModules){var r=g(d[i].subModules,t);if(r)return r}}return null}function b(d,e,h,j){if(e){e.forEach(function(o){var k=o.module.feeds;var n=h;var p=j;if(k){var q;var r=k.id;if(r!==undefined){var s=k.configure;q=f.get(r).feedsMap;if(s)q=O.extend(true,null,q,s)}else{q={};k.forEach(function(t){q[t.id]=t})}var i;for(i in q){var t=q[i];if(t){t=O.extend(true,null,t);d[i]=t;if(t.type==c.Feed.Type.Dimension){var u=t.aaIndex;u+=h;if(n<u)n=u;t.aaIndex=u;var v=t.acceptMND;if(v>=0){if(j>0)v+=j;if(p<v)p=v;t.acceptMND=v}}}}if(p>=0)p+=1}b(d,o.subModules,n,p)})}}return m.registerCategory("viz",function(d){var e=new Array();var h=d.modules;for(var i in h){var j=h[i];if(j!=null)m.module.loadModule(e,h[i])}var k=d.feeds;var n,v=d.name;delete d.name;Object.defineProperties(d,{allFeeds:{value:function(){if(!n){var n={};b(n,e,0,-1);O.extend(true,n,k);n=d3.values(n).filter(function(o){return o})}return n}},getChartPropCate:{value:function(){return g(e,'CHART').config.configure.propertyCategory}},name:{set:function(){value=v},get:function(){var r=l.get(v);if(r)return r;return v},enumerable:true,}});return d})});sap.riv.module({qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Title',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Legend',version:'4.0.0'}],function Setup(M){var c={id:'riv/base',name:'IDS_BASECHART','abstract':true,modules:{title:{id:'sap.viz.modules.title',configure:{propertyCategory:'title'}},legend:{id:'sap.viz.modules.legend',configure:{propertyCategory:'legend'}}},dependencies:{}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Background',version:'4.0.0'}],function Setup(M){var m={id:'riv/base/multiple',name:'IDS_BASEMULTIPLECHART',base:'riv/base','abstract':true,modules:{main:{id:'sap.viz.modules.tablecontainer',configure:{propertyCategory:'multiLayout'},modules:{xAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the column axis of multiple charts.',propertyCategory:'columnAxis',properties:{title:{visible:false,},gridline:{visible:true},color:'#d8d8d8',type:'category',position:'top'},propertiesOverride:{label:{isExported:false},axisline:{isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the row axis of multiple charts.',propertyCategory:'rowAxis',properties:{type:'category',position:'left',title:{visible:false,},color:'#d8d8d8',gridline:{visible:true},},propertiesOverride:{label:{isExported:false},axisline:{isExported:false}}}},plot:{id:'sap.viz.modules.xycontainer',}}}}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Tooltip',version:'4.0.0'}],function Setup(M){var m={id:'riv/base/multiple/xy',name:'IDS_BASEMULTIPLEXYCHART',base:'riv/base/multiple','abstract':true,modules:{tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip'}},main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background',properties:{direction:'vertical'}}},}}}}}};M.register(m)});sap.riv.module({qname:'sap.viz.modules.manifests.controller.Base',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'}],function Setup(M,C){var m={'id':'sap.viz.modules.controller.base','abstract':true,'type':C.Module.Type.Controller,'name':'controller base module','properties':null,'events':null,'feeds':null};M.register(m)});sap.riv.module({qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.modules.controller.interaction',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Base',version:'4.0.0'}],function Setup(M,f){var m={'id':'sap.viz.modules.controller.interaction','name':'selection','base':"sap.viz.modules.controller.base",'description':'Settings for the interactions of the chart.','properties':{'selectability':{'name':'selectability','supportedValueType':'Object','supportedValues':[{'name':'mode','supportedValueType':'List','supportedValues':['single','multiple','none'],'defaultValue':'multiple','description':'Set the selection mode. Single means you only can select one at the same time. Multiple means you can select several ones. None means you can not select anything. '}],'description':'Settings for selectability.'}},'fn':f};M.register(m)});sap.riv.module({qname:'sap.viz.feeds.XY',version:'4.0.0'},[{qname:'sap.viz.feeds.Manifest',version:'4.0.0'},{qname:'sap.viz.data.feed.Constants',version:'4.0.0'}],function Setup(M,c){var a={'id':'regionColor','name':'IDS_REGIONCOLOR','type':c.Type.Dimension,'min':0,'max':2,'aaIndex':2,'acceptMND':1};var v={'id':'primaryValues','name':'IDS_PRIMARYVALUES','type':c.Type.Measure,'min':1,'max':c.Constraints.INF,'mgIndex':1};var b={'id':'secondaryValues','name':'IDS_SECONDARYVALUES','type':c.Type.Measure,'min':0,'max':c.Constraints.INF,'mgIndex':2};var d={'id':'axisLabels','name':'IDS_AXISLABELS','type':c.Type.Dimension,'min':1,'max':2,'acceptMND':0,'aaIndex':1};var f={id:"xy",feeds:[a,d,v,b]};M.register(f)});sap.riv.module({qname:'sap.viz.modules.manifests.xy.Base',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.feeds.XY',version:'4.0.0'}],function Setup(M,C){var m={'id':'sap.viz.modules.xy.base','abstract':true,'type':C.Module.Type.Chart,'name':'xy base module','datastructure':'DATA STRUCTURE DOC','properties':{'colorPalette':{'name':'colorPalette','supportedValueType':'StringArray','defaultValue':C.SAPColor,'description':'Set color palette for non_dual chart. Or dual chart\'s color palette if MND is on Category axis.'},'primaryValuesColorPalette':{'name':'primaryValuesColorPalette','supportedValueType':'StringArray','defaultValue':C.SAPColorDualAxis1,'description':'Set axis 1 color palette for dual chart.','isExported':false},'secondaryValuesColorPalette':{'name':'secondaryValuesColorPalette','supportedValueType':'StringArray','defaultValue':C.SAPColorDualAxis2,'description':'Set axis 2 color palette for dual chart.','isExported':false},'drawingEffect':{'name':'drawingEffect','supportedValueType':'List','supportedValues':['normal','glossy'],'defaultValue':'normal','description':'Set drawing effect of XY.','isExported':true},},'events':{'selectData':C.Module.Event.SelectData.desc,'deselectData':C.Module.Event.DeSelectData.desc,'showTooltip':C.Module.Event.TooltipShow.desc,'hideTooltip':C.Module.Event.TooltipHide.desc},'feeds':{id:"xy"},'css':null,'configure':null};M.register(m)});sap.riv.module({qname:'sap.viz.modules.manifests.xy.BaseBar',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Base',version:'4.0.0'}],function Setup(M){var m={'id':'sap.viz.modules.xy.bar.base','name':'bar',base:"sap.viz.modules.xy.base",'abstract':true,'properties':{'tooltip':{'name':'tooltip','supportedValueType':'Object','supportedValues':{'enabled':{'name':'enabled','supportedValueType':'Bool','defaultValue':true,'description':'Set enabled/disabled tooltip.'}},'isExported':false,'description':'Settings for tooltip related properties.'},'isRoundCorner':{'name':'isRoundCorner','supportedValueType':'Boolean','defaultValue':false,'description':'Set enable/disable round corner of bar.'},'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':true,'description':'Set enable/disable data loading animation of plot area.'},'dataUpdating':{'name':'dataUpdating','supportedValueType':'Boolean','defaultValue':true,'description':'Set enable/disable data updating animation of plot area.'}},'description':'Settings for animation of plot area.'}}};M.register(m)});sap.riv.module({qname:'sap.viz.modules.util.lassoSelection',version:'4.0.0'},[],function Setup(){return function(){var l={},c={},s=null;var e,f,g,h,i=false,j=null,k=null,n={},o,p,q=null;var r=function(a,b){e=$('<div id="lasso-selection-help" style="position:absolute;pointer-events:none;background:#cccccc;"></div>');o=b&&b.filter?b.filter:'.datapoint';k=d3.select(a).select('.main').length>0?d3.select(a).select('.main')[0][0]:a;j=d3.select(k);var d=k.getBBox();q=j.insert('rect','g').attr('width',d.width).attr('height',d.height).attr('x',0).attr('y',0).attr('fill-opacity',0);f=b.lassoStart?b.lassoStart:function(){},g=b.lassoMove?b.lassoMove:function(){},lassoEnd=b.lassoEnd?b.lassoEnd:function(){};j.on('mousedown',r.start);j.on('mousemove',r.move);j.on('mouseup',r.end);return r};function t(a,b){return(a.x<=(b.x+b.width)&&b.x<=(a.x+a.width)&&a.y<=(b.y+b.height)&&b.y<=(a.y+a.height))};var u=function(a,b){n.x=a.x;n.y=a.y;n.height=b.height;n.width=b.width;var v=[];if(p==null){p=j.selectAll(o);}p.filter(function(d,m){var w=this.getBoundingClientRect();var x={x:w.left,y:w.top,width:w.width,height:w.height};if(t(x,n)){v.push(this)}});return v};r.start=function(){s=k.ownerSVGElement.getBoundingClientRect();c.x=d3.event.clientX,c.y=d3.event.clientY;l.x=c.x-s.left,l.y=c.y-s.top;e.css({"left":l.x,"top":l.y,"width":0,"height":0});e.insertBefore(k.ownerSVGElement.parentNode);var a=u({x:c.x,y:c.y},{width:0,height:0});f(a);i=true};r.move=function(){if(i){s=k.ownerSVGElement.getBoundingClientRect();var x=l.x,y=l.y,a=d3.event.clientX-s.left,b=d3.event.clientY-s.top;if(x>a){var d=a;a=x;x=d}if(y>b){var d=b;b=y;y=d}e.css({left:x,top:y,width:a-x,height:b-y})}};r.end=function(){e.css({width:0,height:0});e.remove();s=k.ownerSVGElement.getBoundingClientRect();var x=l.x,y=l.y,a=d3.event.clientX-s.left,b=d3.event.clientY-s.top;var d=c.x,m=c.y,v=d3.event.clientX,w=d3.event.clientY;if(x>a){var z=a;a=x;x=z;z=v;v=d;d=z}if(y>b){var z=b;b=y;y=z;z=w;w=m;m=z}if(x===a&&y===b){i=false}else{var A=u({x:d,y:m},{width:a-x,height:b-y});lassoEnd(A);i=false}};return r}});sap.riv.module({qname:'sap.viz.modules.bar',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.modules.util.lassoSelection',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'}],function Setup(T,a,M,C,t,N,l,S,R){var b=function(c){var e;var f,g,k,s=[],p=0,o=0,q=0,u=null,v=0;var z,A,B=false,D=false,E=Math.floor(Math.random()*10000),F=[],G,H,I=false,J=0,K=0,L=['squareWithRadius'],O,P=new a('selectData','deselectData','showTooltip','hideTooltip','initialized');var Q=null;var U=[],V=d3.scale.ordinal(),W=d3.scale.linear(),X=d3.scale.linear();var Y=null,Z=[],$=null,a1=true,b1=false;var c1=0,d1,e1,f1=[],g1;var h1=true,i1=true,j1=false,k1=true,l1=1000,m1=false;var n1,o1,p1=R.newId();var q1='normal';var r1=false,s1=false,t1=false;var u1=function(){j1=O.isRoundCorner;h1=O.animation.dataLoading;i1=O.animation.dataUpdating;a1=O.tooltip.enabled;if(B&&!D){G=O.primaryValuesColorPalette;H=O.secondaryValuesColorPalette}else{H=O.colorPalette;G=O.colorPalette}q1=O.drawingEffect;var d=0;if(!D){c1=f.length;d=s[0].length}else{d=s.length*s[0].length}F=[];var i=0;if(I){var h=0,m=0,j=0;for(i=0;i<c1;i++){F.push(G[i%G.length]);h++;if(h===J){m=0;for(;j<=(d-c1);j++){if(m>=K){h=0;break}F.push(H[j%H.length]);m++}}}}else{for(i=0;i<d;i++){if(i<c1){F.push(G[i%G.length])}else if(B&&!D){F.push(H[(i-c1)%H.length])}}}};function v1(j){e=t();if(U.length===0){return}j.each(function(){d1=s[0].length;e1=s.length;g1=8*(V.rangeBand())/(9*d1+7);var n=(u=d3.select(this));if(Y==null){Y=d3.select(this).append('rect').attr('visibility','hidden').attr('width',z).attr('height',V.rangeBand()-g1/2).attr('fill','rgba(133,133,133, 0.2)')}else{Y.attr('width',z).attr('height',V.rangeBand()-g1/2).attr('visibility','hidden')}if(n1==null){n1=n.append('defs').append('clipPath').append('rect').attr('width',z).attr('height',A)}else{n1.attr('width',z).attr('height',A)}if(o1==null){o1=n.append('defs')}else{if(s1||r1||t1){o1.remove();o1=n.append('defs')}}var r=Math.log(g1)/Math.log(2);if(r<0){j1=false}var _;var z1=n.selectAll('g.bar').data(s),A1=s.length-1;z1.enter().append('g');z1.attr('class','bar').each(function(B1,i){var b=d3.select(this).selectAll('rect').data(B1),C1=s[0].length-1;b.enter().append('rect');b.attr('fill',function(d,i){d.fillColor=F[i%F.length];var h={drawingEffect:q1,fillColor:d.fillColor,direction:'vertical'};return Q.register(h)}).attr('shape-rendering','crispEdges').attr('class','datapoint').attr('fill-opacity',1).attr('x',function(d){_=U[d.valueAxis];return _(0)});if(h1&&!m1){if(s1){b.attr('y',function(d,m){var y=V(i)+g1*(d1-m-1);y=y+g1/8*(d1-m-1)+g1/2;return y}).attr('height',g1).attr('width',0).attr('class',function(d,m){return'datapoint series-'+m});if(j1){b.attr('clip-path',function(E1,m){var w=this.getAttribute('width'),h=this.getAttribute('height'),x=this.getAttribute('x'),y=this.getAttribute('y');var E='roundCorner-clip'+'-'+m+i+p1;o1.append('clipPath').attr('id',E).append('rect').attr('rx',r).attr('ry',r).attr('width',z+r).attr('height',g1).attr('y',y).attr('x',x).transition().delay(function(d,m){return(m+d1*i)*D1}).attr('x',function(){_=U[E1.valueAxis];if(E1.val<0){return _(E1.val)}else{return _(0)-r}}).attr('width',function(){_=U[E1.valueAxis];if(E1.val!==' '&&E1.val!==0){var z=Math.abs(_(E1.val)-_(0));return z+r}else{return 0}});return'url(#'+E+')'})}var D1=l1/(d1*e1);b.transition().delay(function(d,m){return(m+d1*i)*D1}).attr('x',function(d){_=U[d.valueAxis];if(d.val<0){return _(d.val)}else{return _(0)}}).attr('width',function(d){_=U[d.valueAxis];if(d.val!==' '&&d.val!==0){var z=Math.abs(_(d.val)-_(0));return z}else{return 0}}).each('end',function(d,m){if(m===C1&&i===A1){w1()}})}else if(r1){if(j1){b.attr('clip-path',function(d,m){var w=parseFloat(this.getAttribute('width')),h=this.getAttribute('height'),x=this.getAttribute('x'),y=this.getAttribute('y');var E='roundCorner-clip'+'-'+m+i+p1;o1.append('clipPath').attr('id',E).append('rect').attr('rx',r).attr('ry',r).attr('width',w+r).attr('height',h).attr('y',y).attr('x',x).transition().duration(l1).attr('x',function(){_=U[d.valueAxis];if(d.val<0){return _(d.val)}else{return _(0)-r}}).attr('width',function(){_=U[d.valueAxis];if(d.val!==' '&&d.val!==0){var z=Math.abs(_(d.val)-_(0));return z+r}else{return 0}}).attr('height',g1).attr('y',function(){var y=V(i)+g1*(d1-m-1);y=y+g1/8*(d1-m-1)+g1/2;return y});return'url(#'+E+')'})}b.transition().duration(l1).attr('x',function(d){_=U[d.valueAxis];if(d.val<0){return _(d.val)}else{return _(0)}}).attr('width',function(d,m){_=U[d.valueAxis];if(d.val!==' '&&d.val!==0){var z=Math.abs(_(d.val)-_(0));return z}else{return 0}}).attr('height',g1).attr('y',function(d,m){var y=V(i)+g1*(d1-m-1);y=y+g1/8*(d1-m-1)+g1/2;return y}).each('end',function(d,m){if(m===C1&&i===A1){w1()}})}else if(t1){if(j1){b.attr('clip-path',function(d,m){var w=parseFloat(this.getAttribute('width')),h=this.getAttribute('height'),x=this.getAttribute('x'),y=this.getAttribute('y');var E='roundCorner-clip'+'-'+m+i+p1;o1.append('clipPath').attr('id',E).append('rect').attr('rx',r).attr('ry',r).attr('x',-r).attr('width',w+r).attr('height',h).attr('y',y).transition().duration(l1).attr('width',function(){_=U[d.valueAxis];if(d.val!==' '&&d.val!==0){var z=Math.abs(_(d.val)-_(0));return(z+r)}else{return 0}}).attr('height',g1).attr('y',function(){var y=V(i)+g1*(d1-m-1);y=y+g1/8*(d1-m-1)+g1/2;return y});return'url(#'+E+')'})}b.transition().duration(l1).attr('width',function(d){_=U[d.valueAxis];if(d.val!==' '&&d.val!==0){var z=Math.abs(_(d.val)-_(0));return z}else{return 0}}).attr('x',function(d){_=U[d.valueAxis];if(d.val<0){return _(d.val)}else{return _(0)}}).each('end',function(d,m){if(m===C1&&i===A1){w1()}})}}else{b.attr('width',function(d){_=U[d.valueAxis];if(d.val!==' '&&d.val!==0){var z=Math.abs(_(d.val)-_(0));return z}else{return 0}}).attr('x',function(d){_=U[d.valueAxis];if(d.val<0){return _(d.val)}else{return _(0)}}).attr('height',g1).attr('y',function(d,m){var y=V(i)+g1*(d1-m-1);y=y+g1/8*(d1-m-1)+g1/2;return y});if(j1){b.attr('clip-path',function(d,m){var E='roundCorner-clip'+'-'+m+i+p1;o1.append('clipPath').attr('id',E).append('rect').attr('rx',r).attr('ry',r).attr('width',function(){_=U[d.valueAxis];if(d.val!==' '&&d.val!==0){var z=Math.abs(_(d.val)-_(0));return(z+r)}else{return 0}}).attr('height',g1).attr('y',function(){var y=V(i)+g1*(d1-m-1);y=y+g1/8*(d1-m-1)+g1/2;return y}).attr('x',function(){_=U[d.valueAxis];if(d.val<0){return _(d.val)}else{return _(0)-r}});return'url(#'+E+')'})}}b.exit().remove()});z1.exit().remove();r1=false,s1=false,t1=false});if(!h1){w1()}return v1}function w1(){P.initialized()}v1.hoverOnPoint=function(d){var x=d.x,y=d.y;var i=-1;while(i<s.length){if(Math.abs(y-V.rangeBand()*i-0.5*V.rangeBand())<=0.5*V.rangeBand()){break}i++}if(i>(s.length-1)||i<0){Y.attr('visibility','hidden');return}Y.attr('y',V.rangeBand()*i+g1/4).attr('visibility','visible');if(i!==$){if(a1){$=i;var h=u[0][0].getTransformToElement(u[0][0].ownerSVGElement);var j=h.f;var m=e.generateTooltipData(k,s,e1-1-i,F,L);m.point={x:d3.event.layerX,y:V.rangeBand()*i+0.5*V.rangeBand()+j};m.plotArea={x:h.e,y:h.f,width:z,height:A};P.showTooltip(t.formatTooltipData(m))}}};v1.parent=function(){return u};v1.highlight=function(d){if(d instanceof Array){for(var i=0,h=d.length;i<h;i++){d[i].setAttribute('fill-opacity',1)}}else{d.setAttribute('fill-opacity',1)}};v1.unhighlight=function(d){if(d instanceof Array){for(var i=0,h=d.length;i<h;i++){d[i].setAttribute('fill-opacity',0.2)}}else{d.setAttribute('fill-opacity',0.2)}};v1.clear=function(d){if(d==null){u.selectAll('.datapoint').attr('fill-opacity',1)}else{u.selectAll('.datapoint').attr('fill-opacity',0.2)}};v1.blurOut=function(){$=null;Y.attr('visibility','hidden');if(a1){P.hideTooltip()}};v1.width=function(d){if(!arguments.length){return z}r1=(z===d)&&!r1?false:true;z=d;if(T.isExist(z)&&T.isExist(A)&&T.isExist(s)){x1()}return v1};v1.height=function(d){if(!arguments.length){return A}r1=(A===d)&&!r1?false:true;A=d;if(T.isExist(z)&&T.isExist(A)&&T.isExist(s)){x1()}return v1};v1.data=function(d){if(!arguments.length){return k}k=d;var h=M(k);f=h["MG1"];g=h["MG2"];J=h.MG1Number;K=h.MG2Number||0;I=h.MNDOnColor&&h.MNDInner;if(T.isExist(h.color)){D=true;B=true}else{D=false;if(T.isExist(g)){B=true}else{B=false}}var _=y1(f,g,h.color);if(s.length!==_.length||_[0].length!==s[0].length){s1=true}else{t1=true}s=_;if(T.isExist(z)&&T.isExist(A)){x1()}u1();return v1};v1.properties=function(d){if(!arguments.length){return O}O=c.props(d);u1();return v1};var x1=function(){var d=[];U=[];for(var i=0;i<s.length;i++){d.push(i)}V.domain(d).rangeBands([A,0]);W.domain([o,p]).range([0,z]).nice();S.perfect(W);if(T.isExist(g)||B){X.domain([v,q]).range([0,z]).nice();S.perfectDual(W,X)}else{X.range([0,0])}U.push(W);U.push(X)};v1.categoryScale=function(d){if(!arguments.length){return V}V=d;return v1};v1.primaryScale=function(d){if(!arguments.length){return W}W=d;U[0]=W;return v1};v1.secondScale=function(d){if(!arguments.length){return X}X=d;U[1]=X;return v1};v1.primaryAxisColor=function(){if(B&&!D){return F[0]}else{return undefined}};v1.secondAxisColor=function(){if(!D){return F[s[0].length-1]}else{return undefined}};v1.primaryDataRange=function(r){if(!arguments.length){return{min:o,max:p}}p=r.max;o=r.min;if(T.isExist(z)&&T.isExist(A)){x1()}return v1};v1.secondDataRange=function(r){if(!arguments.length){return{min:v,max:q}}q=r.max;v=r.min;if(T.isExist(z)&&T.isExist(A)){x1()}return v1};v1.getPreferredSize=function(){};v1.dispatch=function(_){if(!arguments.length){return P}P=_;return this};v1.colorPalette=function(_){if(!arguments.length){return F}F=_;return this};v1.effectManager=function(_){if(!arguments.length){return Q}Q=_;return v1};v1.shapePalette=function(_){if(!arguments.length){return L}L=_;return this};v1.primaryAxisTitle=function(_){if(!arguments.length){var d=k.getMeasureValuesGroupDataByIdx(0),h=[];if(d){for(var i=0,j=d.values.length;i<j;i++){h.push(d.values[i].col)}}return h.join('/')}return this};v1.secondAxisTitle=function(_){if(!arguments.length){var d=k.getMeasureValuesGroupDataByIdx(1),h=[];if(d){for(var i=0,j=d.values.length;i<j;i++){h.push(d.values[i].col)}}return h.join('/')}return this};var y1=function(d,h,r){p=o=0;q=v=0;var w=[];var e1=d[0].length;var x=[];var y=0,_=0;var i=0,j=0;for(i=0;i<d.length;i++){if(D){for(j=0;j<d[i].length;j++){if(r[j]===0){y=d[i][j].val;d[i][j].valueAxis=0;if(p<y){p=y}if(o>y){o=y}c1++}else{_=d[i][j].val;d[i][j].valueAxis=1;if(q<_){q=_}if(v>_){v=_}}}}else{y=d3.max(d[i],function(m){return m.val});_=d3.min(d[i],function(m){return m.val});if(p<y){p=y}if(o>_){o=_}}x.push(d[i])}if(h!==undefined){for(i=0;i<h.length;i++){y=d3.max(h[i],function(m){return m.val});_=d3.min(h[i],function(m){return m.val});if(q<y){q=y}if(v>_){v=_}x.push(h[i])}}for(j=0;j<e1;j++){var ds=[];for(i=0;i<x.length;i++){if(!D){if(i<d.length){x[i][j].valueAxis=0}else{x[i][j].valueAxis=1}}if(N.isNoValue(x[i][j].val)){x[i][j].val=' '}ds.push(x[i][j])}if(I){var z1=[],A1=0,B1=0;var n=0;for(var m=0;m<d.length;m++){z1.push(ds[m]);A1++;if(A1===J&&h!==undefined){B1=0;for(;n<h.length;n++){if(B1>=K){A1=0;break}z1.push(ds[d.length+n]);B1++}}}w.push(z1)}else{w.push(ds)}}return w};O=c.props(null);return v1};return b});sap.riv.module({qname:'sap.viz.modules.manifests.xy.Bar',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.modules.bar',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.BaseBar',version:'4.0.0'}],function Setup(M,f){var m={'id':'sap.viz.modules.bar','name':'bar',base:"sap.viz.modules.xy.bar.base",fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Bar',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_bar',name:'IDS_MULTIBARCHART',base:'riv/base/multiple/xy',modules:{legend:{data:{aa:[3]}},tooltip:{configure:{properties:{chartType:'bar',orientation:'left'}}},main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousemove','touchstart']}}}},configure:{properties:{'mergeDataRange':['primary']}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{background:{configure:{properties:{direction:'horizontal',}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart.',propertyCategory:'xAxis',properties:{title:{visible:false,},type:'value',position:'bottom'},propertiesOverride:{title:{isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart.',propertyCategory:'yAxis',properties:{type:'category',position:'left',gridline:{visible:false}},propertiesOverride:{title:{isExported:false},gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},plot:{id:'sap.viz.modules.bar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{max:0},axisLabels:{max:1}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'primaryDataRange',sourceModule:'main.plot.plot',source:'primaryDataRange'},{targetModule:'main.plot.plot',target:'primaryDataRange',sourceModule:'main',source:'primaryDataRange'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'primaryScale'},{targetModule:'main.plot.xAxis',target:'title',sourceModule:'main.plot.plot',source:'primaryAxisTitle'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'colorPalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main',type:'initialized.interaction'},{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main',type:'hideTooltip'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.modules.verticalbar',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'}],function Setup(T,a,M,b,C,S,R,N){var B=function(c){var e;var f,g,k,s=[],p=0,l=0,o=0,q=0,W=null;var u=undefined,v=undefined,z=Math.floor(Math.random()*10000),x=0,y=0,A=false,D=[],E,F,G=false,H=0,I=0,J=['squareWithRadius'],K,L=new a('showTooltip','hideTooltip','initialized');var O=null;var P=[],Q=d3.scale.ordinal(),U=d3.scale.linear(),V=d3.scale.linear();var X,Y,Z=[],$=true,a1=null;var b1=0,c1,d1,e1,f1=[];var g1=true,h1=true,i1=false,j1=true,k1=1000,l1=false;var m1,n1,o1=R.newId();var p1='normal';var q1=false,r1=false,s1=false;u1.hoverOnPoint=function(d){var h=d.x,j=d.y;var i=-1;while(i<s.length){if(Math.abs(h-Q.rangeBand()*i-0.5*Q.rangeBand())<=0.5*Q.rangeBand()){break}i++}if(i>(s.length-1)||i<0){X.attr('visibility','hidden');return}X.attr('x',Q.rangeBand()*i+e1/4).attr('visibility','visible');if(a1!==i){if($){a1=i;var t=W[0][0].getTransformToElement(W[0][0].ownerSVGElement);var m=t.e;var n=e.generateTooltipData(k,s,i,D,J);n.point={x:Q.rangeBand()*i+0.5*Q.rangeBand()+m,y:d3.event.layerY};n.plotArea={x:t.e,y:t.f,width:u,height:v};L.showTooltip(b.formatTooltipData(n))}}};u1.parent=function(){return W};u1.highlight=function(d){if(d instanceof Array){for(var i=0,h=d.length;i<h;i++){d[i].setAttribute('fill-opacity',1)}}else{d.setAttribute('fill-opacity',1)}};u1.unhighlight=function(d){if(d instanceof Array){for(var i=0,h=d.length;i<h;i++){d[i].setAttribute('fill-opacity',0.2)}}else{d.setAttribute('fill-opacity',0.2)}};u1.clear=function(d){if(d==null){W.selectAll('.datapoint').attr('fill-opacity',1)}else{W.selectAll('.datapoint').attr('fill-opacity',0.2)}};u1.blurOut=function(){X.attr('visibility','hidden');a1=null;if($){L.hideTooltip()}};var t1=function(){i1=K.isRoundCorner;g1=K.animation.dataLoading;h1=K.animation.dataUpdating;$=K.tooltip.enabled;p1=K.drawingEffect;if(A&&!hasMNDonCategoryAxis){E=K.primaryValuesColorPalette;F=K.secondaryValuesColorPalette}else{F=K.colorPalette;E=K.colorPalette}var d=0;if(!hasMNDonCategoryAxis){b1=f.length;d=s[0].length}else{d=s.length*s[0].length}D=[];if(G){var h=0,m=0,j=0;for(var i=0;i<b1;i++){D.push(E[i%E.length]);h++;if(h==H){m=0;for(;j<=(d-b1);j++){if(m>=I){h=0;break}D.push(F[j%F.length]);m++}}}}else{for(var i=0;i<d;i++){if(i<b1){D.push(E[i%E.length])}else if(A&&!hasMNDonCategoryAxis){D.push(F[(i-b1)%F.length])}}}};function u1(j){e=b();if(P.length==0)return;j.each(function(){c1=s[0].length;d1=s.length;e1=8*(Q.rangeBand())/(9*c1+7);var n=W=d3.select(this);if(X==null){X=n.append('rect').attr('width',Q.rangeBand()-e1/2).attr('height',v).attr('visibility','hidden').attr('fill','rgba(133,133,133, 0.2)')}else{X.attr('width',Q.rangeBand()-e1/2).attr('height',v).attr('visibility','hidden')}if(m1==null){m1=n.append('defs').append('clipPath').append('rect').attr('width',u).attr('height',v)}else{m1.attr('width',u).attr('height',v)}if(n1==null){n1=n.append('defs')}else{if(r1||q1||s1){n1.remove();n1=n.append('defs')}}var r=Math.log(e1)/Math.log(2);if(r<0){i1=false}var t;var _=n.selectAll('g.bar').data(s),z1=s.length-1,A1=s[0].length-1;_.enter().append('g');_.attr('class','bar').each(function(B1,i){var C1=d3.select(this).selectAll('rect').data(B1);C1.enter().append('rect');C1.attr('fill',function(d,i){d.fillColor=D[i%D.length];var h={drawingEffect:p1,fillColor:d.fillColor,direction:'horizontal'};return O.register(h)}).attr('shape-rendering','crispEdges').attr('class','datapoint').attr('fill-opacity',1);if(g1&&!l1){if(r1){C1.attr('width',e1).attr('height',0).attr('x',function(d,m){var x=Q(i)+e1*m;x=x+e1/8*(m)+e1/2;return x}).attr('y',function(){if(l<0||q<0){return U(0)}else{return v}});if(i1){C1.attr('clip-path',function(E1,m){var w=this.getAttribute('width'),h=this.getAttribute('height'),x=this.getAttribute('x'),y=this.getAttribute('y');var z='roundCorner-clip'+'-'+m+i+o1;n1.append('clipPath').attr('id',z).append('rect').attr('rx',r).attr('ry',r).attr('x',function(){var x=Q(i)+e1*m;x=x+e1/8*(m)+e1/2;return x}).attr('width',e1).attr('height',r).attr('y',0).attr('y',function(d,m){if(l<0||q<0){return U(0)}else{return v}}).transition().delay(function(d,m){return(m+c1*i)*D1}).attr('height',function(){t=P[E1.valueAxis];if(E1.val!==' '&&E1.val!=0){var v=Math.abs(t(E1.val)-t(0));return(v+r)}else{return 0}}).attr('y',function(){t=P[E1.valueAxis];if(E1.val>=0){return t(E1.val)}else{return t(0)-r}});return'url(#'+z+')'})}var D1=k1/(c1*d1);C1.transition().delay(function(d,m){return(m+c1*i)*D1}).attr('height',function(d,m){t=P[d.valueAxis];if(d.val!==' '&&d.val!=0){var v=Math.abs(t(d.val)-t(0));return v}else{return 0}}).attr('y',function(d){t=P[d.valueAxis];if(d.val>=0){return t(d.val)}else{return t(0)}}).each('end',function(d,m){if(m===A1&&i===z1){v1()}})}else if(q1){if(i1){C1.attr('clip-path',function(d,m){var w=this.getAttribute('width'),h=this.getAttribute('height'),x=this.getAttribute('x'),y=this.getAttribute('y');var z='roundCorner-clip'+'-'+m+i+o1;n1.append('clipPath').attr('id',z).append('rect').attr('rx',r).attr('ry',r).attr('width',w).attr('x',x).attr('height',parseFloat(h)+parseFloat(r)).attr('y',function(){if(d.val>=0){return y}else{return parseFloat(y)-parseFloat(r)}}).transition().duration(k1).attr('width',e1).attr('height',function(){t=P[d.valueAxis];if(d.val!==' '&&d.val!=0){var v=Math.abs(t(d.val)-t(0));return(v+r)}else{return 0}}).attr('y',function(){t=P[d.valueAxis];if(d.val>=0){return t(d.val)}else{return t(0)-r}}).attr('x',function(){var x=Q(i)+e1*m;x=x+e1/8*(m)+e1/2;return x});return'url(#'+z+')'})}C1.transition().duration(k1).attr('width',e1).attr('height',function(d){t=P[d.valueAxis];if(d.val!==' '&&d.val!=0){var v=Math.abs(t(d.val)-t(0));return v}else{return 0}}).attr('y',function(d){t=P[d.valueAxis];if(d.val>=0){return t(d.val)}else{return t(0)}}).attr('x',function(d,m){var x=Q(i)+e1*m;x=x+e1/8*(m)+e1/2;return x}).each('end',function(d,m){if(m===A1&&i===z1){v1()}})}else if(s1){if(i1){C1.attr('clip-path',function(d,m){var w=this.getAttribute('width'),h=this.getAttribute('height'),x=this.getAttribute('x'),y=this.getAttribute('y');var z='roundCorner-clip'+'-'+m+i+o1;n1.append('clipPath').attr('id',z).append('rect').attr('rx',r).attr('ry',r).attr('x',x).attr('width',e1).attr('height',parseFloat(h)+parseFloat(r)).attr('y',function(){if(d.val>=0){return y}else{return parseFloat(y)-parseFloat(r)}}).transition().duration(k1).attr('height',function(){t=P[d.valueAxis];if(d.val!==' '&&d.val!=0){var v=Math.abs(t(d.val)-t(0));return(v+r)}else{return 0}}).attr('y',function(){t=P[d.valueAxis];if(d.val>=0){return t(d.val)}else{return t(0)-r}});return'url(#'+z+')'})}C1.transition().duration(k1).attr('height',function(d,m){t=P[d.valueAxis];if(d.val!==' '&&d.val!=0){var v=Math.abs(t(d.val)-t(0));d.height=v;return v}else{return 0}}).attr('y',function(d,m){t=P[d.valueAxis];if(d.val>=0){return t(d.val)}else{return t(0)}}).each('end',function(d,m){if(m===A1&&i===z1){v1()}})}}else{C1.attr('width',e1).attr('height',function(d){t=P[d.valueAxis];if(d.val!==' '&&d.val!=0){var v=Math.abs(t(d.val)-t(0));d.height=v;return v}else{return 0}}).attr('y',function(d){t=P[d.valueAxis];if(d.val>=0){return t(d.val)}else{return t(0)}}).attr('x',function(d,m){var x=Q(i)+e1*m;x=x+e1/8*(m)+e1/2;return x});if(i1){C1.attr('clip-path',function(d,m){var z='roundCorner-clip'+'-'+m+i+o1;n1.append('clipPath').attr('id',z).append('rect').attr('rx',r).attr('ry',r).attr('width',e1).attr('height',function(){t=P[d.valueAxis];if(d.val!==' '&&d.val!=0){var v=Math.abs(t(d.val)-t(0));return(v+r)}else{return 0}}).attr('y',function(){t=P[d.valueAxis];if(d.val>=0){return t(d.val)}else{return t(0)-r}}).attr('x',function(){var x=Q(i)+e1*m;x=x+e1/8*(m)+e1/2;return x});return'url(#'+z+')'})}}C1.exit().remove()});_.exit().remove();q1=false,s1=false,r1=false});if(!g1)v1();return u1}function v1(){L.initialized()}function w1(d,m){var i=d3.interpolate(v,(m>=b1)?V(d.val):U(d.val));return function(t){return i(t)}};u1.width=function(d){if(!arguments.length){return u}q1=(u===d)&&!q1?false:true;u=d;if(T.isExist(u)&&T.isExist(v)&&T.isExist(s)){x1()}return u1};u1.height=function(d){if(!arguments.length){return v}q1=(v===d)&&!q1?false:true;v=d;if(T.isExist(u)&&T.isExist(v)&&T.isExist(s)){x1()}return u1};u1.data=function(d){if(!arguments.length){return k}k=d;var h=M(k);f=h["MG1"];g=h["MG2"];H=h.MG1Number;I=h.MG2Number||0;G=h.MNDOnColor&&h.MNDInner;if(T.isExist(h.color)){hasMNDonCategoryAxis=true;A=true}else{hasMNDonCategoryAxis=false;if(T.isExist(g)){A=true}else{A=false}}var _=y1(f,g,h.color);if(s.length!==_.length||_[0].length!==s[0].length){r1=true}else{s1=true}s=_;if(T.isExist(u)&&T.isExist(v)){x1()}t1();return u1};u1.properties=function(d){if(!arguments.length){return K}K=c.props(d);t1();return u1};var x1=function(){var d=[];for(var i=0;i<s.length;i++){d.push(i)}P=[];Q.domain(d).rangeBands([0,u]);U.domain([l,p]).range([v,0]).nice();S.perfect(U);if(T.isExist(g)||A){V.domain([q,o]).range([v,0]).nice();S.perfectDual(U,V)}else{V.range([0,0])}P.push(U);P.push(V)};u1.categoryScale=function(d){if(!arguments.length){return Q}Q=d;return u1};u1.primaryScale=function(d){if(!arguments.length){return U}U=d;P[0]=U;return u1};u1.secondScale=function(d){if(!arguments.length){return V}V=d;P[1]=V;return u1};u1.primaryAxisColor=function(){if(A&&!hasMNDonCategoryAxis){return D[0]}else{return undefined}};u1.secondAxisColor=function(){if(!hasMNDonCategoryAxis){return D[s[0].length-1]}else{return undefined}};u1.primaryDataRange=function(r){if(!arguments.length){return{min:l,max:p}}p=r.max;l=r.min;if(T.isExist(u)&&T.isExist(v)){x1()}return u1};u1.secondDataRange=function(r){if(!arguments.length){return{min:q,max:o}}o=r.max;q=r.min;if(T.isExist(u)&&T.isExist(v)){x1()}return u1};u1.getPreferredSize=function(){};u1.x=function(_){if(!arguments.length){return x}x=_;return this};u1.y=function(_){if(!arguments.length)return y;y=_;return this};u1.dispatch=function(_){if(!arguments.length)return L;L=_;return this};u1.effectManager=function(_){if(!arguments.length){return O}O=_;return u1};u1.eventTarget=function(d){if(d.type=='mousemove'){return u1.hoverOnPoint}else if(d.type=='mouseout'){return blurOut}};u1.colorPalette=function(_){if(!arguments.length){return D}D=_;return this};u1.shapePalette=function(_){if(!arguments.length){return J}J=_;return this};u1.primaryAxisTitle=function(_){if(!arguments.length){var t=k.getMeasureValuesGroupDataByIdx(0),d=[];if(t){for(var i=0,h=t.values.length;i<h;i++){d.push(t.values[i].col)}}return d.join('/')}return this};u1.secondAxisTitle=function(_){if(!arguments.length){var t=k.getMeasureValuesGroupDataByIdx(1),d=[];if(t){for(var i=0,h=t.values.length;i<h;i++){d.push(t.values[i].col)}}return d.join('/')}return this};var y1=function(d,h,r){p=l=0;o=q=0;var t=[];var d1=d[0].length;var w=[];var _=z1=0;for(var i=0;i<d.length;i++){if(hasMNDonCategoryAxis){for(var j=0;j<d[i].length;j++){if(r[j]==0){_=d[i][j].val;d[i][j].valueAxis=0;if(p<_){p=_}if(l>_){l=_}b1++}else{z1=d[i][j].val;d[i][j].valueAxis=1;if(o<z1){o=z1}if(q>z1){q=z1}}}}else{_=d3.max(d[i],function(m){return m.val});z1=d3.min(d[i],function(m){return m.val});if(p<_){p=_}if(l>z1){l=z1}}w.push(d[i])}if(h!=undefined){for(i=0;i<h.length;i++){var _=d3.max(h[i],function(m){return m.val});var z1=d3.min(h[i],function(m){return m.val});if(o<_){o=_}if(q>z1){q=z1}w.push(h[i])}}for(var j=0;j<d1;j++){var ds=[];for(i=0;i<w.length;i++){if(!hasMNDonCategoryAxis){if(i<d.length){w[i][j].valueAxis=0}else{w[i][j].valueAxis=1}}if(N.isNoValue(w[i][j].val)){w[i][j].val=' '}ds.push(w[i][j])}if(G){var B1=[],C1=0,D1=0;var n=0;for(var m=0;m<d.length;m++){B1.push(ds[m]);C1++;if(C1==H&&h!=undefined){D1=0;for(;n<h.length;n++){if(D1>=I){C1=0;break}B1.push(ds[d.length+n]);D1++}}}t.push(B1)}else{t.push(ds)}}return t};K=c.props(null);return u1};return B});sap.riv.module({qname:'sap.viz.modules.manifests.xy.VerticalBar',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.modules.verticalbar',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.BaseBar',version:'4.0.0'}],function Setup(M,f){var m={'id':'sap.viz.modules.verticalbar','name':'vertical bar',base:"sap.viz.modules.xy.bar.base",fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiVerticalBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.VerticalBar',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiBarChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_column',name:'IDS_MULTIVERTICALBARCHART',base:'viz/multi_bar',modules:{tooltip:{configure:{properties:{chartType:'verticalbar',orientation:'left'}}},main:{modules:{plot:{modules:{background:{configure:{properties:{direction:'vertical',}}},xAxis:{data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart.',properties:{type:'category',gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},yAxis:{data:null,configure:{'description':'Settings for the value axis of an XY chart.',properties:{type:'value',gridline:{visible:true}},propertiesOverride:{gridline:{isExported:true},label:{isExported:true},axisline:{isExported:true}}}},plot:{id:'sap.viz.modules.verticalbar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1},secondaryValues:{max:0}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'primaryDataRange',sourceModule:'main.plot.plot',source:'primaryDataRange'},{targetModule:'main.plot.plot',target:'primaryDataRange',sourceModule:'main',source:'primaryDataRange'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'primaryScale'},{targetModule:'main.plot.yAxis',target:'title',sourceModule:'main.plot.plot',source:'primaryAxisTitle'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'colorPalette'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiDualVerticalBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.VerticalBar',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiVerticalBarChart',version:'4.0.0'}],function Setup(M,C){var m={id:'viz/multi_dual_column',name:'IDS_MULTIDUALVERTICALBARCHART',base:'viz/multi_column',modules:{main:{configure:{properties:{'mergeDataRange':['primary','second']}},modules:{plot:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at left or bottom of an XY chart with 2 value axis.'}},yAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at right or top of an XY chart with 2 value axis.',propertyCategory:'yAxis2',properties:{title:{visible:false,},type:'value',position:'right'},propertiesOverride:{title:{isExported:false}}}},}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'primaryDataRange',sourceModule:'main.plot.plot',source:'primaryDataRange'},{targetModule:'main.plot.plot',target:'primaryDataRange',sourceModule:'main',source:'primaryDataRange'},{targetModule:'main',target:'secondDataRange',sourceModule:'main.plot.plot',source:'secondDataRange'},{targetModule:'main.plot.plot',target:'secondDataRange',sourceModule:'main',source:'secondDataRange'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'primaryScale'},{targetModule:'main.plot.yAxis',target:'title',sourceModule:'main.plot.plot',source:'primaryAxisTitle'},{targetModule:'main.plot.yAxis2',target:'scale',sourceModule:'main.plot.plot',source:'secondScale'},{targetModule:'main.plot.yAxis2',target:'title',sourceModule:'main.plot.plot',source:'secondAxisTitle'},{targetModule:'main.plot.yAxis',target:'color',sourceModule:'main.plot.plot',source:'primaryAxisColor'},{targetModule:'main.plot.yAxis2',target:'color',sourceModule:'main.plot.plot',source:'secondAxisColor'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'colorPalette'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.modules.stackedverticalbar',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'}],function Setup(T,O,a,M,t,C,S,R,N){var b=function(c){var e;var f,g=[[]],h=[[]],s=[],l=[],p=0,n=0,o=0,q=0,u=null;var w=undefined,v=undefined,x=0,y=0,z=false,A=false,B=[],D,E,F=false,G=0,H=0,I=['squareWithRadius'],J,K=new a('selectData','deselectData','showTooltip','hideTooltip','initialized');var L=null;var P=new Array(2);xScale=d3.scale.ordinal(),yScale=d3.scale.linear(),yScale2=d3.scale.linear();var Q,U=[],V=true,W=null;var X,Y,Z,$=[],a1;var b1,c1,d1=R.newId();var e1=true,f1=true,g1=false,h1=true,i1=false,j1=800;var k1='comparison';var l1='normal';var m1=false,n1=false,o1=false,p1=false;s1.hoverOnPoint=function(j){var k=j.x,r=j.y;var i=-1;while(i<s.length){if(Math.abs(k-xScale.rangeBand()*i-0.5*xScale.rangeBand())<=0.5*xScale.rangeBand()){break}i++}if(i>(s.length-1)||i<0){Q.attr('visibility','hidden');return}Q.attr('x',xScale.rangeBand()*i+a1/4).attr('visibility','visible');if(W!==i){if(V){W=i;var _=u.node().getTransformToElement(u.node().ownerSVGElement);var w1=_.e;var x1=100,y1=100,m=0;var z1=e.generateTooltipData(f,l,i,B,I,k1==='percentage'?function(d){if(m==s[0][0].length-1){m++;return x1+'%'}x1-=Math.abs(Math.round(d*100));if(m>(s[0][0].length-1)){if(m==(Z-1)){m++;return y1+'%'}y1-=Math.abs(Math.round(d*100))}m++;return Math.abs(Math.round(d*100))+'%'}:null);z1.point={x:xScale.rangeBand()*i+0.5*xScale.rangeBand()+w1,y:d3.event.layerY};z1.plotArea={x:_.e,y:_.f,width:w,height:v};K.showTooltip(t.formatTooltipData(z1))}}};function q1(){for(var i=0,d=s.length;i<d;i++){for(var j=0,r=s[i],m=l[i];j<r.length;j++){var _=0,w1=0;;for(var k=0;k<r[j].length;k++){_+=Math.abs(r[j][k].val);if(!r[j][k].isNaN)w1++}if(_===0){for(var k=0;k<r[j].length;k++){r[j][k].val=r[j][k].isNaN?0:1/w1;if(T.isExist(m[j])&&T.isExist(m[j][k])){m[j][k].val=m[j][k].isNaN?' ':1/w1}}}else{for(var k=0;k<r[j].length;k++){r[j][k].val=Math.abs(r[j][k].val/_);if(T.isExist(m[j])&&T.isExist(m[j][k])){m[j][k].val=m[j][k].isNaN?' ':m[j][k].val/_}}}}}};s1.parent=function(){return u};s1.blurOut=function(){Q.attr('visibility','hidden');W=null;if(V){K.hideTooltip()}};s1.highlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){d[i].setAttribute('fill-opacity',1)}}else{d.setAttribute('fill-opacity',1)}};s1.unhighlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){d[i].setAttribute('fill-opacity',0.2)}}else{d.setAttribute('fill-opacity',0.2)}};s1.clear=function(d){if(d==null){u.selectAll('.datapoint').attr('fill-opacity',1)}else{u.selectAll('.datapoint').attr('fill-opacity',0.2)}};var r1=function(){g1=J.isRoundCorner;k1=J.mode==='percentage'?'percentage':'comparison';e1=J.animation.dataLoading;f1=J.animation.dataUpdating;V=J.tooltip.enabled;if(z&&!A){D=J.primaryValuesColorPalette;E=J.secondaryValuesColorPalette}else{E=J.colorPalette;D=J.colorPalette}l1=J.drawingEffect;B=[];indexforSecondaryAxis=g.length;if(F){var d=0,k=0,j=0;for(var i=0;i<s[0][0].length;i++){B.push(D[i%D.length]);d++;if(d==G&&z&&T.isExist(s[0][1])){k=0;for(;j<=s[0][1].length;j++){if(k>=H){d=0;break}B.push(E[j%E.length]);k++}}}}else{for(var i=0;i<s[0].length;i++){for(var j=0;j<s[0][0].length;j++){B.push(D[j%D.length])}if(z&&T.isExist(s[0][1])){for(var j=0;j<s[0][1].length;j++){B.push(E[j%E.length])}}}}};function s1(k){e=t();if(k1==='percentage'){q1()};if(!T.isExist(yScale)&&!T.isExist(yScale2))return;k.each(function(){var _=g.length;Z=s[0][0].length+((T.isExist(s[0][1]))?s[0][1].length:0);var w1=8*(xScale.rangeBand())/(9*Z+7);X=(T.isExist(h))?2:1;a1=8*(xScale.rangeBand())/(9*X+7);var x1=u=d3.select(this);if(Q==null){Q=x1.append('rect').attr('width',xScale.rangeBand()-a1/2).attr('height',v).attr('visibility','hidden').attr('fill','rgba(133,133,133, 0.2)')}else{Q.attr('width',xScale.rangeBand()-a1/2).attr('height',v).attr('visibility','hidden')}if(b1==null){b1=x1.append('defs').append('clipPath').append('rect').attr('width',w).attr('height',v)}else{b1.attr('width',w).attr('height',v)}if(c1==null){c1=x1.append('defs')}else{if(n1||m1||o1){c1.remove();c1=x1.append('defs')}}var r=Math.log(a1)/Math.log(2);if(r<0){g1=false}var y1,z1=tempNeg=0,A1=postiveIndex=0;var B1=x1.selectAll('g.bar').data(s);B1.enter().append('g');B1.attr('class','bar').each(function(C1,i){var D1=d3.select(this).selectAll('g.axisGroup').data(C1);D1.enter().append('g');D1.attr('class','axisGroup').each(function(E1,j){var y1=(j==0)?yScale:yScale2;var F1=(j==0)?a1/2:(a1/2+a1+a1/8);var G1=(j==0)?xScale(i):(xScale(i)+a1/2+a1);var H1=(j==0)?D:E;var I1=0,J1=0,K1=0,L1=0;var b=d3.select(this).selectAll('rect').data(E1);b.enter().append('rect');b.exit().remove();b.attr('fill',function(d,m){d.fillColor=H1[m%H1.length];var O1={drawingEffect:l1,fillColor:d.fillColor,direction:'horizontal'};return L.register(O1)}).attr('shape-rendering','crispEdges').attr('class','datapoint').attr('fill-opacity',1);if(e1&&!i1){if(n1){b.attr('x',function(d,m){var x=G1+w1*m;x=x+w1/8*(m)+w1/2;return x}).attr('width',w1).attr('height',0).attr('y',function(d,m){if(d.val>=0){I1=y1(K1);K1+=E1[m].val;return I1}else{J1=y1(L1);L1+=E1[m].val;return J1}});if(g1){b.attr('clip-path',function(d,m){if(m===negativeIndexes[j][i]||m===positiveIndexes[j][i]){var id='roundCorner-clip'+'-'+m+i+j+d1;var O1=c1.append('clipPath').attr('id',id).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',y).attr('height',r).attr('width',w1).attr('x',this.x.baseVal.value).transition().duration(j1/2).attr('y',function(){if(m===negativeIndexes[j][i]){return J1-r}else{return I1-Math.abs(y1(d.val)-y1(0))}}).attr('height',function(){return Math.abs(y1(d.val)-y1(0))+r}).transition().delay(j1/2).duration(j1/2).attr('x',function(){var x=xScale(i)+F1;return x}).attr('width',a1);return'url(#'+id+')'}})}b.transition().duration(j1/2).attr('height',function(d){if(i==0){p1=true}return Math.abs(y1(d.val)-y1(0))}).attr('y',function(d,m){if(d.val>=0){return this.y.baseVal.value-Math.abs(y1(d.val)-y1(0))}else{return this.y.baseVal.value}});b.transition().delay(j1/2).duration(j1/2).attr('width',a1).attr('x',function(d,m){var x=xScale(i)+F1;return x}).each('end',function(d,m){if(p1==false){this.setAttribute('height',Math.abs(y1(d.val)-y1(0)))}if(m===s[0][0].length-1&&i==0){t1()}})}else if(m1){var M1=b.transition();M1.duration(j1/2).attr('width',a1).attr('x',function(d,m){var x=xScale(i)+F1;return x}).attr('height',function(d){if(i==0){p1=true}return Math.abs(y1(d.val)-y1(0))}).attr('y',function(d,m){if(d.val>=0){K1+=E1[m].val;I1=y1(K1);return I1}else{J1=y1(L1);L1+=E1[m].val;return J1}}).each('end',function(d,m){if(p1==false){this.setAttribute('height',Math.abs(y1(d.val)-y1(0)))}if(m===s[0][0].length-1&&i==0){t1()}});if(g1){M1.attr('clip-path',function(d,m){if(m===negativeIndexes[j][i]||m===positiveIndexes[j][i]){var id='roundCorner-clip'+'-'+m+i+j+d1;var y=parseFloat(this.y.baseVal.value);var O1=c1.append('clipPath').attr('id',id).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',function(){return y-((m===negativeIndexes[j][i])?r:0)}).attr('height',this.height.baseVal.value+r).attr('width',this.width.baseVal.value).attr('x',this.x.baseVal.value).transition().duration(j1/2).attr('y',function(){if(m===negativeIndexes[j][i]){return J1-r}else{return I1}}).attr('height',function(){return Math.abs(y1(d.val)-y1(0))+r}).attr('x',function(){var x=xScale(i)+F1;return x}).attr('width',a1);return'url(#'+id+')'}})}}else if(o1){var N1=b.transition();N1.duration(j1/2).attr('height',function(d){if(i==0){p1=true}return Math.abs(y1(d.val)-y1(0))}).attr('y',function(d,m){if(d.val>=0){K1+=E1[m].val;I1=y1(K1);return I1}else{J1=y1(L1);L1+=E1[m].val;return J1}}).each('end',function(d,m){if(p1==false){this.setAttribute('height',Math.abs(y1(d.val)-y1(0)))}if(m===s[0][0].length-1&&i==0){t1()}});if(g1){N1.attr('clip-path',function(d,m){if(m===negativeIndexes[j][i]||m===positiveIndexes[j][i]){var id='roundCorner-clip'+'-'+m+i+j+d1;var y=parseFloat(this.y.baseVal.value);var O1=c1.append('clipPath').attr('id',id).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',function(){return y-((m===negativeIndexes[j][i])?r:0)}).attr('height',this.height.baseVal.value+r).attr('width',this.width.baseVal.value).attr('x',this.x.baseVal.value).transition().duration(j1/2).attr('y',function(){if(m===negativeIndexes[j][i]){return J1-r}else{return I1}}).attr('height',function(){return Math.abs(y1(d.val)-y1(0))+r});return'url(#'+id+')'}})}}}else{b.attr('y',function(d,m){if(d.val>=0){K1+=E1[m].val;I1=y1(K1);return I1}else{J1=y1(L1);L1+=E1[m].val;return J1}}).attr('x',function(d){var x=xScale(i)+F1;return x}).attr('width',a1).attr('height',function(d){return Math.abs(y1(d.val)-y1(0))}).attr('fill',function(d,m){d.fillColor=H1[m%H1.length];var O1={drawingEffect:l1,fillColor:d.fillColor,direction:'horizontal'};return L.register(O1)}).attr('shape-rendering','crispEdges').attr('class','datapoint');if(g1){b.attr('clip-path',function(d,m){if(m===negativeIndexes[j][i]||m===positiveIndexes[j][i]){var id='roundCorner-clip'+'-'+m+i+j+d1;var O1=c1.append('clipPath').attr('id',id).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',function(){if(m===negativeIndexes[j][i]){return J1-r}else{return I1}}).attr('height',function(){return Math.abs(y1(d.val)-y1(0))+r}).attr('x',function(){var x=xScale(i)+F1;return x}).attr('width',a1);return'url(#'+id+')'}})}}})});if(!f1){i1=true}B1.exit().remove();m1=false,o1=false,n1=false,p1=false});if(!e1)t1();return s1}function t1(){K.initialized()};s1.width=function(d){if(!arguments.length){return w}m1=(w===d)&&!m1?false:true;w=d;if(T.isExist(w)&&T.isExist(v)&&T.isExist(s)){u1()}return s1};s1.height=function(d){if(!arguments.length){return v}m1=(v===d)&&!m1?false:true;v=d;if(T.isExist(w)&&T.isExist(v)&&T.isExist(s)){u1()}return s1};s1.data=function(d){if(!arguments.length){return f}f=d;var k=M(f);var _=k["MG1"];var m=k["MG2"];G=k.MG1Number;H=k.MG2Number||0;F=k.MNDOnColor&&k.MNDInner;l=[];if(T.isExist(k.color)){A=true;z=true;var r=[],w1=[];var x1=[],y1=[];for(var i=0;i<_.length;i++){r=[];w1=[];for(var j=0;j<_[i].length;j++){if(k.color[j]==0){r.push(_[i][j]);w1.push({val:null,hasMNDonCategoryAxis:true})}else{r.push({val:null,hasMNDonCategoryAxis:true});w1.push(_[i][j])}}x1.push(r);y1.push(w1)}_=x1;m=y1}else{A=false;if(T.isExist(m)){if(!n1&&(h.length!==m.length||h[0].length!==m[0].length)){n1=true}z=true}else{z=false}}if(g.length!==_.length||g[0].length!==_[0].length){n1=true}var z1=v1(_,m);s=z1;g=_;h=m;if(!n1){o1=true}if(A){for(var i=0;i<s.length;i++){var A1=s[i];if(A1[0][0].hasMNDonCategoryAxis){l.push(A1[1])}else{l.push(A1[0])}}}else{l=O.extend(true,{},s)}if(T.isExist(w)&&T.isExist(v)){u1()}r1();return s1};s1.properties=function(d){if(!arguments.length){return J}J=c.props(d);r1();return s1};var u1=function(){var d=[];for(var i=0;i<s.length;i++){d.push(i)}xScale.domain(d).rangeBands([0,w]);if(k1==='percentage'){yScale.domain([0,1]).range([v,0]).nice();yScale2.domain([0,1]).range([v,0]).nice();S.perfectDual(yScale,yScale2)}else{yScale.domain([n,p]).range([v,0]).nice();yScale2.domain([q,o]).range([v,0]).nice();S.perfectDual(yScale,yScale2)}if(!T.isExist(h)){yScale2.range([0,0])}};s1.colorPalette=function(d){if(!arguments.length){return B}B=d;return s1};s1.primaryDataRange=function(r){if(!arguments.length){var m,d;if(k1==='percentage'){m=1;d=0}else{d=n<0?n:0;m=p}return{min:d,max:m}}p=r.max;n=r.min;if(T.isExist(w)&&T.isExist(v)){u1()}return s1};s1.secondDataRange=function(r){if(!arguments.length){var m,d;if(k1==='percentage'){m=1;d=0}else{d=q<0?q:0;m=o}return{min:d,max:m}}o=r.max;q=r.min;if(T.isExist(w)&&T.isExist(v)){u1()}return s1};s1.categoryScale=function(d){if(!arguments.length){return xScale}xScale=d;return s1};s1.primaryScale=function(d){if(!arguments.length){return yScale}yScale=d;P[0]=yScale;return s1};s1.secondScale=function(d){if(!arguments.length){return yScale2}yScale2=d;P[0]=yScale2;return s1};s1.primaryAxisColor=function(){if(z&&!A){return B[0]}else{return undefined}};s1.secondAxisColor=function(){if(T.isExist(s[0][1])&&!A){return E[s[0][1].length-1]}else{return undefined}};s1.getPreferredSize=function(){};s1.effectManager=function(_){if(!arguments.length){return L}L=_;return s1};s1.x=function(_){if(!arguments.length){return x}x=_;return this};s1.y=function(_){if(!arguments.length)return y;y=_;return this};s1.dispatch=function(_){if(!arguments.length)return K;K=_;return this};s1.primaryAxisTitle=function(_){if(!arguments.length){var d=f.getMeasureValuesGroupDataByIdx(0),j=[];if(d){for(var i=0,k=d.values.length;i<k;i++){j.push(d.values[i].col)}}return j.join('/')}return this};s1.secondAxisTitle=function(_){if(!arguments.length){var d=f.getMeasureValuesGroupDataByIdx(1),j=[];if(d){for(var i=0,k=d.values.length;i<k;i++){j.push(d.values[i].col)}}return j.join('/')}return this};var v1=function(d,k,m){var r=-1,_=-1;positiveIndexes=[[],[]],negativeIndexes=[[],[]];p=n=0;o=q=0;var w1=[];Y=d[0].length;;var x1,y1;for(var j=0;j<Y;j++){var z1=[],A1=[];var B1=[];x1=0,y1=0;r=-1,_=-1;for(var i=0;i<d.length;i++){if(N.isNoValue(d[i][j].val)){d[i][j].val=0;d[i][j].isNaN=true}else{if(d[i][j].val>=0){x1+=d[i][j].val;r=i}else{y1+=d[i][j].val;_=i}}z1.push(d[i][j])}positiveIndexes[0].push(r);negativeIndexes[0].push(_);if(p<x1){p=x1}if(n>y1){n=y1}B1.push(z1);if(T.isExist(k)){x1=0,y1=0;r=-1,_=-1;for(i=0;i<k.length;i++){if(N.isNoValue(k[i][j].val)){k[i][j].val=0;k[i][j].isNaN=true}else{if(k[i][j].val>=0){x1+=k[i][j].val;r=i}else{y1+=k[i][j].val;_=i}}A1.push(k[i][j])}positiveIndexes[1].push(r);negativeIndexes[1].push(_);if(o<x1){o=x1}if(q>y1){q=y1}B1.push(A1)}w1.push(B1)}return w1};J=c.props(null);return s1};return b});sap.riv.module({qname:'sap.viz.modules.manifests.xy.StackedVerticalBar',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.modules.stackedverticalbar',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.VerticalBar',version:'4.0.0'}],function Setup(M,f){var m={'id':'sap.viz.modules.stackedverticalbar','name':'stacked vertical bar',base:"sap.viz.modules.verticalbar",'properties':{'mode':{'name':'mode','supportedValueType':'List','supportedValues':['comparison','percentage'],'defaultValue':'comparison','description':'Set dispaly mode of stacked vertical bar.'}},fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiDualStackedVerticalBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedVerticalBar',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDualVerticalBarChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_dual_stacked_column',name:'IDS_MULTIDUALSTACKEDVERTICALBARCHART',base:'viz/multi_dual_column',modules:{main:{modules:{plot:{modules:{plot:{id:'sap.viz.modules.stackedverticalbar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}}}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiDualPercentageStackedVerticalBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedVerticalBar',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDualStackedVerticalBarChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_100_dual_stacked_column',name:'IDS_MULTIDUALPERCENTAGESTACKEDVERTICALBARCHART',base:'viz/multi_dual_stacked_column',modules:{main:{modules:{plot:{modules:{plot:{id:'sap.viz.modules.stackedverticalbar',configure:{properties:{'mode':'percentage'}}}}}}}}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiDualBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Bar',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiBarChart',version:'4.0.0'}],function Setup(M,C){var m={id:'viz/multi_dual_bar',name:'IDS_MULTIDUALBARCHART',base:'viz/multi_bar',modules:{main:{configure:{properties:{'mergeDataRange':['primary','second']}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at left or bottom of an XY chart with 2 value axis.'}},xAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at right or top of an XY chart with 2 value axis.',propertyCategory:'xAxis2',properties:{title:{visible:false,},gridline:{visible:false},type:'value',position:'top'},propertiesOverride:{title:{isExported:false}}}},}},}},},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'primaryDataRange',sourceModule:'main.plot.plot',source:'primaryDataRange'},{targetModule:'main.plot.plot',target:'primaryDataRange',sourceModule:'main',source:'primaryDataRange'},{targetModule:'main',target:'secondDataRange',sourceModule:'main.plot.plot',source:'secondDataRange'},{targetModule:'main.plot.plot',target:'secondDataRange',sourceModule:'main',source:'secondDataRange'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'primaryScale'},{targetModule:'main.plot.xAxis',target:'title',sourceModule:'main.plot.plot',source:'primaryAxisTitle'},{targetModule:'main.plot.xAxis2',target:'scale',sourceModule:'main.plot.plot',source:'secondScale'},{targetModule:'main.plot.xAxis2',target:'title',sourceModule:'main.plot.plot',source:'secondAxisTitle'},{targetModule:'main.plot.xAxis',target:'color',sourceModule:'main.plot.plot',source:'primaryAxisColor'},{targetModule:'main.plot.xAxis2',target:'color',sourceModule:'main.plot.plot',source:'secondAxisColor'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'colorPalette'}]},};M.register(m)});sap.riv.module({qname:'sap.viz.modules.stackedbar',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'}],function Setup(T,O,a,M,t,C,S,R,N){var b=function(c){var e=null;var f,g=[[]],h=[[]],s=[],l=[],p=0,n=0,o=0,q=0,u=null;var w=undefined,v=undefined,z=Math.floor(Math.random()*10000),x=0,y=0,A=false,B=[],D,E,F=false,G=0,H=0,I=['squareWithRadius'],J,K=new a('selectData','deselectData','showTooltip','hideTooltip','initialized');var L=null;var P=d3.scale.ordinal(),Q=d3.scale.linear(),U=d3.scale.linear();var V,W=[],X=[],Y=null,Z=false;var $=1,a1,b1,c1,d1=[],e1=[];var f1=true,g1=true,h1=false,i1=true,j1=false,k1=false,l1=1000;var m1,n1,o1=R.newId();var p1='comparison';var q1='normal';var r1=false,s1=false,t1=false;v1.hoverOnPoint=function(j){var k=j.x,r=j.y;var i=-1;while(i<s.length){if(Math.abs(r-P.rangeBand()*i-0.5*P.rangeBand())<=0.5*P.rangeBand()){break}i++}if(i>(s.length-1)||i<0){V.attr('visibility','hidden');return}V.attr('y',P.rangeBand()*i+c1/4).attr('visibility','visible');if(i!==Y){if(tooltipVisible){Y=i;var _=u[0][0].getTransformToElement(u[0][0].ownerSVGElement);var A1=_.f;var B1=100,C1=100,m=0;var D1=e.generateTooltipData(f,l,a1-1-i,B,I,p1==='percentage'?function(d){if(m==s[0][0].length-1){m++;return B1+'%'}B1-=Math.abs(Math.round(d*100));if(m>(s[0][0].length-1)){if(m==(b1-1)){m++;return C1+'%'}C1-=Math.abs(Math.round(d*100))}m++;return Math.abs(Math.round(d*100))+'%'}:null);D1.point={x:d3.event.layerX,y:P.rangeBand()*i+0.5*P.rangeBand()+A1};D1.plotArea={x:_.e,y:_.f,width:w,height:v};K.showTooltip(t.formatTooltipData(D1))}}};v1.blurOut=function(){V.attr('visibility','hidden');Y=null;if(tooltipVisible){K.hideTooltip()}};v1.parent=function(){return u};v1.highlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){d[i].setAttribute('fill-opacity',1)}}else{d.setAttribute('fill-opacity',1)}};v1.unhighlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){d[i].setAttribute('fill-opacity',0.2)}}else{d.setAttribute('fill-opacity',0.2)}};v1.clear=function(d){if(d==null){u.selectAll('.datapoint').attr('fill-opacity',1)}else{u.selectAll('.datapoint').attr('fill-opacity',0.2)}};var u1=function(){h1=J.isRoundCorner;p1=J.mode==='percentage'?'percentage':'comparison';f1=J.animation.dataLoading;g1=J.animation.dataUpdating;tooltipVisible=J.tooltip.enabled;if(A&&!j1){D=J.primaryValuesColorPalette;E=J.secondaryValuesColorPalette}else{E=J.colorPalette;D=J.colorPalette}q1=J.drawingEffect;var d=g.length;B=[];if(F){var k=0,m=0,j=0;for(var i=0;i<s[0][0].length;i++){B.push(D[i%D.length]);k++;if(k==G&&A&&T.isExist(s[0][1])){m=0;for(;j<=s[0][1].length;j++){if(m>=H){k=0;break}B.push(E[j%E.length]);m++}}}}else{for(var i=0;i<s[0].length;i++){for(var j=0;j<s[0][0].length;j++){B.push(D[j%D.length])}if(A&&T.isExist(s[0][1])){for(var j=0;j<s[0][1].length;j++){B.push(E[j%E.length])}}}}};function v1(_){if(p1==='percentage'){w1()};e=t();if(!T.isExist(Q)&&!T.isExist(U))return;_.each(function(){$=(T.isExist(h))?2:1;c1=8*(P.rangeBand())/(9*$+7);b1=s[0][0].length+((T.isExist(s[0][1]))?s[0][1].length:0);var A1=8*(P.rangeBand())/(9*b1+7);var B1=u=d3.select(this);if(V==null){V=B1.append('rect').attr('width',w).attr('height',P.rangeBand()-c1/2).attr('visibility','hidden').attr('fill','rgba(133,133,133, 0.2)')}else{V.attr('width',w).attr('height',P.rangeBand()-c1/2).attr('visibility','hidden')}if(m1==null){m1=B1.append('defs').append('clipPath').append('rect').attr('width',w).attr('height',v)}else{m1.attr('width',w).attr('height',v)}if(n1==null){n1=B1.append('defs').attr('id','round-corner-clip'+o1)}else{if(s1||r1||t1){n1.remove();n1=B1.append('defs').attr('id','round-corner-clip'+o1)}}var r=Math.log(c1)/Math.log(2);if(r<0){h1=false}if(f1&&!k1){var C1=B1.selectAll('g.bar').data(s);C1.enter().append('g');C1.attr('class','bar').each(function(D1,i){var E1=d3.select(this).selectAll('g.axisGroup').data(D1);E1.enter().append('g');E1.attr('class','axisGroup').each(function(F1,j){var G1=(j==0)?Q:U;var H1=(j==0)?c1/2:(c1/2+c1+c1/8);var I1=(j==0)?P(i):(P(i)+c1/2+c1);var J1=(j==0)?D:E;var K1=0,L1=0,M1=0,N1=0;var b=d3.select(this).selectAll('rect').data(F1);b.enter().append('rect');b.attr('fill',function(d,k){d.fillColor=J1[k%J1.length];var m={drawingEffect:q1,fillColor:d.fillColor,direction:'vertical'};return L.register(m)}).attr('shape-rendering','crispEdges').attr('class','datapoint').attr('fill-opacity',1);if(s1){b.attr('height',A1).attr('y',function(d,m){var y=I1+A1*m;y=y+A1/8*(m)+A1/2;return y}).attr('x',function(d,k){if(d.val>=0){K1=G1(M1);M1+=F1[k].val;return K1}else{L1=G1(N1);N1+=F1[k].val;return L1}return G1(0)}).attr('width',0);if(h1){b.attr('clip-path',function(d,k){if(k===e1[j][i]||k===d1[j][i]){var z='roundCorner-clip'+'-'+k+i+j+o1;var m=n1.append('clipPath').attr('id',z).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',this.y.baseVal.value).attr('height',A1).attr('width',0).attr('x',this.x.baseVal.value).transition().duration(l1/2).attr('x',function(){if(k===e1[j][i]){return this.x.baseVal.value-Math.abs(G1(d.val)-G1(0))}else{return this.x.baseVal.value-r}}).attr('width',function(){return Math.abs(G1(d.val)-G1(0))+r}).transition().delay(l1/2).duration(l1/2).attr('height',c1).attr('y',function(){var y=P(i)+H1;return y});return'url(#'+z+')'}})}N1=0;b.transition().duration(l1/2).attr('width',function(d){return Math.abs(G1(d.val)-G1(0))}).attr('x',function(d,k){if(d.val<0){N1+=F1[k].val;return G1(N1)}else{return this.x.baseVal.value}});b.transition().delay(l1/2).duration(l1/2).attr('height',c1).attr('y',function(d,m){var y=P(i)+H1;return y}).each('end',function(d,m){this.setAttribute('width',Math.abs(G1(d.val)-G1(0)));if(m===s[0][0].length-1&&i==0){x1()}})}else if(r1){var O1=b.transition();O1.duration(l1/2).attr('width',function(d){return Math.abs(G1(d.val)-G1(0))}).attr('x',function(d,k){if(d.val>=0){K1=G1(M1);M1+=F1[k].val;return K1}else{N1+=F1[k].val;L1=G1(N1);return L1}}).attr('height',c1).attr('y',function(d,m){var y=P(i)+H1;return y}).each('end',function(d,m){this.setAttribute('width',Math.abs(G1(d.val)-G1(0)));if(m===s[0][0].length-1&&i==0){x1()}});if(h1){O1.attr('clip-path',function(d,k){if(k===e1[j][i]||k===d1[j][i]){var z='roundCorner-clip'+'-'+k+i+j+o1;var x=parseFloat(this.x.baseVal.value);var m=n1.append('clipPath').attr('id',z).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',this.y.baseVal.value).attr('height',this.height.baseVal.value).attr('width',this.width.baseVal.value+r).attr('x',function(){return x-((k===e1[j][i])?0:r)}).transition().duration(l1/2).attr('x',function(){if(k===e1[j][i]){return L1}else{return K1-r}}).attr('width',function(){return Math.abs(G1(d.val)-G1(0))+r}).attr('height',c1).attr('y',function(){var y=P(i)+H1;return y});return'url(#'+z+')'}})}}else if(t1){var P1=b.transition();P1.duration(l1/2).attr('width',function(d){return Math.abs(G1(d.val)-G1(0))}).attr('x',function(d,k){if(d.val>=0){K1=G1(M1);M1+=F1[k].val;return K1}else{N1+=F1[k].val;L1=G1(N1);return L1}}).each('end',function(d,m){this.setAttribute('width',Math.abs(G1(d.val)-G1(0)));if(m===s[0][0].length-1&&i==0){x1()}});if(h1){P1.attr('clip-path',function(d,k){if(k===e1[j][i]||k===d1[j][i]){var z='roundCorner-clip'+'-'+k+i+j+o1;var x=parseFloat(this.x.baseVal.value);var m=n1.append('clipPath').attr('id',z).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',this.y.baseVal.value).attr('height',c1).attr('width',this.width.baseVal.value-r).attr('x',function(){return x-((k===e1[j][i])?0:r)}).transition().duration(l1/2).attr('x',function(){if(k===e1[j][i]){return L1}else{return K1-r}}).attr('width',function(){return Math.abs(G1(d.val)-G1(0))+r});return'url(#'+z+')'}})}}b.exit().remove()});E1.exit().remove()});C1.exit().remove();if(!g1){k1=true}}else{var C1=B1.selectAll('g.bar').data(s);C1.enter().append('g');C1.attr('class','bar').each(function(m,i){var D1=d3.select(this).selectAll('g.axisGroup').data(m);D1.enter().append('g');D1.attr('class','axisGroup').each(function(E1,j){var F1=(j==0)?Q:U;var G1=(j==0)?c1/2:(c1/2+c1+c1/8);var H1=(j==0)?D:E;var I1=0,J1=0,K1=0,L1=0;var M1=0,N1=-1;var b=d3.select(this).selectAll('rect').data(E1);b.enter().append('rect');b.attr('y',function(d,k){var y=P(i)+G1;return y}).attr('x',function(d,k){if(d.val>=0){I1=F1(K1);K1+=E1[k].val;return I1}else{L1+=E1[k].val;return F1(L1)}return F1(0)}).attr('width',function(d,k){var w=Math.abs(F1(d.val)-F1(0));return w}).attr('height',c1).attr('fill',function(d,k){var O1=H1[k%H1.length];var P1={drawingEffect:q1,fillColor:O1,direction:'vertical'};return L.register(P1)}).attr('shape-rendering','crispEdges').attr('class','datapoint');if(h1){b.attr('clip-path',function(d,k){if(k===e1[j][i]||k===d1[j][i]){var z='roundCorner-clip'+'-'+k+i+j+o1;var O1=n1.append('clipPath').attr('id',z).append('rect').attr('class','roundCorner-clip').attr('rx',r).attr('ry',r).attr('y',this.y.baseVal.value).attr('height',c1).attr('width',function(){return Math.abs(F1(d.val)-F1(0))+r});if(k===e1[j][i]){O1.attr('x',this.x.baseVal.value)}else{O1.attr('x',this.x.baseVal.value-r)}return'url(#'+z+')'}})}b.exit().remove()});D1.exit().remove()});C1.exit().remove()}r1=false,t1=false,s1=false});if(!f1)x1();return v1}function w1(){for(var i=0,d=s.length;i<d;i++){for(var j=0,r=s[i],m=l[i];j<r.length;j++){var _=0,A1=0;;for(var k=0;k<r[j].length;k++){_+=Math.abs(r[j][k].val);if(!r[j][k].isNaN)A1++}if(_===0){for(var k=0;k<r[j].length;k++){r[j][k].val=r[j][k].isNaN?0:1/A1;if(T.isExist(m[j])&&T.isExist(m[j][k])){m[j][k].val=m[j][k].isNaN?' ':1/A1}}}else{for(var k=0;k<r[j].length;k++){r[j][k].val=Math.abs(r[j][k].val/_);if(T.isExist(m[j])&&T.isExist(m[j][k])){m[j][k].val=m[j][k].isNaN?' ':m[j][k].val/_}}}}}};function x1(){K.initialized()};v1.width=function(d){if(!arguments.length){return w}r1=(w===d)&&!r1?false:true;w=d;if(T.isExist(w)&&T.isExist(v)&&T.isExist(s)){y1()}return v1};v1.height=function(d){if(!arguments.length){return v}r1=(v===d)&&!r1?false:true;v=d;if(T.isExist(w)&&T.isExist(v)&&T.isExist(s)){y1()}return v1};v1.data=function(d){if(!arguments.length){return f}f=d;var k=M(f);var _=k["MG1"];var m=k["MG2"];G=k.MG1Number;H=k.MG2Number||0;F=k.MNDOnColor&&k.MNDInner;l=[];if(T.isExist(k.color)){j1=true;A=true;var r=[],A1=[];var B1=[],C1=[];for(var i=0;i<_.length;i++){r=[];A1=[];for(var j=0;j<_[i].length;j++){if(k.color[j]==0){r.push(_[i][j]);A1.push({val:null,hasMNDonCategoryAxis:true})}else{r.push({val:null,hasMNDonCategoryAxis:true});A1.push(_[i][j])}}B1.push(r);C1.push(A1)}_=B1;m=C1}else{j1=false;if(T.isExist(m)){if(!s1&&(h.length!==m.length||h[0].length!==m[0].length)){s1=true}A=true}else{A=false}}if(g.length!==_.length||g[0].length!==_[0].length){s1=true}var D1=z1(_,m,k.color);if(!s1){t1=true}s=D1;g=_;h=m;if(j1){for(var i=0;i<s.length;i++){var E1=s[i];if(E1[0][0].hasMNDonCategoryAxis){l.push(E1[1])}else{l.push(E1[0])}}}else{l=O.extend(true,{},s)}if(T.isExist(w)&&T.isExist(v)){y1()}u1();return v1};v1.properties=function(d){if(!arguments.length){return J}J=c.props(d);u1();return v1};var y1=function(){var d=[];for(var i=0;i<s.length;i++){d.push(i)}P.domain(d).rangeBands([v,0]);if(p1==='percentage'){Q.domain([0,1]).range([0,w]).nice();U.domain([0,1]).range([0,w]).nice();S.perfectDual(Q,U)}else{Q.domain([n,p]).range([0,w]).nice();U.domain([q,o]).range([0,w]).nice();S.perfectDual(Q,U)}if(!T.isExist(h)){U.range([0,0])}};v1.colorPalette=function(d){if(!arguments.length){return B}B=d;return v1};v1.categoryScale=function(d){if(!arguments.length){return P}P=d;return v1};v1.primaryDataRange=function(r){if(!arguments.length){var m,d;if(p1==='percentage'){m=1;d=0}else{d=n<0?n:0;m=p}return{min:d,max:m}}p=r.max;n=r.min;if(T.isExist(w)&&T.isExist(v)){y1()}return v1};v1.secondDataRange=function(r){if(!arguments.length){var m,d;if(p1==='percentage'){m=1;d=0}else{d=q<0?q:0;m=o}return{min:d,max:m}}o=r.max;q=r.min;if(T.isExist(w)&&T.isExist(v)){y1()}return v1};v1.primaryScale=function(d){if(!arguments.length){return Q}Q=d;return v1};v1.secondScale=function(d){if(!arguments.length){return U}U=d;return v1};v1.primaryAxisColor=function(){if(A&&!j1){return B[0]}else{return undefined}};v1.secondAxisColor=function(){if(T.isExist(s[0][1])&&!j1){return E[s[0][1].length-1]}else{return undefined}};v1.getPreferredSize=function(){};v1.effectManager=function(_){if(!arguments.length){return L}L=_;return v1};v1.x=function(_){if(!arguments.length){return x}x=_;return this};v1.y=function(_){if(!arguments.length)return y;y=_;return this};v1.dispatch=function(_){if(!arguments.length)return K;K=_;return this};v1.primaryAxisTitle=function(_){if(!arguments.length){var d=f.getMeasureValuesGroupDataByIdx(0),j=[];if(d){for(var i=0,k=d.values.length;i<k;i++){j.push(d.values[i].col)}}return j.join('/')}return this};v1.secondAxisTitle=function(_){if(!arguments.length){var d=f.getMeasureValuesGroupDataByIdx(1),j=[];if(d){for(var i=0,k=d.values.length;i<k;i++){j.push(d.values[i].col)}}return j.join('/')}return this};var z1=function(d,k,m){var r=-1,_=-1;d1=[[],[]],e1=[[],[]];p=n=0;o=q=0;var A1=[];a1=d[0].length;;var B1,C1;for(var j=0;j<a1;j++){var D1=[],E1=[];var F1=[];B1=0,C1=0;r=-1,_=-1;for(var i=0;i<d.length;i++){if(N.isNoValue(d[i][j].val)){d[i][j].val=0;d[i][j].isNaN=true}else{if(d[i][j].val>=0){B1+=d[i][j].val;r=i}else{C1+=d[i][j].val;_=i}}D1.push(d[i][j])}d1[0].push(r);e1[0].push(_);if(p<B1){p=B1}if(n>C1){n=C1}F1.push(D1);if(T.isExist(k)){B1=0,C1=0;r=-1,_=-1;for(i=0;i<k.length;i++){r=0,_=-1;if(N.isNoValue(k[i][j].val)){k[i][j].val=0;k[i][j].isNaN=true}else{if(k[i][j].val>=0){B1+=k[i][j].val;r=i}else{C1+=k[i][j].val;_=i}}E1.push(k[i][j])}d1[1].push(r);e1[1].push(_);if(o<B1){o=B1}if(q>C1){q=C1}F1.push(E1)}A1.push(F1)}return A1};J=c.props(null);return v1};return b});sap.riv.module({qname:'sap.viz.modules.manifests.xy.StackedBar',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.modules.stackedbar',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Bar',version:'4.0.0'}],function Setup(M,f){var m={'id':'sap.viz.modules.stackedbar','name':'stacked bar',base:"sap.viz.modules.bar",'properties':{'mode':{'name':'mode','supportedValueType':'List','supportedValues':['comparison','percentage'],'defaultValue':'comparison','description':'Set dispaly mode of stacked bar.'}},fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiDualStackedBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedBar',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDualBarChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_dual_stacked_bar',name:'IDS_MULTIDUALSTACKEDBARCHART',base:'viz/multi_dual_bar',modules:{main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{id:'sap.viz.modules.stackedbar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}}}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiDualPercentageStackedBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedBar',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDualStackedBarChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_100_dual_stacked_bar',name:'IDS_MULTIDUALPERCENTAGESTACKEDBARCHART',base:'viz/multi_dual_stacked_bar',modules:{main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{id:'sap.viz.modules.stackedbar',configure:{properties:{'mode':'percentage'}}}}}}}}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiStackedVerticalBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedVerticalBar',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiVerticalBarChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_stacked_column',name:'IDS_MULTISTACKEDVERTICALBARCHART',base:'viz/multi_column',modules:{main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{id:'sap.viz.modules.stackedverticalbar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1},secondaryValues:{max:0}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'primaryDataRange',sourceModule:'main.plot.plot',source:'primaryDataRange'},{targetModule:'main.plot.plot',target:'primaryDataRange',sourceModule:'main',source:'primaryDataRange'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'primaryScale'},{targetModule:'main.plot.yAxis',target:'title',sourceModule:'main.plot.plot',source:'primaryAxisTitle'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'colorPalette'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiPercentageStackedVerticalBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedVerticalBar',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiStackedVerticalBarChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_100_stacked_column',name:'IDS_MULTIPERCENTAGESTACKEDVERTICALBARCHART',base:'viz/multi_stacked_column',feeds:{multiplier:{max:1},secondaryValues:{max:0},axisLabels:{max:1}},modules:{main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{id:'sap.viz.modules.stackedverticalbar',configure:{properties:{'mode':'percentage'}}}}}}}}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiStackedBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedBar',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiBarChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_stacked_bar',name:'IDS_MULTISTACKEDBARCHART',base:'viz/multi_bar',modules:{main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{id:'sap.viz.modules.stackedbar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}}},feeds:{multiplier:{max:1},axisLabels:{max:1},secondaryValues:{max:0}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'primaryDataRange',sourceModule:'main.plot.plot',source:'primaryDataRange'},{targetModule:'main.plot.plot',target:'primaryDataRange',sourceModule:'main',source:'primaryDataRange'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'primaryScale'},{targetModule:'main.plot.xAxis',target:'title',sourceModule:'main.plot.plot',source:'primaryAxisTitle'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'colorPalette'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiPercentageStackedBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedBar',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiStackedBarChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_100_stacked_bar',name:'IDS_MULTIPERCENTAGESTACKEDBARCHART',base:'viz/multi_stacked_bar',feeds:{multiplier:{max:1},secondaryValues:{max:0},axisLabels:{max:1}},modules:{main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{id:'sap.viz.modules.stackedbar',configure:{properties:{'mode':'percentage'}}}}}}}}};M.register(m)});sap.riv.module({qname:'sap.viz.feeds.Radar',version:'4.0.0'},[{qname:'sap.viz.feeds.Manifest',version:'4.0.0'},{qname:'sap.viz.data.feed.Constants',version:'4.0.0'}],function Setup(M,c){var a={id:"regionColor",name:"Region Color",type:c.Type.Dimension,min:0,max:2,aaIndex:2,acceptMND:2},s={id:"regionShape",name:"Region Shape",type:c.Type.Dimension,min:0,max:2,aaIndex:3,acceptMND:0},b={id:"radarAxes",name:"Radar Axes",type:c.Type.Dimension,min:1,max:1,aaIndex:1,acceptMND:1},v={id:"radarAxesValues",name:"Radar Axes Values",type:c.Type.Measure,min:1,max:c.Constraints.INF,mgIndex:1};var f={id:"radar",feeds:[a,s,b,v]};M.register(f)});sap.riv.module({qname:'sap.viz.util.ShapeSeriesGenerator',version:'4.0.0'},[],function Setup(){var S={sapShapes:function(){return d3.scale.ordinal().range(['circle','diamond','triangle-up','triangle-down','triangle-left','triangle-right','cross','intersection'])}};return S});sap.riv.module({qname:'sap.viz.modules.radar',version:'4.0.0'},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.axis',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.ShapeSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.util.DrawUtil',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'}],function Setup(c,t,e,f,g,h,s,k,l,p,m,o){return function(q){var u=0,v=0,z={},A={},B,C,D={},E,F,G=d3.scale.linear(),H,I={},J=[],K=[],L,M,O=null,P,Q={},R,S;M=f("selectData","deselectData","showTooltip","hideTooltip","initialized");E={clazz:"spiderweb",node:null,color:h.sap32(),shape:s.sapShapes(),radiusLength:0,radius:d3.scale.linear(),anchor:{x:0,y:0},radians:[],series:[],categories:[],caption:{node:null,name:"category-axis-title",width:0,height:0},labels:{},locked:false,};F={clazz:"valueaxis",anchor:{x:0,y:0},ref:g(l.get("sap.viz.modules.axis")),node:null,width:0,height:0};A={drawingEffect:"normal",polarGrid:{visible:true,color:"#d8d8d8"},polarAxis:{title:{visible:false,text:"Categories"}},valueAxis:{visible:true,title:{visible:false,text:"Value"}},line:{width:2},surface:{fill:{visible:true,transparency:0.3}},colorPalette:[],shapePalette:[],marker:{size:6},tooltip:{enabled:true},multichart:false};css={background:"viz-plot-background",axisTitle:"viz-axis-title"},D={spacing:{hgap:5,vgap:5},background:{css:{key:"viz-plot-background",def:null}},alignment:{horizontal:"center"},polaraxis:{clazz:"polar_axis",color:"#6c6c6c",weight:"1px",labels:{css:{key:"viz-polar-axis-labels",def:null}},title:{css:{key:"viz-polar-axis-title",def:null}}},polargrid:{clazz:"polar_grid",color:"#d8d8d8",weight:"1px"},line:{clazz:"dataline"},valueaxis:{clazz:"value_axis",title:{css:{key:"viz-axis-title",def:null}}},marker:{clazz:"datapoint",css:{key:"viz-radar-marker",def:null},stroke:"transparent"},labels:{color:"#333333",fontSize:"14px",fontWeight:"normal",fontFamily:"Arial"},tooltip:{radialOffset:1*10}};P={dataline:{weight:[1,7]},marker:{size:[4,32]}};H={options:$.extend(true,{},A),styles:$.extend(true,{},D),wording:{dash:" - ",dot:".",slash:" / ",ellipsis:"...",series:"s",data:"d",measureIndex:" mi",and:" & "}};C=function(){var a=E.series,b=arguments[0],d=arguments[1];E.max=typeof d!=="undefined"?d:d3.max(d3.merge(d3.merge(a)),function(_){return _.val});E.min=typeof b!=="undefined"?b:d3.min(d3.merge(d3.merge(a)),function(_){return _.val});if(E.min===E.max){if(E.min===0)E.max=100;if(E.min<0)E.max=0;if(E.min>0)E.min=0}if(!E.min||E.min==="NaN"){E.min=0}if(!E.max||E.max==="NaN"){E.max=0}};L=function(a,b){return e.fastMeasure(a,b["font-size"]||b.fontSize,b["font-weight"]||b.fontWeight,b["font-family"]||b.fontFamily)};R=function(){var a=arguments[0],b=a.valueaxis,d=a.lblW,i=a.lblH,j=a.caption,n={},w,r,x,N,W=D.spacing.hgap,X=D.spacing.vgap;(function layout(){if(i>1/3*v)i=0;if(j.height>1/3*v)j.height=0;if(j.width>2/3*u)j.width=0;if(u>=v){r=(v-2*(i+2*X)-(j.height!==0?j.height+2*X:0))/2;w=2*r+2*(d+2*W)+b;if(w>u){x=w-u;r=(v-x-2*(i+2*X)-(j.height!==0?j.height+2*X:0))/2}}else{r=(u-2*(d+2*W)-b)/2}if(d>r||r<=0){d=0,i=0;j.width=0,j.height=0;r=layout();if(b>r||r<0){b=0;r=layout();if(u>=v){if(r<v/2)r=v/2,X=0}else{if(r<u/2)r=u/2,W=0}}}return r})();N={width:b+2*r+4*W+2*d,height:2*(i+r)+4*X+(j.height!==0?j.height+2*X:0)};E.radiusLength=r;F.width=b;F.anchor.x=0;F.anchor.y=i+2*X;E.caption.width=j.width;E.caption.height=j.height;n.x=b+d+r+W*2;n.y=i+r+X*2;j.x=n.x;j.y=n.y+r+i+2*X+j.height/2;var Y=0,Z=0;if(b){F.ref.gridlineLength(n.x-b);if(u>v){Y=u/2-N.width/2;F.anchor.x+=Y;n.x+=Y;j.x+=Y}}else{if(u>v){Y=u/2-n.x;n.x+=Y;j.x+=Y}}E.caption.node.attr("x",j.x);E.caption.node.attr("y",j.y);F.node.attr("transform","translate("+F.anchor.x+","+F.anchor.y+")");E.node.attr("transform","translate("+n.x+","+n.y+")");E.pole=n;E.labels.width=d;E.labels.height=i};B=function(n,N,a){var b,d=[],j=[],r=0,i;if(!n.length){return d3.scale.linear().domain([0,a]).range([0,2*Math.PI])}else{for(i=0;i<a;i++){d.push(i);j.push(i/a*2*Math.PI)}for(i=n.length-1;i>=0;i--){j.splice(n[i].order,1)}return d3.scale.ordinal().domain(d).range(j)}};function T(w){w.each(function(d){var N=d3.select(this),W=H.wording;F.node=null;E.node=null;E.radiusLength=0;O=N;N.select(W.dot.concat(F.clazz)).remove();N.select(W.dot.concat(E.clazz)).remove();N.select(W.dot+E.caption.name).remove();F.node=N.append("g").attr("class",F.clazz);E.node=N.append("g").attr("class",E.clazz);E.caption.node=N.append("text").attr("class",E.caption.name);D.valueaxis.title.css.def=q.style(D.valueaxis.title.css.key);D.marker.css.def=q.style(D.marker.css.key);D.polaraxis.labels.css.def=q.style(D.polaraxis.labels.css.key);var X,Y,Z,r,i,j,a1={},b1=E.categories,c1=E.series,d1=D.spacing.hgap,e1=D.spacing.vgap,f1=E.radians;var ls=[];for(i=0;i<b1.length;i++){ls.push(L(b1[i],D.polaraxis.labels.css.def))}Y=d3.max(ls,function(_){return _.width});Z=d3.max(ls,function(_){return _.height});G.domain([E.min,E.max]).range([200,0]);k.perfect(G);F.ref.scale(G).properties({label:{visible:true},title:{visible:A.valueAxis.title.visible,text:A.valueAxis.title.text},type:"value",position:"left",gridline:{visible:true,showFirstLine:true,showLastLine:true,type:"dotted"}});F.width=A.valueAxis.visible?F.ref.getPreferredSize().width:0;if(F.width>0.5*u)F.width=0;R({valueaxis:F.width,lblW:Y,lblH:Z,caption:{width:L(A.polarAxis.title.visible?A.polarAxis.title.text:0,D.polaraxis.labels.css.def).width,height:L(A.polarAxis.title.visible?A.polarAxis.title.text:0,D.polaraxis.labels.css.def).height,}});if(A.polarAxis.title.visible&&E.caption.width&&E.caption.height){E.caption.node.text(A.polarAxis.title.text).attr("text-anchor","middle").attr("alignment-baseline","middle").style("font-family",D.valueaxis.title.css.def["font-family"]).style("font-size",D.valueaxis.title.css.def["font-size"]).style("font-weight",D.valueaxis.title.css.def["font-weight"]).style("fill",D.valueaxis.title.css.def["fill"])}G.range([E.radiusLength,0]);k.perfect(G);F.ref.scale(G);if(A.valueAxis.visible&&F.width){F.node.call(F.ref)}var h1=E.node.append("g").attr("class","polaraxes-group").selectAll(D.polaraxis.clazz).data(b1);h1.enter().append("g").attr("transform",function(d,i){var a=i/b1.length*360-90;if(a>-180&&a<180){f1.push({axisIdx:i,radian:-1*a*Math.PI/180})}else{f1.push({axisIdx:i,radian:(360-a)*Math.PI/180})}return"rotate("+a+") translate("+E.radiusLength+")"});h1.append("svg:line").attr("x2",-1*E.radiusLength).style("stroke",S.register({drawingEffect:"normal",fillColor:D.polaraxis.color})).style("stroke-width",D.polaraxis.weight).style("fill","transparent");f1.sort(function(a,b){return a.radian-b.radian});var i1;if(E.labels.width&&E.labels.height){h1.append("g").attr("class","categoryLabel").append("text").text(function(d,i){return d}).attr("text-anchor","middle").attr("alignment-baseline","middle").attr("transform",function(d,i){i1=i/b1.length*360-90;if(i1%90===0){if(i1===-90||i1===270){return"rotate(90) translate(0,"+(-1*(L(d,D.polaraxis.labels.css.def).height/2+e1))+")"}else if(i1===0){return"translate("+(L(d,D.polaraxis.labels.css.def).width/2+d1)+")"}else if(i1===180){return"rotate(180) translate("+(-1*(L(d,D.polaraxis.labels.css.def).width/2+d1))+")"}else{return"rotate(-90) translate(0,"+(L(d,D.polaraxis.labels.css.def).height/2+e1)+")"}}if((i1>-90&&i1<0)||(i1>0&&i1<90)){return"rotate("+(-1*i1)+") translate("+(L(d,D.polaraxis.labels.css.def).width/2+d1)+",0)"}else{return"rotate("+(-1*i1)+") translate("+(-1*(L(d,D.polaraxis.labels.css.def).width/2+d1))+",0)"}}).style("font-family",D.polaraxis.labels.css.def["font-family"]).style("font-size",D.polaraxis.labels.css.def["font-size"]).style("fill",S.register({drawingEffect:"normal",fillColor:D.labels.color}))}if(!E.min&&!E.max){M.initialized();return}G.domain([E.max,E.min]);k.perfect(G);X=E.categories.length;i1=B([],X,X);var j1=d3.svg.line.radial().interpolate("linear").radius(G).angle(function(d,i){return i1(i)});var k1=G.ticks(G.tickNum),l1=[],m1=[];for(i=0;i<k1.length;i++){m1=[];for(j=0;j<b1.length;j++){m1.push(k1[i])}l1.push(m1)}if(A.polarGrid.visible){E.node.append("g").attr("class","polargrid-group").selectAll("."+D.polargrid.clazz).data(l1).enter().append("path").attr("class",D.polargrid.childClazz).attr("d",function(d){return j1(d)+"Z"}).style("fill","none").style("stroke",S.register({drawingEffect:"normal",fillColor:D.polargrid.color})).style("stroke-width",D.polargrid.weight)}E.node.append("g").attr("class","dataline-group").selectAll("."+D.line.clazz).data(c1).enter().append("path").attr("class",function(d,i){return W.series.concat(i+" ").concat(D.line.clazz)}).attr("d",function(d,i){if(!d.length)return;var a=[];i1=B([],X,X);for(var n=0;n<d.length;n++)a.push(d[n].val);if(a.length!==E.categories.length){i1=B(T.vacants[i],a.length,X)}return j1(a)+"Z"}).style("fill",function(d,i){if(!d.length)return;if(A.surface.fill.visible){return S.register({drawingEffect:"normal",fillColor:d[0].color})}}).style("fill-opacity",function(d,i){if(A.surface.fill.visible)return A.surface.fill.transparency;else return 0}).style("stroke",function(d,i){if(!d.length)return;return S.register({drawingEffect:"normal",fillColor:d[0].color})}).style("stroke-width",A.line.width>P.dataline.weight[1]||A.line.width<P.dataline.weight[0]?H.options.line.width:A.line.width);var n1=E.node.append("g").attr("class","marker-container").selectAll("."+D.marker.clazz).data(c1).enter().append("g");n1.attr("class","marker-group").each(function(a,b){var n=T.vacants[b],f1=[];$.each(E.categories,function(i,d){f1.push(i/X*2*Math.PI-0.5*Math.PI)});for(var i=n.length-1;i>=0;i--){f1.splice(n[i].order,1)}d3.select(this).append("g").attr("class","marker-series").selectAll("."+D.marker.clazz).data(a).enter().append("path").attr("class",function(d,i){return(W.series+b+" "+W.data+d.order+" "+D.marker.clazz+W.measureIndex+d.ctx.path.mi)}).attr("transform",function(d,i){var x=G(d.val)*Math.cos(f1[i]);y=G(d.val)*Math.sin(f1[i]);return"translate("+x+", "+y+") rotate(0)"}).attr("d",function(d,i){return p.createMarkerData({type:d.shape,rx:D.marker.size/2,ry:D.marker.size/2,borderWidth:2})}).style("fill",function(d){var x={drawingEffect:A.drawingEffect,graphType:d.shape,fillColor:d.color,direction:'vertical',};return S.register(x)})});var o1=E.node.append("g").attr("class","phantom-marker-group").selectAll(".phantom-marker-series").data(T.vacants).enter().append("g");o1.attr("class","phantom-marker-series").each(function(a,b){d3.select(this).selectAll(".phantom-marker").data(a).enter().append("path").attr("class",function(d,i){return(W.series+b+" "+W.data+d.order+" "+W.measureIndex+d.ctx.path.mi)}).style("fill","none")});M.initialized()})}T.data=function(_){if(!arguments.length)return z;z=_,E.series=[],E.categories=[],E.radians=[],K=[],J=[],T.vacants=[];if(!T.caliberated)return T;var a=z.getAnalysisAxisDataByIdx(0).values,b=z.getMeasureValuesGroupDataByIdx(0).values,d=z.getAnalysisAxisDataByIdx(1),r=z.getAnalysisAxisDataByIdx(2),w=[],N,W,X,Y=[],Z={aa2:{fed:d!==null&&d.values.length?true:false,axesFed:false,hasMND:false},aa3:{fed:r!==null&&r.values.length?true:false,axesFed:false,hasMND:false}},i,j,x;E.mndized=a[0].type&&a[0].type.toLowerCase()==="mnd"?true:false;for(i=0;i<a.length;i++){X=[];for(j=0;j<a[i].rows.length;j++){X.push(a[i].rows[j].val)}Y.push(X)}N=Y.length,W=Y[0].length;if(N===1){for(i=0;i<W;i++){E.categories.push(Y[0][i])}}else{var a1=[];for(i=0;i<W;i++){for(j=0;j<N;j++)a1.push(Y[j][i]);E.categories.push(a1.join(H.wording.slash));a1=[]}}W=b[0].rows[0].length;if(E.mndized){if(!Z.aa2.fed&&!Z.aa3.fed){J.push(E.color(0));K.push(E.shape(0))}if(Z.aa2.fed){for(i=0;i<d.values[0].rows.length;i++){J.push(E.color(i))}if(!Z.aa3.fed)K.push(E.shape(0))}if(Z.aa3.fed){for(i=0;i<r.values[0].rows.length;i++){K.push(E.shape(i))}if(!Z.aa2.fed)J.push(E.color(0))}for(i=0;i<b.length;i++){for(j=0;j<b[i].rows.length;j++){for(x=0;x<W;x++){b[i].rows[j][x].color=J[x]||E.color(0);if(Z.aa2.fed){b[i].rows[j][x].shape=K[j]||E.shape(0)}else{b[i].rows[j][x].shape=K[x]||E.shape(0)}}}}var b1,c1=[],d1=[];for(i=0;i<b[0].rows.length;i++){b1=[];for(j=0;j<b.length;j++){b1.push(b[j].rows[i])}c1.push(b1)}for(i=0;i<c1.length;i++){for(x=0;x<W;x++){for(j=0;j<c1[i].length;j++,i1=[]){d1.push(c1[i][j][x])}w.push(d1);d1=[]}}$.each(w,function(k1,d1){var l1=d1,i1=[];for(var i=0;i<l1.length;i++){l1[i].order=i;if(l1[i].val===null)i1.push(l1[i])}for(i=l1.length-1;i>=0;i--){if(l1[i].val===null)l1.splice(i,1)}T.vacants.push(i1)});if(A.polarAxis.title.text==="Categories"){A.polarAxis.title.text=m.get('IDS_DEFAULTMND')}}else{if(Z.aa2.fed){for(i=0;i<d.values.length;i++){if(d.values[i].type&&d.values[i].type.toLowerCase()==="mnd"){Z.aa2.hasMND=true}}if(Z.aa2.hasMND){if(d.values.length>=2)Z.aa2.axesFed=true;else Z.aa2.axesFed=false}else{Z.aa2.axesFed=true}}if(Z.aa3.fed){for(i=0;i<r.values.length;i++){if(r.values[i].type&&r.values[i].type.toLowerCase()==="mnd"){Z.aa3.hasMND=true}}if(Z.aa3.hasMND){if(r.values.length>=2)Z.aa3.axesFed=true;else Z.aa3.axesFed=false}else{Z.aa3.axesFed=true}}var e1=0,f1=0,x,g1=Z.aa2.hasMND&&!Z.aa2.axesFed,h1=Z.aa3.hasMND&&!Z.aa3.axesFed,i1=[];for(i=0;i<b.length;i++){if(g1)J.push(E.color(i));if(h1)K.push(E.shape(i));for(j=0;j<b[i].rows.length;j++,i1=[]){for(x=0;x<b[i].rows[j].length;x++){if(b[i].rows[j][x].val===null){i1.push(b[i].rows[j][x])}b[i].rows[j][x].order=x}w.push(b[i].rows[j]);T.vacants.push(i1);if(Z.aa2.fed){if(g1){for(x=0;x<b[i].rows[j].length;x++){b[i].rows[j][x].color=E.color(i)}}else if(Z.aa2.hasMND&&Z.aa2.axesFed){e1++;J.push(E.color(e1));for(x=0;x<b[i].rows[j].length;x++){b[i].rows[j][x].color=E.color(e1)}}else{J.push(E.color(j));for(x=0;x<b[i].rows[j].length;x++){b[i].rows[j][x].color=E.color(j)}}}else{J.push(E.color(0));for(x=0;x<b[i].rows[j].length;x++){b[i].rows[j][x].color=E.color(0)}}if(Z.aa3.fed){if(h1){for(x=0;x<b[i].rows[j].length;x++){b[i].rows[j][x].shape=E.shape(i)}}else if(Z.aa3.hasMND&&Z.aa3.axesFed){f1++;K.push(E.shape(f1));for(x=0;x<b[i].rows[j].length;x++){b[i].rows[j][x].shape=E.shape(f1)}}else{if(Z.aa2.fed){if(Z.aa2.hasMND){K.push(E.shape(j));for(x=0;x<b[i].rows[j].length;x++){b[i].rows[j][x].shape=E.shape(j)}}else{for(x=0;x<b[i].rows[j].length;x++){K.push(E.shape(x));b[i].rows[j][x].shape=E.shape(x)}}}}}else{K.push(E.shape(0));for(x=0;x<b[i].rows[j].length;x++){b[i].rows[j][x].shape=E.shape(0)}}}}for(i=0;i<w.length;i++){for(j=w[i].length-1;j>=0;j--){for(var n=0;n<T.vacants[i].length;n++){if(T.vacants[i][n].order===j)w[i].splice(j,1)}}}if(A.polarAxis.title.text==="Categories"){A.polarAxis.title.text=a[0].col.val}}if(A.valueAxis.title.text==="Value"){var j1=[];for(i=0;i<b.length;i++)j1.push(b[i].col);A.valueAxis.title.text=j1.join(H.wording.and)}E.series=w;E.feedings=Z;if(!E.locked)C();return T};T.primaryDataRange=function(_){if(!arguments.length)return{min:E.min,max:E.max};E.min=_.min;E.max=_.max;C(_.min,_.max);E.locked=true;return T};T.colorPalette=function(_){if(!arguments.length)return J;J=_;return T};T.shapes=function(_){if(!arguments.length)return K;K=_;return T};T.dispatch=function(_){if(!arguments.length)return M;M=_;return T};T.properties=function(_){if(!arguments.length)return A;A=q.props(_);V();if(A.colorPalette.length)E.color.range(A.colorPalette);if(A.shapePalette.length)E.shape.range(A.shapePalette);D.marker.size=A.marker.size;if(D.marker.size>P.marker.size[1]||D.marker.size<P.marker.size[0])D.marker.size=6;D.polargrid.color=A.polarGrid.color;T.caliberated=true;T.data(z);return T};T.width=function(_){if(!arguments.length)return u;var a=u===_?false:true;u=_;if(t.isEmptyObject(z)&&v)T.data(z);if(a&&!E.locked)C();return T};T.height=function(_){if(!arguments.length)return v;var a=v===_?false:true;v=_;if(t.isEmptyObject(z)&&u)T.data(z);if(a&&!E.locked)C();return T};T.size=function(_){if(!arguments.length)return{width:u,height:v};u=_;v=_;if(t.isEmptyObject(z)&&u&&v)T.data(z);if(u&&v&&E.series.length)C();return T};T.effectManager=function(_){if(!arguments.length)return S;S=_;F.ref.effectManager(S);return T};T.parent=function(_){if(!arguments.length)return O;O=_;return T};T.hoverOnPoint=function(a){var b=E.pole,j,r,n=H.wording,w=E.radians,x={x:a.x-b.x,y:b.y-a.y};r=Math.sqrt(Math.pow(x.x,2)+Math.pow(x.y,2));if(r>E.radiusLength){if(typeof T.last!=="undefined"&&(t.isEmptyObject(Q))){I.straight(n.dot+n.data+T.last,true)}if(A.tooltip.enabled)E.prompt();return}j=Math.atan2(x.y,x.x);var N=d3.bisector(function(d){return d.radian}).right,W=N(w,j),X,Y,Z,_;if(W===0){Y=w.length-1,Z=0;if(w[Y].radian===Math.PI){X=-1*(Math.PI+Math.abs(w[Z].radian))/2;_=j>X?_=w[Z].axisIdx:_=w[Y].axisIdx}else{_=w[0].axisIdx}}else if(W===w.length){_=w[w.length-1].axisIdx}else{Y=W-1,Z=W;X=(w[Y].radian+w[Z].radian)/2;_=j>X?_=w[Z].axisIdx:_=w[Y].axisIdx}if(typeof T.last!=="undefined"&&T.last!==_){I.straight(n.dot+n.data+T.last,true)}I.focus(n.dot+n.data+_,true);if(!t.isEmptyObject(Q)){I.dim(n.dot+n.data+_,true);for(var a1 in Q){for(var i=0;i<Q[a1].length;i++)I.highlight(Q[a1])}}if(A.tooltip.enabled)E.prompt(_);T.last=_};T.clear=function(){if(!arguments[0]){I.straight().bright();Q={}}else{I.dim()}};T.highlight=function(a){if(!E.min&&!E.max)return;var b=a instanceof Array?a:[a],d=/[sS][0-9]+/,r;I.highlight(b);for(var i=0,w=false;i<b.length;i++,w=false){r=b[i].className.baseVal.match(d)[0];if(Q[r]){for(var j=0;j<Q[r].length;j++){if(Q[r][j]===b[i])w=true}if(!w)Q[r].push(b[i])}else{Q[r]=[];Q[r].push(b[i])}}var x,N;for(var n in Q){if(Q.hasOwnProperty(n)){N=n.substr(1);x=E.series[N].length;U(n,Q[n],x)}}};function U(a,d,b){if(d.length===b){I.highlight2(H.wording.dot+a,true)}else{I.highlight(d)}}T.unhighlight=function(a){var b=a instanceof Array?a:[a];I.straight(b).dim(b);$.each(b,function(d,j){var n=j.className.baseVal.match(/[sS][0-9]+/)[0];for(var r in Q){for(var i=0;i<Q[r].length;i++){if(Q[r][i]===a){Q[r].splice(i,1);break}}}I.straight2(H.wording.dot+n).dim(H.wording.dot+n)})};T.blurOut=function(){M.hideTooltip()};E.prompt=function(){if(typeof arguments[0]==="undefined"){M.hideTooltip();return}var a,b={},n,w=arguments[0],N=H.wording,W={},X=0,r=E.radiusLength-D.tooltip.radialOffset,Y=O[0][0].getTransformToElement(O[0][0].ownerSVGElement),i;for(i=0;i<E.radians.length;i++){if(E.radians[i].axisIdx===w){X=E.radians[i].radian;break}}W.x=r*Math.cos(X);W.y=r*Math.sin(X);orient=X<=0.5*Math.PI&&X>-0.5*Math.PI?"left":"right";a={body:[],plotArea:{x:Y.e,y:Y.f,width:u,height:v},point:{x:W.x+E.pole.x+Y.e,y:W.y<0?Math.abs(W.y)+E.pole.y+Y.f:E.pole.y-W.y+Y.f,orientation:orient,angle:X,range:{x:X===0.5*Math.PI||X===-0.5*Math.PI?0:Math.abs(W.x),y:X===0||X===Math.PI||X===-1*Math.PI?0:Math.abs(W.y)}},footer:[]};var Z=z.getAnalysisAxisDataByIdx(0).values,_=E.feedings.aa2.fed?z.getAnalysisAxisDataByIdx(1).values:null,a1=E.feedings.aa3.fed?z.getAnalysisAxisDataByIdx(2).values:null,mg=z.getMeasureValuesGroupDataByIdx(0).values;n=E.node.selectAll("."+N.data+w);var c1,d1,e1,f1,i,j,g1;if(E.mndized){b={name:E.categories[w],val:[]};n.each(function(d){var b1={};b1.color=d.color;b1.shape=d.shape;b1.value=d.val!==null?d.val:m.get('IDS_ISNOVALUE');if(!E.feedings.aa2.fed&&!E.feedings.aa3.fed){b1.label=null}if(E.feedings.aa2.fed){f1=A.multichart?d.ctx.path.dii_a2:d.ctx.path.dii_a1;for(i=0,g1=[];i<_.length;i++){g1.push(_[i].rows[f1].val)}c1=g1.join(N.slash);if(!E.feedings.aa3.fed)b1.label=c1}if(E.feedings.aa3.fed){f1=E.feedings.aa2.fed?d.ctx.path.dii_a2:d.ctx.path.dii_a1;for(i=0,g1=[];i<a1.length;i++){g1.push(a1[i].rows[f1].val)}if(E.feedings.aa2.fed){d1=g1.join(N.slash);b1.label=c1.concat(N.slash+d1)}else{c1=g1.join(N.slash);b1.label=c1}}b.val.push(b1)});a.body.push(b)}else{if(!E.feedings.aa2.axesFed&&!E.feedings.aa3.axesFed){n.each(function(d){var b1={},b={name:mg[d.ctx.path.mi].col,val:[]};b1.color=d.color;b1.shape=d.shape;b1.value=d.val!==null?d.val:m.get('IDS_ISNOVALUE');b1.label=null;b.val.push(b1);a.body.push(b)})}else{for(var x=0;x<mg.length;x++){b={name:mg[x].col,val:[]};n.each(function(d){var b1={};b1.color=d.color;b1.shape=d.shape;b1.value=d.val!==null?d.val:m.get('IDS_ISNOVALUE');var i1=d3.select(this)[0][0].className.baseVal.match(/\smi[0-9]+/);if(i1!==null)i1=i1[0];else return;g1=[];if(i1===(N.measureIndex+x)){var aa=_!==null?_:a1;for(i=0;i<aa.length;i++){if(d.ctx.path.dii_a2>aa[i].rows.length-1){d.ctx.path.dii_a2=aa[i].rows.length-1}g1.push(aa[i].rows[d.ctx.path.dii_a2].val)}b1.label=g1.join(N.slash)}else return;b.val.push(b1)});a.body.push(b)}}var h1={};for(i=0;i<Z.length;i++){h1={};h1.label=Z[i].col.val;h1.value=Z[i].rows[w].val;a.footer.push(h1)}}M.showTooltip(o.formatTooltipData(a))};I.params={stroke:{invisible:"transparent",natural:q.style(css.background).fill,heavy:"#333333"},weight:{natural:A.line.width,heavy:"2px"},opacity:{natural:1,low:0.2}};I.dim=function(){var a=H.wording;if(!arguments.length){E.node.selectAll(a.dot+D.line.clazz).attr("opacity",I.params.opacity.low);E.node.selectAll(a.dot+D.marker.clazz).attr("opacity",I.params.opacity.low)}else if(arguments[0]instanceof Array){for(var i=0;i<arguments[0].length;i++){d3.select(arguments[0][i]).attr("opacity",I.params.opacity.low)}}else if(arguments[1]){E.node.selectAll(arguments[0]).attr("opacity",I.params.opacity.low)}else{E.node.select(arguments[0]).attr("opacity",I.params.opacity.low)}return I};I.bright=function(){var a=H.wording;if(!arguments.length){E.node.selectAll(a.dot+D.line.clazz).attr("opacity",I.params.opacity.natural);E.node.selectAll(a.dot+D.marker.clazz).attr("opacity",I.params.opacity.natural)}else if(arguments[0]instanceof Array){for(var i=0;i<arguments[0].length;i++){d3.select(arguments[0][i]).attr("opacity",I.params.opacity.natural)}}else if(arguments[1]){E.node.selectAll(arguments[0]).attr("opacity",I.params.opacity.natural)}else{E.node.select(arguments[0]).attr("opacity",I.params.opacity.natural)}return I};I.straight=function(){var a=H.wording;if(!arguments.length){E.node.selectAll(a.dot+D.marker.clazz).style("stroke",I.params.stroke.invisible)}else if(arguments[0]instanceof Array){for(var i=0;i<arguments[0].length;i++){d3.select(arguments[0][i]).style("stroke",I.params.stroke.invisible)}}else if(arguments[1]){E.node.selectAll(arguments[0]).style("stroke",I.params.stroke.invisible)}else{E.node.select(arguments[0]).style("stroke",I.params.stroke.invisible)}return I};I.straight2=function(){var a=H.wording;if(!arguments.length){E.node.selectAll(a.dot+D.marker.clazz).style("stroke-width",I.params.weight.natural)}else if(arguments[0]instanceof Array){for(var i=0;i<arguments[0].length;i++){d3.select(arguments[0][i]).style("stroke-width",I.params.weight.natural)}}else if(arguments[1]){E.node.selectAll(arguments[0]).style("stroke-width",I.params.weight.natural)}else{E.node.select(arguments[0]).style("stroke-width",I.params.weight.natural)}return I};I.highlight=function(){if(!arguments.length)return;if(arguments[0]instanceof Array){for(var i=0;i<arguments[0].length;i++){d3.select(arguments[0][i]).style("stroke",I.params.stroke.heavy).style("stroke-width",I.params.weight.heavy).attr("opacity",I.params.opacity.natural)}}else if(arguments[1]){E.node.selectAll(arguments[0]).style("stroke",I.params.stroke.heavy).style("stroke-width",I.params.weight.heavy).attr("opacity",I.params.opacity.natural)}else{E.node.select(arguments[0]).style("stroke",I.params.stroke.heavy).style("stroke-width",I.params.weight.heavy).attr("opacity",I.params.opacity.natural)}return I};I.highlight2=function(){if(!arguments.length)return;if(arguments[0]instanceof Array){for(var i=0;i<arguments[0].length;i++){d3.select(arguments[0][i]).style("stroke-width",I.params.weight.heavy).attr("opacity",I.params.opacity.natural)}}else if(arguments[1]){E.node.selectAll(arguments[0]).style("stroke-width",I.params.weight.heavy).attr("opacity",I.params.opacity.natural)}else{E.node.select(arguments[0]).style("stroke-width",I.params.weight.heavy).attr("opacity",I.params.opacity.natural)}return I};I.focus=function(){if(!arguments.length)return;if(arguments[0]instanceof Array){for(var i=0;i<arguments[0].length;i++){d3.select(arguments[0][i]).style("stroke",I.params.stroke.natural).style("stroke-width",I.params.weight.natural)}}else if(arguments[1]){E.node.selectAll(arguments[0]).style("stroke",I.params.stroke.natural).style("stroke-width",I.params.weight.natural)}else{E.node.select(arguments[0]).style("stroke",I.params.stroke.natural).style("stroke-width",I.params.weight.natural)}return I};function V(){var a;if(a=q.style('viz-radar-marker')){if(a['stroke']){D.marker.stroke=a['stroke']}}}return T}});sap.riv.module({qname:'sap.viz.modules.manifests.Radar',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.radar',version:'4.0.0'},{qname:'sap.viz.feeds.Radar',version:'4.0.0'}],function Setup(M,C,f){var m={id:"sap.viz.modules.radar",type:C.Module.Type.Chart,name:"radar",description:"Radar module properties",properties:{drawingEffect:{name:'drawingEffect',supportedValueType:'List',supportedValues:['normal','glossy'],defaultValue:'normal',description:'Set drawing effect of radar.',isExported:true},polarGrid:{name:"polarGrid",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set polar gridline visibility switch."},color:{name:"color",supportedValueType:"String",defaultValue:"#d8d8d8",description:"Set polar gridline color."}},description:"Settings for Polar gridline customizations."},valueAxis:{name:"valueAxis",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:true,description:"Set value axis visibility switch."},title:{name:"title",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set value axis title visibility switch."},text:{name:"text",supportedValueType:"String",defaultValue:"Value",description:"Set value axis title text."},},description:"Settings for value axis title."}},description:"Settings for value axis at side bar."},polarAxis:{name:"polarAxis",supportedValueType:"Object",supportedValues:{title:{name:"title",description:"Settings for polar axis title.",supportedValueType:"Object",supportedValues:{visible:{name:"visible",supportedValueType:"Boolean",defaultValue:false,description:"Set category axis visibility switch."},text:{name:"text",supportedValueType:"String",defaultValue:"Categories",description:"Set category axis text."}}}},description:"Settings for polar axes customizations."},colorPalette:{name:"colorPalette",defaultValue:C.SAPColor,description:"Set marker color customizations."},shapePalette:{name:"shapePalette",supportedValueType:"StringArray",defaultValue:["circle","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],supportedValues:["circle","diamond","triangle-up","triangle-down","triangle-left","triangle-right","cross","intersection"],description:'Set marker shape customizations.'},line:{name:"line",description:"Settings for line customizations.",supportedValueType:"Object",supportedValues:{width:{name:'width',supportedValueType:'PositiveInt',defaultValue:2,description:"Line weight settings. Range is [1, 7]"}}},surface:{name:"surface",supportedValueType:"Object",supportedValues:{fill:{name:'fill',supportedValueType:'Object',supportedValues:{visible:{name:'visible',supportedValueType:'Boolean',defaultValue:true,description:'Set enable/disable fill effect for polar area.'},transparency:{name:'transparency',supportedValueType:'Double',defaultValue:0.3,description:'Set alpha value for polar area fill color.'},}}},description:"Settings for Surface customizations."},marker:{name:"marker",supportedValueType:"Object",supportedValues:{size:{name:"size",supportedValueType:"PositiveInt",defaultValue:6,min:4,max:32,description:"Set marker size customization."}},description:"Settings for marker/data point graphics."},tooltip:{name:"tooltip",supportedValueType:"Object",supportedValues:{enabled:{name:"enabled",supportedValueType:"Boolean",supportedValues:[true,false],defaultValue:true,description:"Set tooltip enablement."}},description:"Settings for tooltip customization."},},events:{selectData:C.Module.Event.SelectData.desc,deselectData:C.Module.Event.DeSelectData.desc,showTooltip:C.Module.Event.TooltipShow.desc,hideTooltip:C.Module.Event.TooltipHide.desc},feeds:{id:"radar"},css:{".viz-plot-background":{description:"Define style for the plot background.",value:{fill:"#ffffff",}},".viz-radar-marker":{description:'Define style for marker in radar.',value:{stroke:"transparent",},},".viz-axis-title":{description:"Font style for polar axis title.",value:{fill:"#333333","font-family":"'Open Sans', Arial, Helvetica, sans-serif","font-size":"14px","font-weight":"bold"}},".viz-polar-axis-labels":{description:"Font styles for polar axis labels.",value:{"font-family":"'Open Sans', Arial, Helvetica, sans-serif","fill":"#646464","font-size":"11px","font-weight":"bold"}}},configure:null,fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiRadarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Radar',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Tooltip',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Background',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_radar',name:'IDS_MULTIRADARCHART',base:'riv/base/multiple/xy',modules:{legend:{data:{aa:[3]}},tooltip:{id:"sap.viz.modules.tooltip",configure:{properties:{chartType:"radar",orientation:"left"}}},main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousemove','touchstart']}}}},configure:{properties:{'mergeDataRange':['primary']}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{id:'sap.viz.modules.radar',configure:{description:'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:"plotArea",properties:{multichart:true}}},background:{configure:{propertyCategory:'background',properties:{visible:false,}}},}}}}},feeds:{multiplier:{acceptMND:0,max:2},regionShape:{max:0}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'primaryDataRange',sourceModule:'main.plot.plot',source:'primaryDataRange'},{targetModule:'main.plot.plot',target:'primaryDataRange',sourceModule:'main',source:'primaryDataRange'},{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot.plot",source:"colorPalette"},{targetModule:'legend',target:'shapes',sourceModule:'main.plot.plot',source:'shapes'}],events:[{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main',type:'initialized.interaction'},{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main',type:'hideTooltip'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.xy.BaseHorizontalChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Title',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Legend',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Tooltip',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Background',version:'4.0.0'}],function Setup(M){var c={id:'riv/basehorizontalchart',name:'IDS_BASEHORIZONTALCHART','abstract':true,modules:{title:{id:'sap.viz.modules.title',configure:{propertyCategory:'title'}},legend:{id:'sap.viz.modules.legend',data:{aa:[2]},configure:{propertyCategory:'legend'}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'bar',orientation:'left'}}},main:{id:'sap.viz.modules.xycontainer',modules:{xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart.',propertyCategory:'xAxis',properties:{type:'value',position:'bottom'}}},yAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart.',propertyCategory:'yAxis',properties:{type:'category',position:'left',gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background',properties:{direction:'horizontal'}}}}}},dependencies:{attributes:[{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.modules.horizontalboxplot',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'}],function Setup(T,a,M,C,S,N,t){var b=function(c){var w=null,e=[],f=[],s=[],l=[],r=[],g=[],h=[],o=[],p=[],q=null;var u={'sap.viz.modules.horizontalboxplot.dimension':{'key':'sap.viz.modules.horizontalboxplot.dimension','values':null}};var v=undefined,z=undefined,A=d3.scale.ordinal(),B=d3.scale.linear(),D=d3.scale.ordinal(),E,F,G,H=null,I=true,J={min:0,max:0},K=null,L='normal';var O={},P=new a('showTooltip','hideTooltip','initialized');var Q={width:'1',color:'#000000'};var R={width:'0',midLineColor:'#000000'};var U=[],V=[],W=[],X=[],Y=[],Z=[],$=[];var a1=function(){var d=[];for(var i=0;i<s.length;i++){d.push(i)}A.domain(d).rangeBands([0,z]);D.domain(f).rangeBands([0,z]);B.domain([J.min,J.max]).range([0,v]).nice();S.perfect(B)};i1.dimensionData=function(_){if(!arguments.length){return u}u=_;return i1};function b1(d){if(T.isExist(d)){length=d.length;var j=false;for(var i=0;i<length;i++){if(d[i].length>0){if(!j){J=c1(d[i]);j=true}else{var k=c1(d[i]);if(k){if(k.min<J.min){J.min=k.min}if(k.max>J.max){J.max=k.max}}}}}}}function c1(d){var m={min:0,max:0};if(T.isExist(d)){d.sort(function(i,j){return i.val-j.val});m={min:d[0].val,max:d[d.length-1].val}}return m}function d1(){U=[];V=[];W=[];X=[];Y=[];Z=[];$=[]}function e1(){e=[];f=[];s=[];l=[];r=[];g=[];h=[]}function f1(n){return(n&1)==0}function g1(d,i,j){var n=j-i+1;if(n<=0)return-1;var k;var m=d[i+Math.floor((n+1)/2)-1].ctx;if(f1(n)){k=(d[i+Math.floor((n+1)/2)-1].val+d[i+Math.floor((n+1)/2)].val)/2}else{k=d[i+Math.floor((n+1)/2)-1].val}return{'ctx':m,'val':k}}function h1(d){if(d&&d.length>0){var n=d.length,m={'Maximum:':null,'3rd Quartile:':null,'Median:':null,'1st Quartile:':null,'Minimum:':null};midLine=g1(d,0,n-1);m['Median:']=midLine;var x=d[Math.floor(n/2)];d[Math.floor(n/2)]=midLine;var y=g1(d,0,Math.floor(n/2));d[Math.floor(n/2)]=x;x=d[Math.floor((n-1)/2)];d[Math.floor((n-1)/2)]=midLine;var _=g1(d,Math.floor((n-1)/2),n-1);d[Math.floor((n-1)/2)]=x;m['3rd Quartile:']=_;m['1st Quartile:']=y;var t1=_.val-y.val;var u1=y.val-1.5*t1;var v1=_.val+1.5*t1;var i=0;while(d[i].val<u1)i++;lowWhisker=d[i];m['Minimum:']=lowWhisker;if(lowWhisker){if(y){if(y.val!=lowWhisker.val){X.push({'pair':[y,lowWhisker],'ctx':[y.ctx,lowWhisker.ctx],'val':[y.val,lowWhisker.val]})}}}for(var k=0;k<i;k++)$.push(d[k]);var j=n-1;while(d[j].val>v1)j--;highWhisker=d[j];m['Maximum:']=highWhisker;for(var k=0;k<n-j-1;k++)$.push(d[j+1+k]);if($.length>0)m['outLiers(s)']=$.length;if(highWhisker){if(_){if(_.val!=highWhisker.val){Y.push({'pair':[highWhisker,_],'ctx':[highWhisker.ctx,_.ctx],'val':[highWhisker.val,_.val]})}}}if(y&&_&&midLine){if(y.val==_.val){Z.push({'pair':[y,y],'midLine':null,'ctx':[y.ctx],'val':[y.val]})}else if(midLine.val==_.val||midLine.val==y.val){Z.push({'pair':[_,y],'midLine':null,'ctx':[_.ctx,y.ctx],'val':[_.val,y.val]})}else{Z.push({'pair':[_,midLine],'midLine':midLine,'ctx':[_.ctx],'val':[_.val]});Z.push({'pair':[midLine,y],'midLine':midLine,'ctx':[y.ctx],'val':[y.val]})}}h.push(m)}}function i1(i){i.each(function(){boxNumber=1,boxGroupNumber=s.length,G=8*(A.rangeBand())/(9*boxNumber+7);var j=w=d3.select(this);j.selectAll('g.box').remove();if(E==null){E=j.append('rect').attr('width',v).attr('height',A.rangeBand()-G/2).style('visibility','hidden').attr('fill','rgba(133,133,133, 0.2)')}else{E.attr('width',v).attr('height',A.rangeBand()-G/2).style('visibility','hidden')}var k=j.selectAll('g.box').data(s);k.enter().append('g');k.attr('class','box').each(function(m,n){if(m.length==0){h.push({});return}m=m.sort(function(d,x){return d.val-x.val});var _=m.length,t1=m[0],u1=m[_-1];h1(m);var v1=d3.select(this).selectAll('circle.outliers').data($);v1.enter().append('circle');v1.attr('cy',function(d){var y=A(n)+G;return y}).attr('cx',function(d,y){var x=B(d.val);return x}).attr('r','2').attr('stroke',K.register({drawingEffect:'normal',fillColor:Q.color})).attr('stroke-width',Q.width).attr('fill','none').attr('class','datapoint outliers');v1.exit().remove();var w1=d3.select(this).selectAll('rect.quartile').data(Z);w1.enter().append('rect');w1.attr('y',function(d){var y=A(n)+G/2;return y}).attr('x',function(d,y){var x=B(d.pair[1].val);return x}).attr('height',G).attr('width',function(d,x){var v=0;var y=d.pair[0].val-d.pair[1].val;if(y==0){v=1}else{v=B(d.pair[0].val)-B(d.pair[1].val)}return v}).attr('shape-rendering','crispEdges').attr('fill',function(d){var x={drawingEffect:L,fillColor:p[n%p.length],direction:'vertical'};return K.register(x)}).attr('stroke-width',R.width).attr('class','datapoint quartile');if(Z.length==2){var x1=A(n)+G/2;var y1=x1+G;var z1=midLineXEnd=B(Z[0].midLine.val);var A1=d3.select(this);A1.append('line').attr('x1',z1).attr('y1',x1).attr('x2',midLineXEnd).attr('y2',y1).attr('stroke','#ffffff').attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','midline')}w1.exit().remove();var B1=0,C1=0,D1=0,E1=0;var F1=0,G1=0,H1=0,I1=0;var J1=d3.select(this).selectAll('rect.rectlowwhisker').data(X);J1.enter().append('rect');J1.attr('y',function(d){var y=A(n)+G/2;G1=I1=y+G/2;C1=y;E1=y+G;return y}).attr('x',function(d){var x=B(d.pair[1].val);F1=x;B1=D1=x;return x}).attr('height',G).attr('width',function(x){var v=B(x.pair[0].val)-B(x.pair[1].val);H1=B(x.pair[1].val)+v;var A1=d3.select(this.parentNode);A1.append('line').attr('x1',B1).attr('y1',C1).attr('x2',D1).attr('y2',E1).attr('stroke',function(d){var y={drawingEffect:'normal',fillColor:p[n%p.length]};return K.register(y)}).attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','lineverticallowwhisker');var A1=d3.select(this.parentNode);A1.append('line').attr('x1',F1).attr('y1',G1).attr('x2',H1).attr('y2',I1).attr('stroke',K.register({drawingEffect:'normal',fillColor:'#000000'})).attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','linehorizontallowwhisker');return v}).attr('shape-rendering','crispEdges').attr('fill-opacity','0').attr('stroke-width','0').attr('class','datapoint rectlowwhisker');J1.exit().remove();var B1=0,C1=0,D1=0,E1=0;var F1=0,G1=0,H1=0,I1=0;var J1=d3.select(this).selectAll('rect.recthighwhisker').data(Y);J1.enter().append('rect');J1.attr('y',function(d){var y=A(n)+G/2;G1=I1=y+G/2;C1=y;E1=y+G;return y}).attr('x',function(d,y){var x=B(d.pair[1].val);F1=x;B1=D1=B(d.pair[0].val);return x}).attr('height',G).attr('width',function(x,y){var v=B(x.pair[0].val)-B(x.pair[1].val);H1=B(x.pair[1].val)+v;var A1=d3.select(this.parentNode);A1.append('line').attr('x1',B1).attr('y1',C1).attr('x2',D1).attr('y2',E1).attr('stroke',function(d){var K1={drawingEffect:'normal',fillColor:p[n%p.length]};return K.register(K1)}).attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','lineverticalhighwhisker');var A1=d3.select(this.parentNode);A1.append('line').attr('x1',F1).attr('y1',G1).attr('x2',H1).attr('y2',I1).attr('stroke',K.register({drawingEffect:'normal',fillColor:'#000000'})).attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','linehorizontalhighwhisker');return v}).attr('shape-rendering','crispEdges').attr('fill-opacity','0').attr('stroke-width','0').attr('class','datapoint recthighwhisker');J1.exit().remove();d1();P.initialized()});k.exit().remove()});return i1};i1.width=function(d){if(!arguments.length){return v}v=d;if(T.isExist(v)&&T.isExist(z)&&T.isExist(s)){a1()}return i1};i1.height=function(d){if(!arguments.length){return z}z=d;if(T.isExist(v)&&T.isExist(z)&&T.isExist(s)){a1()}return i1};function j1(d){var j={'body':[],'footer':[]},k=0;if(r){var m={'name':null,'val':[]};k=d%r.length;m.name=r[k].name;if(r[k].label!=null&&r[k].shape!=null&&p[k]!=null){var n={'shape':null,'color':null,'label':null,'value':null};n.shape=r[k].shape;n.color=p[k];n.label=r[k].label;m.val.push(n)}if(h){if(h[d]){for(var i in h[d]){var n={'shape':null,'color':null,'label':null,'value':null};n.label=i;if(h[d][i]){if(i=='outLiers(s)'){n.value=h[d][i]}else{n.value=h[d][i].val}}m.val.push(n)}}}j.body.push(m)}if(g){k=Math.floor(d/r.length);for(var i=0;i<g.length;i++){if(g[i].rows.length>0){var x={'label':null,'value':null};x.label=g[i].col.val;x.value=g[i].rows[k].val;j.footer.push(x)}}}return j}function k1(){if(u){for(var i in u){g=u[i].values}}if(l){var d=l.values;if(d.length>1){if(d[0].type=='MND'){for(var j=0;j<d[0].rows.length;j++){for(var m=0;m<d[1].rows.length;m++){var x={'name':null,'shape':null,'color':null,'label':null};x.name=d[0].rows[j].val;var y='';for(var n=1;n<d.length;n++){var _=' / ';if(n==d.length-1)_='';y+=d[n].rows[m].val+_}x.label=y;r.push(x)}}}else if(d[d.length-1].type=='MND'){for(var m=0;m<d[0].rows.length;m++){var y='';for(var n=0;n<d.length-1;n++){var _=' / ';if(n==d.length-2)_='';y+=d[n].rows[m].val+_}for(var j=0;j<d[d.length-1].rows.length;j++){var x={'name':null,'shape':null,'color':null,'label':null};x.label=y;x.name=d[d.length-1].rows[j].val;r.push(x)}}}}else{for(var m=0;m<d[0].rows.length;m++){var x={'name':null,'shape':null,'color':null,'label':null};x.name=d[0].rows[m].val;r.push(x)}}}for(var k=0;k<r.length;k++){r[k].shape='squareWithRadius'}}function l1(d,i,k){if(d){var m=d.getAttribute('class');if(m.indexOf('recthighwhisker')==-1&&m.indexOf('rectlowwhisker')==-1&&m.indexOf('linehorizontalhighwhisker')==-1&&m.indexOf('lineverticalhighwhisker')==-1&&m.indexOf('linehorizontallowwhisker')==-1&&m.indexOf('lineverticallowwhisker')==-1){d.setAttribute(i,k)}else if(m.indexOf('recthighwhisker')!=-1){var n=d.parentNode.querySelectorAll('line');if(n){for(var j=0,x=n.length;j<x;j++){var y=n[j].getAttribute('class');if(y.indexOf('linehorizontalhighwhisker')!=-1||y.indexOf('lineverticalhighwhisker')!=-1){n[j].setAttribute(i,k)}}}}else if(m.indexOf('rectlowwhisker')!=-1){var n=d.parentNode.querySelectorAll('line');if(n){for(var j=0,x=n.length;j<x;j++){var y=n[j].getAttribute('class');if(y.indexOf('linehorizontallowwhisker')!=-1||y.indexOf('lineverticallowwhisker')!=-1){n[j].setAttribute(i,k)}}}}}}i1.parent=function(){return w};i1.highlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){var k=d[i];l1(k,'opacity',1)}}else{l1(d,'opacity',1)}};i1.unhighlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){var k=d[i];l1(k,'opacity',0.2)}}else{l1(d,'opacity',0.2)}};i1.clear=function(d){if(d==null){w.selectAll('.datapoint').attr('opacity',1);w.selectAll('.lineverticallowwhisker').attr('opacity',1);w.selectAll('.lineverticalhighwhisker').attr('opacity',1);w.selectAll('.linehorizontallowwhisker').attr('opacity',1);w.selectAll('.linehorizontalhighwhisker').attr('opacity',1)}else{w.selectAll('.datapoint').attr('opacity',0.2);w.selectAll('.lineverticallowwhisker').attr('opacity',0.2);w.selectAll('.lineverticalhighwhisker').attr('opacity',0.2);w.selectAll('.linehorizontallowwhisker').attr('opacity',0.2);w.selectAll('.linehorizontalhighwhisker').attr('opacity',0.2)}w.selectAll('.recthighwhisker').attr('opacity',0);w.selectAll('.rectlowwhisker').attr('opacity',0)};i1.hoverOnPoint=function(d){var x=d.x,y=d.y;var i=-1;while(i<s.length){if(Math.abs(y-A.rangeBand()*i-0.5*A.rangeBand())<=0.5*A.rangeBand()){break}i++}if(i>(s.length-1)||i<0){E.style('visibility','hidden');return}E.attr('y',A.rangeBand()*i+G/4).style('visibility','visible');if(H!==i){if(I){H=i;var j=w[0][0].getTransformToElement(w[0][0].ownerSVGElement);var k=j.f;var m=j1(i);m.point={x:d3.event.layerX,y:A.rangeBand()*i+0.5*A.rangeBand()+k};m.plotArea={x:j.e,y:j.f,width:v,height:z};P.showTooltip(t.formatTooltipData(m))}}};i1.blurOut=function(){E.style('visibility','hidden');H=null;if(I){P.hideTooltip()}};function m1(d,i,j,k,m){if(d&&i<=j&&j<d.length){var n=subEnd=pos=i;while(pos<=j){while(((pos+1)<=j)&&(d[pos+1].val==d[pos].val)){subEnd++;pos++}k.push({'val':d[n],'parentGroupIndex':m,'start':n,'end':subEnd});pos++;n=subEnd=pos}}}function n1(d){var j=[];if(d){var m=e.length;var k=m>0?e[m-1].val:null;if(k){for(var i=0,n=k.length;i<n;i++){var x=k[i];var y=x.start;var _=x.end;m1(d,y,_,j,i)}}else{m1(d,0,d.length-1,j,null)}}return j}function o1(d){if(d){var j=d.getAnalysisAxisDataByIdx(0);l=d.getAnalysisAxisDataByIdx(1);if(j){var k=j.values.length;if(k==1){e.push({'col':j.values[0].col.val,'val':[]})}else{for(var i=0;i<k-1;i++){var m=j.values[i].rows;e.push({'col':j.values[i].col.val,'val':n1(m)})}}}}}function p1(d,i){var j=e.length,n=0,k=0,m=e[j-1].val;while(m[k].start!=d){k++}while(m[k].end!=i){n++;k++}n++;return n}function q1(){if(e){var d=e.length,n=null;n=e[d-1].val;if(n.length==0){f.push(0);f.push(1)}else{for(var i=0,x=n.length;i<x;i++){f.push(i)}}if(n.length==0){u['sap.viz.modules.horizontalboxplot.dimension'].values=[{'col':{'val':e[d-1].col},'rows':[]}]}else{var y=[];for(var j=0;j<d;j++){var _={'col':{'val':''},'rows':[]};_.col.val=e[j].col;var t1=e[j].val;for(var k=0,u1=t1.length;k<u1;k++){var v1=t1[k].start,w1=t1[k].end,x1=p1(v1,w1);for(var m=0;m<x1;m++){_.rows.push({'val':(t1[k].val.val==null)?defaultString:t1[k].val.val})}}y.push(_)}u['sap.viz.modules.horizontalboxplot.dimension'].values=y}}}function r1(d){p=[];if(o.length>0){for(var i=0;i<d;++i){p.push(o[i%o.length])}}}function s1(){I=O.tooltip.enabled;o=O.colorPalette;L=O.drawingEffect}i1.data=function(d){if(!arguments.length){return q}e1();s1();q=d;var k=M(q);o1(q);dataMG1=k["MG1"];var n=dataMG1.length;var x=e[e.length-1].val;if(x.length!=0){for(var i=0,y=x.length;i<y;i++){var _=x[i].start,t1=x[i].end;for(var j=0;j<n;j++){var u1=[],v1=_,w1=t1;for(;v1<=w1;v1++){if(!N.isNoValue(dataMG1[j][v1].val))u1.push(dataMG1[j][v1])}s.push(u1)}}}else{for(var j=0;j<n;j++){var u1=[];for(var m=0;m<dataMG1[j].length;m++){if(!N.isNoValue(dataMG1[j][m].val)){u1.push(dataMG1[j][m])}}s.push(u1)}}b1(s);q1();if(T.isExist(v)&&T.isExist(z)){a1()}k1();r1(r.length);return i1};i1.primaryAxisTitle=function(_){if(!arguments.length){var d=q.getMeasureValuesGroupDataByIdx(0),j=[];if(d){for(var i=0,k=d.values.length;i<k;i++){j.push(d.values[i].col)}}return j.join('/')}return this};i1.secondAxisTitle=function(_){if(!arguments.length){var d=q.getMeasureValuesGroupDataByIdx(1),j=[];if(d){for(var i=0,k=d.values.length;i<k;i++){j.push(d.values[i].col)}}return j.join('/')}return this};i1.properties=function(d){if(!arguments.length){return O}O=c.props(d);s1();r1(r.length);return i1};i1.categoryScale=function(d){if(!arguments.length){return D}D=d;return i1};i1.primaryScale=function(d){if(!arguments.length){return B}B=d;return i1};i1.colorPalette=function(d){if(!arguments.length){return o}o=d;return i1};i1.dispatch=function(_){if(!arguments.length)return P;P=_;return this};i1.effectManager=function(_){if(!arguments.length){return K}K=_;return i1};O=c.props(null);return i1};return b});sap.riv.module({qname:'sap.viz.modules.manifests.xy.HorizontalBoxplot',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.modules.horizontalboxplot',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Base',version:'4.0.0'}],function Setup(M,f){var m={'id':'sap.viz.modules.horizontalboxplot','name':'horizontal boxplot',base:"sap.viz.modules.xy.base",'properties':{'secondaryValuesColorPalette':null,'tooltip':{'name':'tooltip','supportedValueType':'Object','supportedValues':{'enabled':{'name':'enabled','supportedValueType':'Bool','defaultValue':true,'description':'Set enabled/disabled tooltip.'}},'isExported':false,'description':'Settings for tooltip related properties.'}},'feeds':{configure:{secondaryValues:null,axisLabels:{acceptMND:-1,min:1,max:1}}},fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.xy.HorizontalBoxplotChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.HorizontalBoxplot',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseHorizontalChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'}],function Setup(M){var c={id:'viz/horizontal_boxplot',name:'IDS_HORIZONTALBOXPLOTCHART',base:'riv/basehorizontalchart',modules:{tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'horizontalboxplot',orientation:'left'}}},main:{modules:{yAxis:{id:'sap.viz.modules.axis',configure:{properties:{isIndependentMode:true}}},plot:{id:'sap.viz.modules.horizontalboxplot',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}},controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction'}}}}},dependencies:{attributes:[{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.xAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'main.yAxis',target:'independentData',sourceModule:'main.plot',source:'dimensionData'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.BaseVerticalChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Title',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Legend',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Tooltip',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Background',version:'4.0.0'}],function Setup(M){var c={id:'riv/baseverticalchart',name:'IDS_BASEVERTICALCHART','abstract':true,modules:{title:{id:'sap.viz.modules.title',configure:{propertyCategory:'title'}},legend:{id:'sap.viz.modules.legend',data:{aa:[2]},configure:{propertyCategory:'legend'}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'verticalbar',orientation:'left'}}},main:{id:'sap.viz.modules.xycontainer',modules:{yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart.',propertyCategory:'yAxis',properties:{type:'value',position:'left'}}},xAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart.',propertyCategory:'xAxis',properties:{type:'category',position:'bottom',gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background',properties:{direction:'vertical'}}}}}},dependencies:{attributes:[{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.modules.verticalboxplot',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'}],function Setup(T,a,M,C,S,N,l,t){var b=function(c){var w=null,e=[],f=[],s=[],g=[],r=[],h=[],o=[],p=[],q=[],u=null;var v={'sap.viz.modules.verticalboxplot.dimension':{'key':'sap.viz.modules.verticalboxplot.dimension','values':null}};var z=undefined,A=undefined,B=d3.scale.ordinal(),D=d3.scale.linear(),E=d3.scale.ordinal(),F,G,H=null,I=true,J={min:0,max:0},K=null,L='normal',O=l.get('IDS_ISNOVALUE');var P={},Q=new a('showTooltip','hideTooltip','initialized');var R={width:'1',color:'#000000'};var U={width:'0',midLineColor:'#000000'};var V=[],W=[],X=[],Y=[],Z=[],$=[],a1=[];var b1=function(){var d=[];for(var i=0;i<s.length;i++){d.push(i)}B.domain(d).rangeBands([0,z]);E.domain(f).rangeBands([0,z]);D.domain([J.min,J.max]).range([A,0]).nice();S.perfect(D)};j1.dimensionData=function(_){if(!arguments.length){return v}v=_;return j1};function c1(d){if(T.isExist(d)){length=d.length;var j=false;for(var i=0;i<length;i++){if(d[i].length>0){if(!j){J=d1(d[i]);j=true}else{var k=d1(d[i]);if(k){if(k.min<J.min){J.min=k.min}if(k.max>J.max){J.max=k.max}}}}}}}function d1(d){var m={min:0,max:0};if(T.isExist(d)){d.sort(function(i,j){return i.val-j.val});m={min:d[0].val,max:d[d.length-1].val}}return m}function e1(){V=[];W=[];X=[];Y=[];Z=[];$=[];a1=[]}function f1(){e=[];f=[];s=[];g=[];r=[];h=[];o=[]}function g1(n){return(n&1)==0}function h1(d,i,j){var n=j-i+1;if(n<=0)return-1;var k;var m=d[i+Math.floor((n+1)/2)-1].ctx;if(g1(n)){k=(d[i+Math.floor((n+1)/2)-1].val+d[i+Math.floor((n+1)/2)].val)/2}else{k=d[i+Math.floor((n+1)/2)-1].val}return{'ctx':m,'val':k}}function i1(d){if(d&&d.length>0){var n=d.length,m={'Maximum:':null,'3rd Quartile:':null,'Median:':null,'1st Quartile:':null,'Minimum:':null};midLine=h1(d,0,n-1);m['Median:']=midLine;var x=d[Math.floor(n/2)];d[Math.floor(n/2)]=midLine;var y=h1(d,0,Math.floor(n/2));d[Math.floor(n/2)]=x;x=d[Math.floor((n-1)/2)];d[Math.floor((n-1)/2)]=midLine;var _=h1(d,Math.floor((n-1)/2),n-1);d[Math.floor((n-1)/2)]=x;m['3rd Quartile:']=_;m['1st Quartile:']=y;var u1=_.val-y.val;var v1=y.val-1.5*u1;var w1=_.val+1.5*u1;var i=0;while(d[i].val<v1)i++;lowWhisker=d[i];m['Minimum:']=lowWhisker;if(lowWhisker){if(y){if(y.val!=lowWhisker.val){Y.push({'pair':[y,lowWhisker],'ctx':[y.ctx,lowWhisker.ctx],'val':[y.val,lowWhisker.val]})}}}for(var k=0;k<i;k++)a1.push(d[k]);var j=n-1;while(d[j].val>w1)j--;highWhisker=d[j];m['Maximum:']=highWhisker;for(var k=0;k<n-j-1;k++)a1.push(d[j+1+k]);if(a1.length>0)m['outLiers(s)']=a1.length;if(highWhisker){if(_){if(_.val!=highWhisker.val){Z.push({'pair':[highWhisker,_],'ctx':[highWhisker.ctx,_.ctx],'val':[highWhisker.val,_.val]})}}}if(y&&_&&midLine){if(y.val==_.val){$.push({'pair':[y,y],'midLine':null,'ctx':[y.ctx],'val':[y.val]})}else if(midLine.val==_.val||midLine.val==y.val){$.push({'pair':[_,y],'midLine':null,'ctx':[_.ctx,y.ctx],'val':[_.val,y.val]})}else{$.push({'pair':[_,midLine],'midLine':midLine,'ctx':[_.ctx],'val':[_.val]});$.push({'pair':[midLine,y],'midLine':midLine,'ctx':[y.ctx],'val':[y.val]})}}o.push(m)}}function j1(i){i.each(function(){boxNumber=1,boxGroupNumber=s.length,G=8*(B.rangeBand())/(9*boxNumber+7);var j=w=d3.select(this);j.selectAll('g.box').remove();if(F==null){F=j.append('rect').attr('width',B.rangeBand()-G/2).attr('height',A).style('visibility','hidden').attr('fill','rgba(133,133,133, 0.2)')}else{F.attr('width',B.rangeBand()-G/2).attr('height',A).style('visibility','hidden')}var k=j.selectAll('g.box').data(s);k.enter().append('g');k.attr('class','box').each(function(m,n){if(m.length==0){o.push({});return}m=m.sort(function(d,x){return d.val-x.val});var _=m.length,u1=m[0],v1=m[_-1];i1(m);var w1=d3.select(this).selectAll('circle.outliers').data(a1);w1.enter().append('circle');w1.attr('cx',function(d){var x=B(n)+G;return x}).attr('cy',function(d,x){var y=D(d.val);return y}).attr('r','2').attr('stroke',K.register({drawingEffect:'normal',fillColor:R.color})).attr('stroke-width',R.width).attr('fill','none').attr('class','datapoint outliers');w1.exit().remove();var x1=d3.select(this).selectAll('rect.quartile').data($);x1.enter().append('rect');x1.attr('x',function(d){var x=B(n)+G/2;return x}).attr('y',function(d,x){var y=D(d.pair[0].val);return y}).attr('width',G).attr('height',function(d,x){var A=0;var y=d.pair[1].val-d.pair[0].val;if(y==0){A=1}else{A=D(d.pair[1].val)-D(d.pair[0].val)}return A}).attr('shape-rendering','crispEdges').attr('fill',function(d){var x={drawingEffect:L,fillColor:q[n%q.length],direction:'horizontal'};return K.register(x)}).attr('stroke-width',U.width).attr('class','datapoint quartile');if($.length==2){var y1=B(n)+G/2;var z1=y1+G;var A1=midLineYEnd=D($[0].midLine.val);var B1=d3.select(this);B1.append('line').attr('x1',y1).attr('y1',A1).attr('x2',z1).attr('y2',midLineYEnd).attr('stroke','#ffffff').attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','midline')}x1.exit().remove();var C1=0,D1=0,E1=0,F1=0;var G1=0,H1=0,I1=0,J1=0;var K1=d3.select(this).selectAll('rect.rectlowwhisker').data(Y);K1.enter().append('rect');K1.attr('x',function(d){var x=B(n)+G/2;G1=x;I1=x+G;C1=E1=x+G/2;return x}).attr('y',function(d){var x=d.pair;var y=D(x[0].val);D1=y;H1=J1=D(x[1].val);return y}).attr('width',G).attr('height',function(x){var A=D(x.pair[1].val)-D(x.pair[0].val);F1=D(x.pair[1].val);var B1=d3.select(this.parentNode);B1.append('line').attr('x1',C1).attr('y1',D1).attr('x2',E1).attr('y2',F1).attr('stroke',K.register({drawingEffect:'normal',fillColor:'#000000'})).attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','lineverticallowwhisker');var B1=d3.select(this.parentNode);B1.append('line').attr('x1',G1).attr('y1',H1).attr('x2',I1).attr('y2',J1).attr('stroke',function(d){var y={drawingEffect:'normal',fillColor:q[n%q.length]};return K.register(y)}).attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','linehorizontallowwhisker');return A}).attr('shape-rendering','crispEdges').attr('fill-opacity','0').attr('stroke-width','0').attr('class','datapoint rectlowwhisker');K1.exit().remove();var C1=0,D1=0,E1=0,F1=0;var G1=0,H1=0,I1=0,J1=0;var K1=d3.select(this).selectAll('rect.recthighwhisker').data(Z);K1.enter().append('rect');K1.attr('x',function(d){var x=B(n)+G/2;G1=x;I1=x+G;C1=E1=x+G/2;return x}).attr('y',function(d,x){var L1=d.pair;var y=D(L1[0].val);D1=y;H1=J1=D(L1[0].val);return y}).attr('width',G).attr('height',function(X,x){var A=D(X.pair[1].val)-D(X.pair[0].val);F1=D1+A;var B1=d3.select(this.parentNode);B1.append('line').attr('x1',C1).attr('y1',D1).attr('x2',E1).attr('y2',F1).attr('stroke',K.register({drawingEffect:'normal',fillColor:'#000000'})).attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','lineverticalhighwhisker');var B1=d3.select(this.parentNode);B1.append('line').attr('x1',G1).attr('y1',H1).attr('x2',I1).attr('y2',J1).attr('stroke',function(d){var y={drawingEffect:'normal',fillColor:q[n%q.length]};return K.register(y)}).attr('stroke-width',1).attr('shape-rendering','crispEdges').attr('class','linehorizontalhighwhisker');return A}).attr('shape-rendering','crispEdges').attr('fill-opacity','0').attr('stroke-width','0').attr('class','datapoint recthighwhisker');K1.exit().remove();e1();Q.initialized()});k.exit().remove()});return j1};j1.width=function(d){if(!arguments.length){return z}z=d;if(T.isExist(z)&&T.isExist(A)&&T.isExist(s)){b1()}return j1};j1.height=function(d){if(!arguments.length){return A}A=d;if(T.isExist(z)&&T.isExist(A)&&T.isExist(s)){b1()}return j1};function k1(d){var j={'body':[],'footer':[]},k=0;if(r){var m={'name':null,'val':[]};k=d%r.length;m.name=r[k].name;if(r[k].label!=null&&r[k].shape!=null&&q[k]!=null){var n={'shape':null,'color':null,'label':null,'value':null};n.shape=r[k].shape;n.color=q[k];n.label=r[k].label;m.val.push(n)}if(o){if(o[d]){for(var i in o[d]){var n={'shape':null,'color':null,'label':null,'value':null};n.label=i;if(o[d][i]){if(i=='outLiers(s)'){n.value=o[d][i]}else{n.value=o[d][i].val}}m.val.push(n)}}}j.body.push(m)}if(h){k=Math.floor(d/r.length);for(var i=0;i<h.length;i++){if(h[i].rows.length>0){var x={'label':null,'value':null};x.label=h[i].col.val;x.value=h[i].rows[k].val;j.footer.push(x)}}}return j}function l1(){if(v){for(var i in v){h=v[i].values}}if(g){var d=g.values;if(d.length>1){if(d[0].type=='MND'){for(var j=0;j<d[0].rows.length;j++){for(var m=0;m<d[1].rows.length;m++){var x={'name':null,'shape':null,'color':null,'label':null};x.name=d[0].rows[j].val;var y='';for(var n=1;n<d.length;n++){var _=' / ';if(n==d.length-1)_='';y+=d[n].rows[m].val+_}x.label=y;r.push(x)}}}else if(d[d.length-1].type=='MND'){for(var m=0;m<d[0].rows.length;m++){var y='';for(var n=0;n<d.length-1;n++){var _=' / ';if(n==d.length-2)_='';y+=d[n].rows[m].val+_}for(var j=0;j<d[d.length-1].rows.length;j++){var x={'name':null,'shape':null,'color':null,'label':null};x.label=y;x.name=d[d.length-1].rows[j].val;r.push(x)}}}}else{for(var m=0;m<d[0].rows.length;m++){var x={'name':null,'shape':null,'color':null,'label':null};x.name=d[0].rows[m].val;r.push(x)}}}for(var k=0;k<r.length;k++){r[k].shape='squareWithRadius'}}function m1(d,i,k){if(d){var m=d.getAttribute('class');if(m.indexOf('recthighwhisker')==-1&&m.indexOf('rectlowwhisker')==-1&&m.indexOf('linehorizontalhighwhisker')==-1&&m.indexOf('lineverticalhighwhisker')==-1&&m.indexOf('linehorizontallowwhisker')==-1&&m.indexOf('lineverticallowwhisker')==-1){d.setAttribute(i,k)}else if(m.indexOf('recthighwhisker')!=-1){var n=d.parentNode.querySelectorAll('line');if(n){for(var j=0,x=n.length;j<x;j++){var y=n[j].getAttribute('class');if(y.indexOf('linehorizontalhighwhisker')!=-1||y.indexOf('lineverticalhighwhisker')!=-1){n[j].setAttribute(i,k)}}}}else if(m.indexOf('rectlowwhisker')!=-1){var n=d.parentNode.querySelectorAll('line');if(n){for(var j=0,x=n.length;j<x;j++){var y=n[j].getAttribute('class');if(y.indexOf('linehorizontallowwhisker')!=-1||y.indexOf('lineverticallowwhisker')!=-1){n[j].setAttribute(i,k)}}}}}}j1.parent=function(){return w};j1.highlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){var k=d[i];m1(k,'opacity',1)}}else{m1(d,'opacity',1)}};j1.unhighlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){var k=d[i];m1(k,'opacity',0.2)}}else{m1(d,'opacity',0.2)}};j1.clear=function(d){if(d==null){w.selectAll('.datapoint').attr('opacity',1);w.selectAll('.lineverticallowwhisker').attr('opacity',1);w.selectAll('.lineverticalhighwhisker').attr('opacity',1);w.selectAll('.linehorizontallowwhisker').attr('opacity',1);w.selectAll('.linehorizontalhighwhisker').attr('opacity',1)}else{w.selectAll('.datapoint').attr('opacity',0.2);w.selectAll('.lineverticallowwhisker').attr('opacity',0.2);w.selectAll('.lineverticalhighwhisker').attr('opacity',0.2);w.selectAll('.linehorizontallowwhisker').attr('opacity',0.2);w.selectAll('.linehorizontalhighwhisker').attr('opacity',0.2)}w.selectAll('.recthighwhisker').attr('opacity',0);w.selectAll('.rectlowwhisker').attr('opacity',0)};j1.hoverOnPoint=function(d){var x=d.x,y=d.y;var i=-1;while(i<s.length){if(Math.abs(x-B.rangeBand()*i-0.5*B.rangeBand())<=0.5*B.rangeBand()){break}i++}if(i>(s.length-1)||i<0){F.style('visibility','hidden');return}F.attr('x',B.rangeBand()*i+G/4).style('visibility','visible');if(H!==i){if(I){H=i;var j=w[0][0].getTransformToElement(w[0][0].ownerSVGElement);var k=j.e;var m=k1(i);m.point={x:B.rangeBand()*i+0.5*B.rangeBand()+k,y:d3.event.layerY};m.plotArea={x:j.e,y:j.f,width:z,height:A};Q.showTooltip(t.formatTooltipData(m))}}};j1.blurOut=function(){F.style('visibility','hidden');H=null;if(I){Q.hideTooltip()}};function n1(d,i,j,k,m){if(d&&i<=j&&j<d.length){var n=subEnd=pos=i;while(pos<=j){while(((pos+1)<=j)&&(d[pos+1].val==d[pos].val)){subEnd++;pos++}k.push({'val':d[n],'parentGroupIndex':m,'start':n,'end':subEnd});pos++;n=subEnd=pos}}}function o1(d){var j=[];if(d){var m=e.length;var k=m>0?e[m-1].val:null;if(k){for(var i=0,n=k.length;i<n;i++){var x=k[i];var y=x.start;var _=x.end;n1(d,y,_,j,i)}}else{n1(d,0,d.length-1,j,null)}}return j}function p1(d){if(d){var j=d.getAnalysisAxisDataByIdx(0);g=d.getAnalysisAxisDataByIdx(1);if(j){var k=j.values.length;if(k==1){e.push({'col':j.values[0].col.val,'val':[]})}else{for(var i=0;i<k-1;i++){var m=j.values[i].rows;e.push({'col':j.values[i].col.val,'val':o1(m)})}}}}}function q1(d,i){var j=e.length,n=0,k=0,m=e[j-1].val;while(m[k].start!=d){k++}while(m[k].end!=i){n++;k++}n++;return n}function r1(){if(e){var d=e.length,n=null;n=e[d-1].val;if(n.length==0){f.push(0);f.push(1)}else{for(var i=0,x=n.length;i<x;i++){f.push(i)}}if(n.length==0){v['sap.viz.modules.verticalboxplot.dimension'].values=[{'col':{'val':e[d-1].col},'rows':[]}]}else{var y=[];for(var j=0;j<d;j++){var _={'col':{'val':''},'rows':[]};_.col.val=e[j].col;var u1=e[j].val;for(var k=0,v1=u1.length;k<v1;k++){var w1=u1[k].start,x1=u1[k].end,y1=q1(w1,x1);for(var m=0;m<y1;m++){_.rows.push({'val':(u1[k].val.val==null)?O:u1[k].val.val})}}y.push(_)}v['sap.viz.modules.verticalboxplot.dimension'].values=y}}}function s1(d){q=[];if(p.length>0){for(var i=0;i<d;++i){q.push(p[i%p.length])}}}function t1(){I=P.tooltip.enabled;p=P.colorPalette;L=P.drawingEffect}j1.data=function(d){if(!arguments.length){return u}f1();t1();u=d;var k=M(u);p1(u);dataMG1=k["MG1"];var n=dataMG1.length;var x=e[e.length-1].val;if(x.length!=0){for(var i=0,y=x.length;i<y;i++){var _=x[i].start,u1=x[i].end;for(var j=0;j<n;j++){var v1=[],w1=_,x1=u1;for(;w1<=x1;w1++){if(!N.isNoValue(dataMG1[j][w1].val))v1.push(dataMG1[j][w1])}s.push(v1)}}}else{for(var j=0;j<n;j++){var v1=[];for(var m=0;m<dataMG1[j].length;m++){if(!N.isNoValue(dataMG1[j][m].val)){v1.push(dataMG1[j][m])}}s.push(v1)}}c1(s);r1();if(T.isExist(z)&&T.isExist(A)){b1()}l1();s1(r.length);return j1};j1.primaryAxisTitle=function(_){if(!arguments.length){var d=u.getMeasureValuesGroupDataByIdx(0),j=[];if(d){for(var i=0,k=d.values.length;i<k;i++){j.push(d.values[i].col)}}return j.join('/')}return this};j1.secondAxisTitle=function(_){if(!arguments.length){var d=u.getMeasureValuesGroupDataByIdx(1),j=[];if(d){for(var i=0,k=d.values.length;i<k;i++){j.push(d.values[i].col)}}return j.join('/')}return this};j1.properties=function(d){if(!arguments.length){return P}P=c.props(d);t1();s1(r.length);return j1};j1.categoryScale=function(d){if(!arguments.length){return E}E=d;return j1};j1.primaryScale=function(d){if(!arguments.length){return D}D=d;return j1};j1.colorPalette=function(d){if(!arguments.length){return p}p=d;return j1};j1.dispatch=function(_){if(!arguments.length)return Q;Q=_;return this};j1.effectManager=function(_){if(!arguments.length){return K}K=_;return this};P=c.props(null);return j1};return b});sap.riv.module({qname:'sap.viz.modules.manifests.xy.VerticalBoxplot',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.modules.verticalboxplot',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Base',version:'4.0.0'}],function Setup(M,f){var m={'id':'sap.viz.modules.verticalboxplot','name':'vertical boxplot',base:"sap.viz.modules.xy.base",'properties':{'secondaryValuesColorPalette':null,'tooltip':{'name':'tooltip','supportedValueType':'Object','supportedValues':{'enabled':{'name':'enabled','supportedValueType':'Bool','defaultValue':true,'description':'Set enabled/disabled tooltip.'}},'isExported':false,'description':'Settings for tooltip related properties.'}},'feeds':{configure:{secondaryValues:null,axisLabels:{acceptMND:-1,min:1,max:1}}},fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.xy.VerticalBoxplotChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.VerticalBoxplot',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseVerticalChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'}],function Setup(M){var c={id:'viz/boxplot',name:'IDS_VERTICALBOXPLOTCHART',base:'riv/baseverticalchart',modules:{tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'verticalboxplot',orientation:'left'}}},main:{modules:{xAxis:{id:'sap.viz.modules.axis',configure:{properties:{isIndependentMode:true}}},plot:{id:'sap.viz.modules.verticalboxplot',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}},controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction'}}}}},dependencies:{attributes:[{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.yAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'main.xAxis',target:'independentData',sourceModule:'main.plot',source:'dimensionData'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.modules.manifests.xy.Combination',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.combination',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Base',version:'4.0.0'}],function Setup(M,C,f){var m={base:"sap.viz.modules.xy.base",'id':'sap.viz.modules.combination','name':'combination','properties':{'tooltip':{'name':'tooltip','supportedValueType':'Object','supportedValues':{'enabled':{'name':'enabled','supportedValueType':'Bool','defaultValue':true,'description':'Set enabled/disabled tooltip.'}},'isExported':false,'description':'Settings for tooltip related properties.'},'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':true,'description':'Set enabled/disabled data loading animation of plot area.'}},'description':'Settings for animation of plot area.'},'bar':{'name':'bar','supportedValueType':'Object','supportedValues':{'isRoundCorner':{'name':'isRoundCorner','supportedValueType':'Boolean','defaultValue':false,'description':'Set enable/disable round corner of bar.'}},'description':'Settings for bar properties.'},'line':{'name':'line','supportedValueType':'Object','supportedValues':{'width':{'name':'width','supportedValueType':'PositiveInt','defaultValue':2,'description':'Set width of line, range[1,7]. When beyond the range, the line width is default size 2.'},'marker':{'name':'marker','description':'Set marker/data point graphics settings.','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Bool','defaultValue':false,'description':'Set to show marker or not.'},'shape':{'name':'shape','supportedValueType':'StringArray','supportedValues':['circle','diamond','triangle-up','triangle-down','triangle-left','triangle-right','cross','intersection'],'defaultValue':'circle','description':'Set marker shapes for chart.'},'size':{'name':'size','supportedValueType':'PositiveInt','defaultValue':"6",'min':'4','max':'32','description':'Set marker size of data point.'}}}},'description':'Settings for line properties.'}},fn:f,'feeds':{configure:{'secondaryValues':{max:0}}}};M.register(m)});sap.riv.module({qname:'sap.viz.modules.manifests.xy.HorizontalCombination',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.modules.horizontalcombination',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Combination',version:'4.0.0'}],function Setup(M,f){var m={base:"sap.viz.modules.combination",'id':'sap.viz.modules.horizontalcombination','name':'horizontalcombination',fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.modules.line',version:'4.0.0',exported:true},[{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.BoundingBox',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.util.DrawUtil',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'}],function Setup(a,M,T,S,C,B,N,l,D,b,c,R){return function(m){var e,f;var n=null,p;var r=R.newId();var t=null;var o;var q="#FFFFFF";var s="#cccccc";var u="#333333";var x=d3.scale.ordinal();var v;var y;var g;var z,A,E;var F=new a('showTooltip','hideTooltip','initialized');var G;var H;var I;var J=null;var K={data:[],scale:d3.scale.linear(),colorPalette:null,selectedMarkers:null,markers:[],bottomValue:null,topValue:null,highLines:[]};var L={data:[],scale:d3.scale.linear(),colorPalette:null,selectedMarkers:null,markers:[],bottomValue:null,topValue:null,highLines:[]};var O=[];var P='axis1';var Q='axis2';var U=false;var V=true;var W=0;var X;var Y=0.4;function Z(d){o=b();m1(d);return Z}Z.width=function(d){if(!arguments.length)return e;e=d;if(T.isExist(e)&&T.isExist(f)&&T.isExist(n)){c1()}return Z};Z.height=function(d){if(!arguments.length)return f;f=d;if(T.isExist(e)&&T.isExist(f)&&T.isExist(n)){c1()}return Z};Z.properties=function(_){if(!arguments.length)return p;p=m.props(_);if(p.marker.size<4||p.marker.size>32)p.marker.size=6;if(p.width<1||p.width>7)p.width=2;V=p.animation.dataLoading;p1();a1();return Z};Z.primaryAxisColor=function(){if(L.data&&L.data.length>0){return J.register({graphType:"line",fillColor:K.colorPalette[0]})}else{return null}};Z.secondAxisColor=function(){return J.register({graphType:"line",fillColor:L.colorPalette[0]})};Z.dispatch=function(_){if(!arguments.length)return F;F=_;return Z};Z.data=function(d){if(!arguments.length){return n}n=d;var h=M(n);K.data=h["MG1"];L.data=h["MG2"];G=h["hasMND"];H=h["MNDOnColor"];I=h["MNDInner"];t=b.dataTransform(h);if(T.isExist(e)&&T.isExist(f)&&T.isExist(n))c1();a1();return Z};Z.shapePalette=function(_){if(!arguments.length){return shapePalette}shapePalette=_;return this};Z.primaryAxisTitle=function(_){if(!arguments.length){var d=n.getMeasureValuesGroupDataByIdx(0),h=[];if(d){for(var i=0,j=d.values.length;i<j;i++){h.push(d.values[i].col)}}return h.join('/')}return this};Z.secondAxisTitle=function(_){if(!arguments.length){var d=n.getMeasureValuesGroupDataByIdx(1),h=[];if(d){for(var i=0,j=d.values.length;i<j;i++){h.push(d.values[i].col)}}return h.join('/')}return this};Z.effectManager=function(_){if(!arguments.length){return J}J=_;return Z};Z.getColorPalette=function(){if(O.length==0){a1()}return O};Z.shapePalette=function(){if(!arguments.length)return[p.marker.shape];return Z};Z.primaryScale=function(d){if(!arguments.length){return K.scale}K.scale=d;return Z};Z.secondaryScale=function(d){if(!arguments.length){return L.scale}L.scale=d;return Z};Z.categoryScale=function(d){if(!arguments.length){return x}x=d;return Z};Z.primaryDataRange=function(d){if(!arguments.length){return{min:K.scale.domain()[0],max:K.scale.domain()[1]}}K.topValue=d.max;K.bottomValue=d.min;if(T.isExist(e)&&T.isExist(f)){K.scale.domain([K.bottomValue,K.topValue]).range([f,0]).nice();S.perfect(K.scale)}return Z};Z.secondDataRange=function(d){if(!arguments.length){return{min:L.scale.domain()[0],max:L.scale.domain()[1]}}L.topValue=d.max;L.bottomValue=d.min;if(T.isExist(e)&&T.isExist(f)){L.scale.domain([L.bottomValue,L.topValue]).range([f,0]).nice();S.perfect(L.scale)}return Z};Z.parent=function(){return g};Z.size=function(w,h){if(arguments.length==0)return{width:Z.width(),height:Z.height()};Z.width(w).height(h);return Z};Z.clear=function(d){l1();if(d==null){n1()}else{o1()}};Z.highlight=function(d){var h;if(d instanceof Array){h=d}else{h=[];h.push(d)}for(var i=0;i<h.length;i++){var j=h[i];if(!g1(K,j))g1(L,j)}};Z.unhighlight=function(d){var h;if(d instanceof Array){h=d}else{h=[];h.push(d)}for(var i=0;i<h.length;i++){var j=h[i];if(!h1(K,j))h1(L,j)}};Z.hoverOnPoint=function(d){var h=d.x,i=d.y;if(h<0||h>e)return;var j=f1(h);if(y==j)return;var k=x(j)+x.rangeBand()/2;d1(y,"hidden",p.style.marker.stroke);d1(j,"visible",q);y=j;if(p.hoverline.visible){v.attr("x1",k).attr("x2",k);v.attr("visibility","visible")}else{v.attr("visibility","hidden")}if(p.tooltip.enabled){var w={};var _=g.node().getTransformToElement(g.node().ownerSVGElement);w.x=x(j)+x.rangeBand()/2+_.e;w.y=f/4+_.f;var q1=o.generateTooltipData(n,t,j,O,[p.marker.shape]);q1.point=w;q1.plotArea={x:_.e,y:_.f,width:e,height:f};F.showTooltip(b.formatTooltipData(q1))}};Z.blurOut=function(){v.attr("visibility","hidden");d1(y,"hidden",p.style.marker.stroke);y=null;if(p.tooltip.enabled){F.hideTooltip()}};p=m.props(null);return Z;function $(h){var i={min:null,max:null};if(!h.data||h.data.length==0)return;i.max=Number(d3.max(h.data,function(d){return d3.max(d,function(_){return _.val})}));i.min=Number(d3.min(h.data,function(d){return d3.min(d,function(_){return _.val})}));if(N.isNoValue(i.max))return null;if(i.min>=0){i.min=0;i.max+=i.max*5/f}else if(i.max<=0){i.max=0;i.min+=i.min*5/f}else{var j=(i.max-i.min)*5/f;i.min-=j;i.max+=j}return i}function a1(){O=[];if(L.data&&L.data.length>0)K.colorPalette=p.primaryValuesColorPalette;else K.colorPalette=p.colorPalette;L.colorPalette=p.secondaryValuesColorPalette;if(G&&H&&I){var d=n.getMeasureValuesGroupDataByIdx(0);var h=n.getMeasureValuesGroupDataByIdx(1);var k=0,w=0,_=0,q1=0;if(d&&d.values.length>0){k=d.values.length;q1=d.values[0].rows.length}if(h&&h.values.length>0){w=h.values.length;q1=h.values[0].rows.length}for(var i=0;i<q1;i++){for(var j=0;j<k;j++){O.push(K.colorPalette[i*k+j%K.colorPalette.length])}for(var j=0;j<w;j++){O.push(L.colorPalette[i*w+j%L.colorPalette.length])}}}else{for(var i=0;i<K.data.length;++i)O.push(K.colorPalette[i%K.colorPalette.length]);if(L.data&&L.data.length>0){for(var i=0;i<L.data.length;++i)O.push(L.colorPalette[i%L.colorPalette.length])}}}function b1(d){if(d.data&&d.data.length>0){if(d.topValue==null){var h=$(d);if(!h)d.scale.domain([0,0]).range([f,0]);else d.scale.domain([h.min,h.max]).range([f,0]).nice()}else d.scale.domain([d.bottomValue,d.topValue]).range([f,0]).nice();S.perfect(d.scale)}else{d.scale.domain([0,0]).range([0,0])}return d.scale};function c1(){var d=[];var h=0;if(K.data.length!=0){h=K.data[0].length}else{h=L.data[0].length}for(var i=0;i<h;i++){d.push(i)}x.domain(d).rangeBands([0,e]);b1(K);b1(L);if(K.data&&K.data.length>0&&L.data&&L.data.length>0){S.perfectDual(K.scale,L.scale)}};function d1(d,h,i){if(d==undefined||d==null)return;for(var j=0;j<K.data.length;++j){if(!K.selectedMarkers[j][d]){e1(j,d,i,K);if(!p.marker.visible){if(W>0)d3.select(K.markers[j][d]).attr("opacity",Y).attr("visibility",h);else d3.select(K.markers[j][d]).attr("opacity",1).attr("visibility",h)}}}if(!L.data)return;for(var j=0;j<L.data.length;++j){if(!L.selectedMarkers[j][d]){e1(j,d,i,L);if(!p.marker.visible){if(W>0)d3.select(L.markers[j][d]).attr("opacity",Y).attr("visibility",h);else d3.select(L.markers[j][d]).attr("opacity",1).attr("visibility",h)}}}};function e1(d,h,i,j){d3.select(j.markers[d][h]).attr("stroke",i)};function f1(d){var i=d/x.rangeBand();i=Math.floor(i);var h=0;if(K.data.length!=0){h=K.data[0].length}else{h=L.data[0].length}if(i>h-1)i=h-1;if(i<0)i=0;return i};function g1(d,h){var k=false,w,_;for(var i=0;i<d.markers.length&&!k;i++){var q1=d.markers[i];for(var j=0;j<q1.length&&!k;j++){if(q1[j]==h){k=true;w=i;_=j}}}if(!k){return false}if(d.selectedMarkers[w][_]){return true}e1(w,_,u,d);d3.select(d.markers[w][_]).attr("opacity",1).attr("visibility","visible");d.selectedMarkers[w][_]=true;if(_>0&&d.selectedMarkers[w][_-1])d.highLines[w][_-1].attr("visibility","visible");if(_<d.highLines[0].length&&d.selectedMarkers[w][_+1])d.highLines[w][_].attr("visibility","visible");++W}function h1(d,h){var k=y;var w=false,_;for(var i=0;i<d.markers.length&&!w;i++){var q1=d.markers[i];for(var j=0;j<q1.length&&!w;j++){if(q1[j]==h){w=true;_=i;k=j}}}if(!w){return false}if(!d.selectedMarkers[_][k]){return true}if(k==y){e1(_,k,q,d)}else{e1(_,k,p.style.marker.stroke,d)}d3.select(d.markers[_][k]).attr("opacity",Y);if(!p.marker.visible&&k!=y)d3.select(d.markers[_][k]).attr("visibility","hidden");d.selectedMarkers[_][k]=false;if(k>0&&d.selectedMarkers[_][k-1])d.highLines[_][k-1].attr("visibility","hidden");if(k<d.highLines[0].length&&d.selectedMarkers[_][k+1])d.highLines[_][k].attr("visibility","hidden");--W}function i1(d){var h={data:[],color:[]};for(var i=0;i<d.length;++i){var w=0;for(var j=0;j<d[i].length;++j){if(N.isNoValue(d[i][j].val)){if(j>w){var _=[];for(var k=w;k<j;k++){var q1=d[i][k];q1.x=k;_.push(q1)}h.data.push(_);h.color.push(i)}w=j+1}}if(w<d[i].length){var _=[];for(var k=w;k<d[i].length;k++){var q1=d[i][k];q1.x=k;_.push(q1)}h.data.push(_);h.color.push(i)}}return h};function j1(h,k){if(h.data==null||h.data.length==0)return;var w=A.select("g."+k);if(w.empty()){w=A.append("svg:g").attr("class",k)}h.selectedMarkers=new Array(h.data.length);h.markers=[];var _=i1(h.data);var q1=w.selectAll("."+"lines").data(_.data);q1.enter().append("path").attr('class',"lines").attr("stroke-width",p.width).attr("stroke-linejoin","round");q1.exit().remove();var Z=d3.svg.line().x(function(d,i){return x(d.x)+x.rangeBand()/2}).y(function(d){return h.scale(d.val)});q1.attr("transform",function(d,i){d3.select(this).attr("d",Z(d)).attr("stroke",function(){var j={graphType:"line",fillColor:h.colorPalette[_.color[i]%h.colorPalette.length]};return J.register(j)})});var r1=E.selectAll("g."+k);if(r1.empty()){r1=E.append("svg:g").attr("class",k)}var s1=r1.selectAll("g").data(h.data);s1.enter().append("g");s1.exit().remove();h.highLines=[];s1.attr("transform",function(d,i){d3.select(this).selectAll(".lightLine").remove();h.highLines.push([]);for(var j=1;j<d.length;++j){if(N.isNoValue(d[j].val)||N.isNoValue(d[j-1].val))h.highLines[i].push(null);else h.highLines[i].push(d3.select(this).append("svg:line").attr("class","lightLine").attr("x1",x(j-1)+x.rangeBand()/2).attr("y1",h.scale(d[j-1].val)).attr("x2",x(j)+x.rangeBand()/2).attr("y2",h.scale(d[j].val)).attr("stroke-width",p.width).attr("stroke",h.colorPalette[i%h.colorPalette.length]).attr("visibility","hidden"))}});for(var t1=0;t1<h.data.length;++t1){h.selectedMarkers[t1]=[];for(var u1=0;u1<h.data[0].length;++u1){h.selectedMarkers[t1][u1]=false}}var v1=z.select("g."+k);if(v1.empty())v1=z.append("svg:g").attr("class",k);s1=v1.selectAll("g.marker").data(h.data);s1.enter().append("svg:g").attr("class","marker");s1.exit().remove();var w1="hidden";if(p&&p.marker&&p.marker.visible)w1="visible";s1.attr("transform",function(d,i){var j=d3.select(this).selectAll(".datapoint").data(d);D.createElements(j.enter(),{shape:p.marker.shape,className:"datapoint"});j.exit().remove();var x1=[];j.attr("transform",function(y1,z1){if(N.isNoValue(y1.val)){d3.select(this).remove();x1.push(null);return}x1.push(this);var A1={drawingEffect:p.drawingEffect,graphType:p.marker.shape,fillColor:h.colorPalette[i%h.colorPalette.length],direction:'vertical',rx:p.marker.size/2,ry:p.marker.size/2,borderWidth:2,borderColor:p.style.marker.stroke,node:d3.select(this),visibility:w1};D.drawGraph(A1,J);return"translate("+(x(z1)+x.rangeBand()/2)+","+h.scale(y1.val)+")"});h.markers.push(x1)})};function k1(d,h){if(W==0||!d.selectedMarkers||d.selectedMarkers.length==0)return;for(var i=0;i<d.selectedMarkers.length;++i){for(var j=0;j<d.selectedMarkers[0].length;++j){if(!d.selectedMarkers[i][j])continue;if(j==h){e1(i,j,q,d);if(!p.marker.visible)d3.select(d.markers[i][j]).attr("opacity",Y).attr("visibility","visible")}else{e1(i,j,p.style.marker.stroke,d);if(!p.marker.visible)d3.select(d.markers[i][j]).attr("visibility","hidden")}d.selectedMarkers[i][j]=false}}}function l1(){var d=d3.event.clientX-g.node().getBoundingClientRect().left;var h=f1(d);k1(K,h);k1(L,h);W=0}function m1(h){if(!g)g=h.append("svg:g");if(!v)v=g.append("svg:line");v.attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",f).attr("stroke-width",1).attr("stroke",s).attr("visibility","hidden").attr("stroke-linejoin","round");if(!A){A=g.append("svg:g").attr("class","datalines");E=g.append("svg:g").attr("class","lightLines");z=g.append("svg:g").attr("class","markers")}W=0;n1();if(!X)X=g.append("svg:defs").append("svg:clipPath").attr("id","clip1_"+r).append("rect");X.attr("x",0).attr("y",0).attr("height",f).attr("width",(V?0:e));z.attr("clip-path","url(#clip1_"+r+")").attr("fill","none");A.attr("clip-path","url(#clip1_"+r+")").attr("fill","none");E.attr("clip-path","url(#clip1_"+r+")").attr("fill","none");if(V){U=true;var i=0;var j=e/50;var k=setInterval(function(d){if(i>=e){clearInterval(k);F.initialized()}else{i+=j;X.attr("width",i)}},20)}else{F.initialized();X.attr("width",e)}j1(K,P);j1(L,Q)};function n1(){E.selectAll("g."+P).selectAll(".lightLine").attr("visibility","hidden");E.selectAll("g."+Q).selectAll(".lightLine").attr("visibility","hidden");A.attr("opacity",1);z.selectAll("g."+P).selectAll("g.marker").selectAll(".datapoint").attr("opacity",1);z.selectAll("g."+Q).selectAll("g.marker").selectAll(".datapoint").attr("opacity",1)}function o1(){E.selectAll("g."+P).selectAll(".lightLine").attr("visibility","hidden");E.selectAll("g."+Q).selectAll(".lightLine").attr("visibility","hidden");A.attr("opacity",Y);z.selectAll("g."+P).selectAll("g.marker").selectAll(".datapoint").attr("opacity",Y);z.selectAll("g."+Q).selectAll("g.marker").selectAll(".datapoint").attr("opacity",Y)}function p1(){if(!p.style)p.style={};var d;if(c.get('sap.viz.modules.background')){if(d=c.get('sap.viz.modules.background').style('viz-plot-background')){if(d['fill']){q=d['fill']}}}if(!p.style.marker)p.style.marker={};if(d=m.style('viz-line-marker')){if(d['stroke']){p.style.marker.stroke=d['stroke']}}}}});sap.riv.module({qname:'sap.viz.modules.manifests.xy.Line',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.line',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Base',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.line','name':'line',base:'sap.viz.modules.xy.base','properties':{'tooltip':{'name':'tooltip','supportedValueType':'Object','supportedValues':{'enabled':{'name':'enabled','supportedValueType':'Bool','defaultValue':true,'description':'Set enabled/disabled tooltip.'}},'isExported':false,'description':'Settings for tooltip related properties.'},'width':{'name':'width','supportedValueType':'PositiveInt','defaultValue':2,'min':'1','max':'7','description':'Set width of line, range[1,7]. When beyond the range, the line width is default size 2.'},'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':true,'description':'Set enable/disable data loading animation of plot area.'}},'description':'Settings for tooltip related properties.'},'hoverline':{'name':'hoverline','supportedValueType':'Object','description':'Settings for hoverline properties.','supportedValues':{'visible':{'name':'visible','supportedValueType':'Bool','defaultValue':true,'description':'Set to enabled/disabled hoverline or not.',},},},'marker':{'name':'marker','description':'Settings for marker/data point graphics','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Bool','defaultValue':false,'description':'Set show marker or not.'},'shape':{'name':'shape','supportedValueType':'List','supportedValues':['circle','diamond','triangle-up','triangle-down','triangle-left','triangle-right','cross','intersection'],'defaultValue':'circle','description':'Set marker shapes for chart.'},'size':{'name':'size','supportedValueType':'PositiveInt','defaultValue':"6",'min':'4','max':'32','description':'Set marker size of data point, range[4,32]. When beyond the range, the marker size is default size 6.'},},},},'css':{'.viz-line-marker':{'description':'Define style for marker in line.','value':{'stroke':'transparent',},},},fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.modules.horizontalline',version:'4.0.0',exported:true},[{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.BoundingBox',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.util.DrawUtil',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'}],function Setup(a,M,T,S,C,B,N,l,D,b,c,R){return function(m){var e,f;var n=null,p;var r=R.newId();var t=null;var o;var q="#FFFFFF";var s="gray";var u="#333333";var x=d3.scale.ordinal();var v;var y;var g;var z,A,E;var F=new a('showTooltip','hideTooltip','initialized');var G;var H;var I;var J=null;var K={data:[],scale:d3.scale.linear(),colorPalette:null,selectedMarkers:null,markers:[],bottomValue:null,topValue:null,highLines:[]};var L={data:[],scale:d3.scale.linear(),colorPalette:null,selectedMarkers:null,markers:[],bottomValue:null,topValue:null,highLines:[]};var O=[];var P='axis1';var Q='axis2';var U=false;var V=true;var W=0;var X;var Y=0.4;function Z(d){o=b();m1(d);return Z}Z.width=function(d){if(!arguments.length)return e;e=d;if(T.isExist(e)&&T.isExist(f)&&T.isExist(n)){c1()}return Z};Z.height=function(d){if(!arguments.length)return f;f=d;if(T.isExist(e)&&T.isExist(f)&&T.isExist(n)){c1()}return Z};Z.properties=function(_){if(!arguments.length)return p;p=m.props(_);if(p.marker.size<4||p.marker.size>32)p.marker.size=6;if(p.width<1||p.width>7)p.width=2;V=p.animation.dataLoading;p1();a1();return Z};Z.primaryAxisColor=function(){if(L.data&&L.data.length>0){return J.register({graphType:"line",fillColor:K.colorPalette[0]})}else{return null}};Z.secondAxisColor=function(){return J.register({graphType:"line",fillColor:L.colorPalette[0]})};Z.dispatch=function(_){if(!arguments.length)return F;F=_;return Z};Z.data=function(d){if(!arguments.length){return n}n=d;var h=M(n);K.data=h["MG1"];L.data=h["MG2"];G=h["hasMND"];H=h["MNDOnColor"];I=h["MNDInner"];t=b.dataTransform(h);if(T.isExist(e)&&T.isExist(f)&&T.isExist(n))c1();a1();return Z};Z.primaryAxisTitle=function(_){if(!arguments.length){var d=n.getMeasureValuesGroupDataByIdx(0),h=[];if(d){for(var i=0,j=d.values.length;i<j;i++){h.push(d.values[i].col)}}return h.join('/')}return this};Z.secondAxisTitle=function(_){if(!arguments.length){var d=n.getMeasureValuesGroupDataByIdx(1),h=[];if(d){for(var i=0,j=d.values.length;i<j;i++){h.push(d.values[i].col)}}return h.join('/')}return this};Z.effectManager=function(d){if(!arguments.length)return J;J=d;return Z};Z.getColorPalette=function(){if(O.length==0){a1()}return O};Z.shapePalette=function(_){if(!arguments.length)return[p.marker.shape];return Z};Z.primaryScale=function(d){if(!arguments.length){return K.scale}K.scale=d;return Z};Z.secondaryScale=function(d){if(!arguments.length){return L.scale}L.scale=d;return Z};Z.categoryScale=function(d){if(!arguments.length){return x}x=d;return Z};Z.primaryDataRange=function(d){if(!arguments.length){return{min:K.scale.domain()[0],max:K.scale.domain()[1]}}K.topValue=d.max;K.bottomValue=d.min;if(T.isExist(e)&&T.isExist(f)){K.scale.domain([K.bottomValue,K.topValue]).range([0,e]).nice();S.perfect(K.scale)}return Z};Z.secondDataRange=function(d){if(!arguments.length){return{min:L.scale.domain()[0],max:L.scale.domain()[1]}}L.topValue=d.max;L.bottomValue=d.min;if(T.isExist(e)&&T.isExist(f)){L.scale.domain([L.bottomValue,L.topValue]).range([0,e]).nice();S.perfect(L.scale)}return Z};Z.parent=function(){return g};Z.size=function(w,h){if(arguments.length==0)return{width:Z.width(),height:Z.height()};Z.width(w).height(h);return Z};Z.clear=function(d){l1();if(d==null){n1()}else{o1()}};Z.highlight=function(d){var h;if(d instanceof Array){h=d}else{h=[];h.push(d)}for(var i=0;i<h.length;i++){var j=h[i];if(!g1(K,j))g1(L,j)}};Z.unhighlight=function(d){var h;if(d instanceof Array){h=d}else{h=[];h.push(d)}for(var i=0;i<h.length;i++){var j=h[i];if(!h1(K,j))h1(L,j)}};Z.hoverOnPoint=function(d){var h=d.x,i=d.y;if(i<0||i>f)return;var j=f1(i);if(y==j)return;var k=x(j)+x.rangeBand()/2;d1(y,"hidden",p.style.marker.stroke);d1(j,"visible",q);y=j;if(p.hoverline.visible){v.attr("y1",k).attr("y2",k);v.attr("visibility","visible")}else{v.attr("visibility","hidden")}if(p.tooltip.enabled){var w={};var _=g.node().getTransformToElement(g.node().ownerSVGElement);w.x=e*3/4+_.e;w.y=k+_.f;var q1=o.generateTooltipData(n,t,j,O,[p.marker.shape]);q1.point=w;q1.plotArea={x:_.e,y:_.f,width:e,height:f};F.showTooltip(b.formatTooltipData(q1))}};Z.blurOut=function(){v.attr("visibility","hidden");d1(y,"hidden",p.style.marker.stroke);y=null;if(p.tooltip.enabled){F.hideTooltip()}};function $(h){var i={min:null,max:null};if(!h.data||h.data.length==0)return null;i.max=Number(d3.max(h.data,function(d){return d3.max(d,function(_){return _.val})}));i.min=Number(d3.min(h.data,function(d){return d3.min(d,function(_){return _.val})}));if(N.isNoValue(i.max))return null;if(i.min>=0){i.min=0;i.max+=i.max*5/e}else if(i.max<=0){i.max=0;i.min+=i.min*5/e}else{var j=(i.max-i.min)*5/e;i.min-=j;i.max+=j}return i}function a1(){O=[];if(L.data&&L.data.length>0)K.colorPalette=p.primaryValuesColorPalette;else K.colorPalette=p.colorPalette;L.colorPalette=p.secondaryValuesColorPalette;if(G&&H&&I){var d=n.getMeasureValuesGroupDataByIdx(0);var h=n.getMeasureValuesGroupDataByIdx(1);var k=0,w=0,_=0,q1=0;if(d&&d.values.length>0){k=d.values.length;q1=d.values[0].rows.length}if(h&&h.values.length>0){w=h.values.length;q1=h.values[0].rows.length}for(var i=0;i<q1;i++){for(var j=0;j<k;j++){O.push(K.colorPalette[i*k+j%K.colorPalette.length])}for(var j=0;j<w;j++){O.push(L.colorPalette[i*w+j%L.colorPalette.length])}}}else{for(var i=0;i<K.data.length;++i)O.push(K.colorPalette[i%K.colorPalette.length]);if(L.data&&L.data.length>0){for(var i=0;i<L.data.length;++i)O.push(L.colorPalette[i%L.colorPalette.length])}}}function b1(d){if(d.data&&d.data.length>0){if(d.topValue==null){var h=$(d);if(!h)d.scale.domain([0,0]).range([0,e]);else d.scale.domain([h.min,h.max]).range([0,e]).nice()}else d.scale.domain([d.bottomValue,d.topValue]).range([0,e]).nice();S.perfect(d.scale)}else{d.scale.domain([0,0]).range([0,0])}return d.scale};function c1(){var d=[];var h=0;if(K.data.length!=0){h=K.data[0].length}else{h=L.data[0].length}for(var i=0;i<h;i++){d.push(i)}x.domain(d).rangeBands([f,0]);b1(K);b1(L);if(K.data&&K.data.length>0&&L.data&&L.data.length>0){S.perfectDual(K.scale,L.scale)}};function d1(d,h,i){if(d==undefined||d==null)return;for(var j=0;j<K.data.length;++j){if(!K.selectedMarkers[j][d]){e1(j,d,i,K);if(!p.marker.visible){if(W>0)d3.select(K.markers[j][d]).attr("opacity",Y).attr("visibility",h);else d3.select(K.markers[j][d]).attr("opacity",1).attr("visibility",h)}}}if(!L.data)return;for(var j=0;j<L.data.length;++j){if(!L.selectedMarkers[j][d]){e1(j,d,i,L);if(!p.marker.visible){if(W>0)d3.select(L.markers[j][d]).attr("opacity",Y).attr("visibility",h);else d3.select(L.markers[j][d]).attr("opacity",1).attr("visibility",h)}}}};function e1(d,h,i,j){d3.select(j.markers[d][h]).attr("stroke",i)};function f1(d){var i=d/x.rangeBand();i=Math.floor(i);var h=0;if(K.data.length!=0){h=K.data[0].length}else{h=L.data[0].length}if(i>h-1)i=h-1;if(i<0)i=0;return h-1-i};function g1(d,h){var k=false,w,_;for(var i=0;i<d.markers.length&&!k;i++){var q1=d.markers[i];for(var j=0;j<q1.length&&!k;j++){if(q1[j]==h){k=true;w=i;_=j}}}if(!k){return false}if(d.selectedMarkers[w][_]){return true}e1(w,_,u,d);d3.select(d.markers[w][_]).attr("opacity",1).attr("visibility","visible");d.selectedMarkers[w][_]=true;if(_>0&&d.selectedMarkers[w][_-1])d.highLines[w][_-1].attr("visibility","visible");if(_<d.highLines[0].length&&d.selectedMarkers[w][_+1])d.highLines[w][_].attr("visibility","visible");++W}function h1(d,h){var k=y;var w=false,_;for(var i=0;i<d.markers.length&&!w;i++){var q1=d.markers[i];for(var j=0;j<q1.length&&!w;j++){if(q1[j]==h){w=true;_=i;k=j}}}if(!w){return false}if(!d.selectedMarkers[_][k]){return true}if(k==y){e1(_,k,q,d)}else{e1(_,k,p.style.marker.stroke,d)}d3.select(d.markers[_][k]).attr("opacity",Y);if(!p.marker.visible&&k!=y)d3.select(d.markers[_][k]).attr("visibility","hidden");d.selectedMarkers[_][k]=false;if(k>0&&d.selectedMarkers[_][k-1])d.highLines[_][k-1].attr("visibility","hidden");if(k<d.highLines[0].length&&d.selectedMarkers[_][k+1])d.highLines[_][k].attr("visibility","hidden");--W}function i1(d){var h={data:[],color:[]};for(var i=0;i<d.length;++i){var w=0;for(var j=0;j<d[i].length;++j){if(N.isNoValue(d[i][j].val)){if(j>w){var _=[];for(var k=w;k<j;k++){var q1=d[i][k];q1.x=k;_.push(q1)}h.data.push(_);h.color.push(i)}w=j+1}}if(w<d[i].length){var _=[];for(var k=w;k<d[i].length;k++){var q1=d[i][k];q1.x=k;_.push(q1)}h.data.push(_);h.color.push(i)}}return h};function j1(h,k){if(h.data==null||h.data.length==0)return;var w=A.select("g."+k);if(w.empty()){w=A.append("svg:g").attr("class",k)}h.selectedMarkers=new Array(h.data.length);h.markers=[];var _=i1(h.data);var q1=w.selectAll("."+"lines").data(_.data);q1.enter().append("path").attr('class',"lines").attr("stroke-width",p.width).attr("stroke-linejoin","round");q1.exit().remove();var r1=d3.svg.line().y(function(d,i){return x(d.x)+x.rangeBand()/2}).x(function(d){return h.scale(d.val)});q1.attr("transform",function(d,i){d3.select(this).attr("d",r1(d)).attr("stroke",function(){var j={graphType:"line",fillColor:h.colorPalette[_.color[i]%h.colorPalette.length]};return J.register(j)})});var s1=E.selectAll("g."+k);if(s1.empty()){s1=E.append("svg:g").attr("class",k)}var t1=s1.selectAll("g").data(h.data);t1.enter().append("g");t1.exit().remove();h.highLines=[];t1.attr("transform",function(d,i){d3.select(this).selectAll(".lightLine").remove();h.highLines.push([]);for(var j=1;j<d.length;++j){if(N.isNoValue(d[j].val)||N.isNoValue(d[j-1].val))h.highLines[i].push(null);else h.highLines[i].push(d3.select(this).append("svg:line").attr("class","lightLine").attr("x1",h.scale(d[j-1].val)).attr("y1",x(j-1)+x.rangeBand()/2).attr("x2",h.scale(d[j].val)).attr("y2",x(j)+x.rangeBand()/2).attr("stroke-width",p.width).attr("stroke",h.colorPalette[i%h.colorPalette.length]).attr("visibility","hidden"))}});for(var u1=0;u1<h.data.length;++u1){h.selectedMarkers[u1]=[];for(var v1=0;v1<h.data[0].length;++v1){h.selectedMarkers[u1][v1]=false}}var w1=z.select("g."+k);if(w1.empty())w1=z.append("svg:g").attr("class",k);t1=w1.selectAll("g.marker").data(h.data);t1.enter().append("svg:g").attr("class","marker");t1.exit().remove();var x1="hidden";if(p&&p.marker&&p.marker.visible)x1="visible";t1.attr("transform",function(d,i){var j=d3.select(this).selectAll(".datapoint").data(d);D.createElements(j.enter(),{shape:p.marker.shape,className:"datapoint"});j.exit().remove();var y1=[];j.attr("transform",function(z1,A1){if(N.isNoValue(z1.val)){d3.select(this).remove();y1.push(null);return}y1.push(this);var B1={drawingEffect:p.drawingEffect,graphType:p.marker.shape,fillColor:h.colorPalette[i%h.colorPalette.length],direction:'vertical',rx:p.marker.size/2,ry:p.marker.size/2,borderWidth:2,borderColor:p.style.marker.stroke,node:d3.select(this),visibility:x1};D.drawGraph(B1,J);return"translate("+h.scale(z1.val)+","+(x(A1)+x.rangeBand()/2)+")"});h.markers.push(y1)})};function k1(d,h){if(W==0||!d.selectedMarkers||d.selectedMarkers.length==0)return;for(var i=0;i<d.selectedMarkers.length;++i){for(var j=0;j<d.selectedMarkers[0].length;++j){if(!d.selectedMarkers[i][j])continue;if(j==h){e1(i,j,q,d);if(!p.marker.visible)d3.select(d.markers[i][j]).attr("opacity",Y).attr("visibility","visible")}else{e1(i,j,p.style.marker.stroke,d);if(!p.marker.visible)d3.select(d.markers[i][j]).attr("visibility","hidden")}d.selectedMarkers[i][j]=false}}}function l1(){var d=d3.event.clientY-g.node().getBoundingClientRect().top;var h=f1(d);k1(K,h);k1(L,h);W=0}function m1(h){if(!g){g=h.append("svg:g")}if(!v)v=g.append("svg:line");v.attr("x1",0).attr("y1",0).attr("x2",e).attr("y2",0).attr("stroke-width",1).attr("stroke",s).attr("visibility","hidden").attr("stroke-linejoin","round");if(!A){A=g.append("svg:g").attr("class","datalines");E=g.append("svg:g").attr("class","lightLines");z=g.append("svg:g").attr("class","markers")}if(!X)X=g.append("svg:defs").append("svg:clipPath").attr("id","clip1_"+r).append("rect");X.attr("x",0).attr("y",(V?f:0)).attr("height",(V?0:f)).attr("width",e);W=0;n1();z.attr("clip-path","url(#clip1_"+r+")").attr("fill","none");A.attr("clip-path","url(#clip1_"+r+")").attr("fill","none");E.attr("clip-path","url(#clip1_"+r+")").attr("fill","none");if(V){U=true;var i=0;var j=f/50;var k=setInterval(function(d){if(i>=f){clearInterval(k);F.initialized()}else{i+=j;X.attr("height",i);X.attr("y",f-i)}},20)}else F.initialized();j1(K,P);j1(L,Q)};function n1(){E.selectAll("g."+P).selectAll(".lightLine").attr("visibility","hidden");E.selectAll("g."+Q).selectAll(".lightLine").attr("visibility","hidden");A.attr("opacity",1);z.selectAll("g."+P).selectAll("g.marker").selectAll(".datapoint").attr("opacity",1);z.selectAll("g."+Q).selectAll("g.marker").selectAll(".datapoint").attr("opacity",1)}function o1(){E.selectAll("g."+P).selectAll(".lightLine").attr("visibility","hidden");E.selectAll("g."+Q).selectAll(".lightLine").attr("visibility","hidden");A.attr("opacity",Y);z.selectAll("g."+P).selectAll("g.marker").selectAll(".datapoint").attr("opacity",Y);z.selectAll("g."+Q).selectAll("g.marker").selectAll(".datapoint").attr("opacity",Y)}function p1(){if(!p.style)p.style={};var d;if(c.get('sap.viz.modules.background')){if(d=c.get('sap.viz.modules.background').style('viz-plot-background')){if(d['fill']){q=d['fill']}}}if(!p.style.marker)p.style.marker={};if(d=m.style('viz-line-marker')){if(d['stroke']){p.style.marker.stroke=d['stroke']}}}p=m.props(null);return Z}});sap.riv.module({qname:'sap.viz.modules.manifests.xy.HorizontalLine',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.horizontalline',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Line',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.horizontalline','name':'horizontalline',base:'sap.viz.modules.line',fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.xy.HorizontalCombinationChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Title',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Legend',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Tooltip',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.HorizontalCombination',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.HorizontalLine',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Bar',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseHorizontalChart',version:'4.0.0'}],function Setup(M){var c={base:'riv/basehorizontalchart',id:'viz/horizontal_combination',name:'IDS_HORIZONTALCOMBINATIONCHART',modules:{tooltip:{configure:{properties:{chartType:'horizontalline',orientation:'left'}}},main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'selectability'}}},modules:{plot:{id:'sap.viz.modules.horizontalcombination',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}},dependencies:{attributes:[{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.xAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot',source:'shapePalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.DualHorizontalCombinationChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.manifests.xy.HorizontalCombinationChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.HorizontalCombination',version:'4.0.0'}],function Setup(M,C){var c={id:'viz/dual_horizontal_combination',name:'IDS_DUALHORIZONTALCOMBINATIONCHART',base:'viz/horizontal_combination',modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at left or bottom of an XY chart with 2 value axis.'}},'xAxis2':{'id':'sap.viz.modules.axis','configure':{'description':'Settings for the value axis at right or top of an XY chart with 2 value axis.','propertyCategory':'xAxis2','properties':{'type':'value','position':'top','gridline':{'visible':false}}}},}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'main.xAxis2',target:'scale',sourceModule:'main.plot',source:'secondaryScale'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.xAxis',target:'color',sourceModule:'main.plot',source:'primaryAxisColor'},{targetModule:'main.xAxis2',target:'color',sourceModule:'main.plot',source:'secondAxisColor'},{targetModule:'main.xAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'main.xAxis2',target:'title',sourceModule:'main.plot',source:'secondAxisTitle'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot',source:'shapePalette'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.CombinationChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Title',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Legend',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Tooltip',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Combination',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Line',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.VerticalBar',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseVerticalChart',version:'4.0.0'}],function Setup(M){var c={base:'riv/baseverticalchart',id:'viz/combination',name:'IDS_COMBINATIONCHART',modules:{tooltip:{configure:{properties:{chartType:'line',orientation:'left'}}},main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction'}}},modules:{plot:{id:'sap.viz.modules.combination',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}},dependencies:{attributes:[{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'main.yAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot',source:'shapePalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.DualCombinationChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.manifests.xy.CombinationChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Combination',version:'4.0.0'}],function Setup(M,C){var c={id:'viz/dual_combination',name:'IDS_DUALCOMBINATIONCHART',base:'viz/combination',modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at left or bottom of an XY chart with 2 value axis.'}},yAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at right or top of an XY chart with 2 value axis.',propertyCategory:'yAxis2',properties:{type:'value',position:'right',gridline:{visible:false}}}},}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.yAxis2',target:'scale',sourceModule:'main.plot',source:'secondaryScale'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'main.yAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'main.yAxis2',target:'title',sourceModule:'main.plot',source:'secondAxisTitle'},{targetModule:'main.yAxis',target:'color',sourceModule:'main.plot',source:'primaryAxisColor'},{targetModule:'main.yAxis2',target:'color',sourceModule:'main.plot',source:'secondAxisColor'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot',source:'shapePalette'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.LineChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Line',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseVerticalChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'}],function Setup(M){var c={id:'viz/line',name:'IDS_LINECHART',base:'riv/baseverticalchart',modules:{tooltip:{configure:{properties:{chartType:'line',orientation:'left'}}},main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousemove']}}}},'modules':{plot:{id:'sap.viz.modules.line',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}},feeds:{secondaryValues:{max:0}},dependencies:{attributes:[{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'getColorPalette'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.yAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot',source:'shapePalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.DualLineChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Line',version:'4.0.0'},{qname:'sap.viz.manifests.xy.LineChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'}],function Setup(M,C){var c={id:'viz/dual_line',name:'IDS_DIUALLINECHART',base:'viz/line','modules':{main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction'}}},modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at left or bottom of an XY chart with 2 value axis.'}},yAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at right or top of an XY chart with 2 value axis.',propertyCategory:'yAxis2',properties:{type:'value',position:'right',gridline:{visible:false}}}},}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{acceptMND:-1,max:1},regionColor:{acceptMND:0}},dependencies:{attributes:[{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'getColorPalette'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.yAxis2',target:'scale',sourceModule:'main.plot',source:'secondaryScale'},{targetModule:'main.yAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'main.yAxis2',target:'title',sourceModule:'main.plot',source:'secondAxisTitle'},{targetModule:'main.yAxis',target:'color',sourceModule:'main.plot',source:'primaryAxisColor'},{targetModule:'main.yAxis2',target:'color',sourceModule:'main.plot',source:'secondAxisColor'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot',source:'shapePalette'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.HorizontalLineChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.HorizontalLine',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseHorizontalChart',version:'4.0.0'}],function Setup(M){var c={id:'viz/horizontal_line',name:'IDS_HORIZONTALLINECHART',base:'riv/basehorizontalchart','modules':{tooltip:{configure:{properties:{chartType:'horizontalline',orientation:'left'}}},'main':{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousemove']}}}},'modules':{'plot':{'id':'sap.viz.modules.horizontalline','configure':{'description':'Settings regarding the chart area and plot area as well as general chart options.','propertyCategory':'plotArea'}}}}},feeds:{secondaryValues:{max:0}},dependencies:{attributes:[{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'getColorPalette'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.xAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot',source:'shapePalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.DualHorizontalLineChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.HorizontalLine',version:'4.0.0'},{qname:'sap.viz.manifests.xy.HorizontalLineChart',version:'4.0.0'}],function Setup(M,C){var c={'id':'viz/dual_horizontal_line','name':'IDS_DUALHORIZONTALLINECHART','base':'viz/horizontal_line','modules':{'main':{'id':'sap.viz.modules.xycontainer','modules':{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at left or bottom of an XY chart with 2 value axis.'}},'xAxis2':{'id':'sap.viz.modules.axis','configure':{'description':'Settings for the value axis at right or top of an XY chart with 2 value axis.','propertyCategory':'xAxis2','properties':{'type':'value','position':'top','gridline':{'visible':false}}}},}}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{acceptMND:-1,max:1},regionColor:{acceptMND:0}},dependencies:{attributes:[{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'getColorPalette'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.xAxis2',target:'scale',sourceModule:'main.plot',source:'secondaryScale'},{targetModule:'main.xAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'main.xAxis2',target:'title',sourceModule:'main.plot',source:'secondAxisTitle'},{targetModule:'main.xAxis',target:'color',sourceModule:'main.plot',source:'primaryAxisColor'},{targetModule:'main.xAxis2',target:'color',sourceModule:'main.plot',source:'secondAxisColor'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot',source:'shapePalette'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.modules.waterfall',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'}],function Setup(T,a,M,C,N,t,S,l){var w=function(b){var c,h,e;var f,o;var g=null;var k=d3.scale.ordinal(),p=d3.scale.linear();var n=[];dataStructureChange=false,dataValueChange=false,sizeChange=false,colorPalette=C.sap32().range();var q;var r=0,s=0;var u,v,z=[],A=null,B=true,D=new a('selectData','deselectData','showTooltip','hideTooltip','initialized'),E=false;var F=true,G=true,H=800,I=false;var J=null,K=null,W=null;var L='normal';var O=l.get('IDS_ISNOVALUE');Q.hoverOnPoint=function(d){var x=d.x,y=d.y;var i=-1;while(i<f[0].length){if(Math.abs(x-k.rangeBand()*i-0.5*k.rangeBand())<=0.5*k.rangeBand()){break}i++}if(i>(f[0].length-1)||i<0){u.style('visibility','hidden');return}u.attr('x',k.rangeBand()*i+e/8).style('visibility','visible');if(A!==i){if(B){A=i;var j=W.node().getTransformToElement(W.node().ownerSVGElement).e;var m=V(i);m.point={x:k.rangeBand()*i+0.5*k.rangeBand()+j,y:d3.event.layerY};D.showTooltip(t.formatTooltipData(m))}}};Q.blurOut=function(){u.style('visibility','hidden');A=null;if(B){D.hideTooltip()}};Q.highlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){d[i].setAttribute('fill-opacity',1)}}else{d.setAttribute('fill-opacity',1)}};Q.unhighlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){d[i].setAttribute('fill-opacity',0.2)}}else{d.setAttribute('fill-opacity',0.2)}};Q.clear=function(d){if(d==null){W.selectAll('.datapoint').attr('fill-opacity',1)}else{W.selectAll('.datapoint').attr('fill-opacity',0.2)}};Q.parent=function(){return W};var P=function(){L=q.drawingEffect;enableRoundCorner=q.enableRoundCorner;F=q.animation.dataLoading;G=q.animation.dataLoading;B=q.tooltip.enabled};function Q(Y){if(!T.isExist(p))return;P();Y.each(function(){var Z=Q.height();var $=Q.width();var _=f[0].length;e=2*(k.rangeBand())/3;var a1=W=d3.select(this);if(u==null){u=d3.select(this).append('rect').style('visibility','hidden').attr('width',k.rangeBand()-e/4).attr('height',Z).attr('fill','rgba(133,133,133, 0.2)')}else{u.attr('width',k.rangeBand()-e/4).attr('height',Z).style('visibility','hidden')}if(J==null){J=a1.append('defs').append('clipPath').append('rect').attr('width',c).attr('height',h)}else{J.attr('width',c).attr('height',h)}var b1=f[0].length-1;var w=a1.selectAll('g.waterfall').data(f);w.enter().append('g').attr('class','waterfall');w.each(function(d,i){var c1=d3.select(this).selectAll('rect').data(d);var d1=0,e1=0,h=[],f1=[];var g1=H/(d.length);c1.enter().append('rect');c1.exit().remove();c1.attr('fill',function(d,j){var m={drawingEffect:L,fillColor:colorPalette[i],direction:'horizontal'};return g.register(m)}).attr('shape-rendering','crispEdges').attr('class','datapoint').attr('fill-opacity',1);c1.each(function(d,j){if(d.val!=O){var m;d1+=d.val;if(d1>e1){m=p(e1)-p(d1);h.push(m);f1.push(p(d1))}else{m=p(d1)-p(e1);h.push(m);f1.push(p(e1))}e1=d1}else{h.push(4);var y;if(d1>e1){y=p(d1)}else{y=p(e1)}if(y==Z){y-=4}f1.push(y)}});if(F&&!I){if(dataStructureChange){d1=0,e1=0,c1.attr('y',function(d,j){var y;if(d.val!=O){d1+=d.val;y=p(e1);e1=d1}else{y=p(e1)}return y}).attr('height',0).attr('width',e);c1.attr('x',function(d,j){var x=k(j)+e/4;return x});d1=0,e1=0;var h1=c1.transition();h1.delay(function(d,m){return(m)*g1});h1.attr('y',function(d,j){return f1[j]});h1.attr('height',function(d,j){return h[j]});h1.each('end',function(d,j){if(j==b1){R()}})}else if(sizeChange){var h1=c1.transition();h1.attr('x',function(d,j){var x=k(j)+e/4;return x});h1=c1.transition();h1.delay(function(d,m){return(m+1)*g1});h1.attr('y',function(d,j){return f1[j]});h1.attr('height',function(d,j){return h[j]});h1.attr('width',function(d,j){return e});h1.each('end',function(d,j){if(j==b1){R()}})}else if(dataValueChange){var h1=c1.transition();h1.delay(function(d,m){return(m)*g1});h1.attr('y',function(d,j){return f1[j]});h1.attr('height',function(d,j){return h[j]});h1.each('end',function(d,j){if(j==b1){R()}})}}else{d1=0,e1=0,c1.attr('y',function(d,j){return f1[j]}).attr('x',function(d,j){var x=k(j)+e/4;return x}).attr('height',function(d,j){return h[j]}).attr('width',e);R()}c1.exit().remove()});sizeChange=false,dataStructureChange=false,dataValueChange=false});return Q};function R(){D.initialized()};Q.dispatch=function(_){if(!arguments.length)return D;D=_;return this};Q.width=function(d){if(!arguments.length){return c}sizeChange=(c===d)&&!sizeChange?false:true;c=d;if(T.isExist(c)&&T.isExist(h)&&T.isExist(f)){U()}return Q};Q.height=function(d){if(!arguments.length){return h}sizeChange=(h===d)&&!sizeChange?false:true;h=d;if(T.isExist(c)&&T.isExist(h)&&T.isExist(f)){U()}return Q};Q.data=function(d){if(!arguments.length){return f}f=originalData=d;var m=M(f);f=m["MG1"];for(var i=0;i<f.length;i++){for(var j=0;j<f[i].length;j++){if(N.isNoValue(f[i][j].val)){f[i][j].val=O}}}if(f.length!==n.length||f[0].length!==n[0].length){dataStructureChange=true}else{dataValueChange=true}n=f;s=1,r=0;var x=0,y=0;for(var i=0;i<f[0].length;i++){if(!N.isNoValue(f[0][i].val)){if(f[0][i].val<0){y=x+f[0][i].val}x+=f[0][i].val;if(x>s){s=x}if(y<r){r=y}}}if(T.isExist(c)&&T.isExist(h)){U()}P();return Q};Q.primaryAxisTitle=function(_){if(!arguments.length){var d=originalData.getMeasureValuesGroupDataByIdx(0),j=[];if(d){for(var i=0,m=d.values.length;i<m;i++){j.push(d.values[i].col)}}return j.join('/')}return this};Q.secondAxisTitle=function(_){if(!arguments.length){var d=originalData.getMeasureValuesGroupDataByIdx(1),j=[];if(d){for(var i=0,m=d.values.length;i<m;i++){j.push(d.values[i].col)}}return j.join('/')}return this};Q.properties=function(d){if(!arguments.length){return q}q=b.props(d);colorPalette=q.colorPalette;return Q};var U=function(){var d=[];for(var i=0;i<f[0].length;i++){d.push(i)}k.domain(d).rangeBands([0,c]);p.domain([r,s]).range([h,0]).nice();S.perfect(p)};var V=function(i){var d={'name':null,'val':[],};d.name=X(originalData.getMeasureValuesGroupDataByIdx(0).values[0].col);var j={'shape':'squareWithRadius','color':colorPalette[0],'label':null,'value':X(originalData.getMeasureValuesGroupDataByIdx(0).values[0].rows[0][i].val)};d.val.push(j);var m={'label':X(originalData.getAnalysisAxisDataByIdx(0).values[0].col.val),'value':X(originalData.getAnalysisAxisDataByIdx(0).values[0].rows[i].val)};var x={'body':[],'footer':[],};x.body.push(d);x.footer.push(m);return x};var X=function(_){if(_===null||_===undefined)return O;else return _};Q.categoryScale=function(d){if(!arguments.length){return k}k=d;return Q};Q.primaryScale=function(d){if(!arguments.length){return p}p=d;return Q};Q.secondScale=function(d){return Q};Q.getPreferredSize=function(){};Q.colorPalette=function(_){if(!arguments.length){return colorPalette}colorPalette=_;return this};Q.shapePalette=function(_){if(!arguments.length){return shapePalette}shapePalette=_;return this};Q.effectManager=function(_){if(!arguments.length){return g}g=_;return this};Q.properties(null);return Q};return w});sap.riv.module({qname:'sap.viz.modules.manifests.xy.Waterfall',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.waterfall',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.BaseBar',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.waterfall','name':'waterfall',base:"sap.viz.modules.xy.bar.base",'properties':{'enableRoundCorner':null,'secondaryValuesColorPalette':null},fn:f,'feeds':{configure:{'regionColor':null,'secondaryValues':null,'axisLabels':{max:1,acceptMND:-1,maxStackedDims:1},'primaryValues':{max:1}}}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.xy.WaterfallChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Waterfall',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseVerticalChart',version:'4.0.0'}],function Setup(M){var c={id:'viz/waterfall',name:'IDS_WATERFALLCHART',base:'riv/baseverticalchart',modules:{legend:null,main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousemove','touchstart']}}}},modules:{plot:{id:'sap.viz.modules.waterfall',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}},dependencies:{attributes:[{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},null,{targetModule:'main.yAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.modules.horizontalwaterfall',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.modules.util.MNDHandler',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'}],function Setup(T,a,M,C,N,t,S,l){var b=function(c){var w,h,e;var f,o;var g=null;var k=d3.scale.ordinal(),p=d3.scale.linear();var n=[],q,r=false,s=false,u=false,v=C.sap32().range();var z;var A=0,B=0;var D,E,F=[],G=null,H=true,I=new a('selectData','deselectData','showTooltip','hideTooltip','initialized');var J=true,K=true,L=800,O=false;var P,Q;var R='normal';var U=l.get('IDS_ISNOVALUE');W.hoverOnPoint=function(d){var x=d.x,y=d.y;var i=-1;while(i<f[0].length){if(Math.abs(y-k.rangeBand()*i-0.5*k.rangeBand())<=0.5*k.rangeBand()){break}i++}if(i>(f[0].length-1)||i<0){D.style('visibility','hidden');return}D.attr('y',k.rangeBand()*i+e/8).style('visibility','visible');if(G!==i){if(H){G=i;var j=q.node().getTransformToElement(q.node().ownerSVGElement);var m=j.f;var _=Z(i);_.point={x:d3.event.layerY,y:k.rangeBand()*i+0.5*k.rangeBand()+m};I.showTooltip(t.formatTooltipData(_))}}};W.blurOut=function(){D.style('visibility','hidden');G=null;if(H){I.hideTooltip()}};W.highlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){d[i].setAttribute('fill-opacity',1)}}else{d.setAttribute('fill-opacity',1)}};W.unhighlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){d[i].setAttribute('fill-opacity',0.2)}}else{d.setAttribute('fill-opacity',0.2)}};W.clear=function(d){if(d==null){q.selectAll('.datapoint').attr('fill-opacity',1)}else{q.selectAll('.datapoint').attr('fill-opacity',0.2)}};W.parent=function(){return q};var V=function(){R=z.drawingEffect;enableRoundCorner=z.enableRoundCorner;J=z.animation.dataLoading;K=z.animation.dataLoading;H=z.tooltip.enabled};function W(_){if(!T.isExist(p))return;V();_.each(function(){var a1=W.height();var b1=W.width();var c1=f[0].length;e=2*(k.rangeBand())/3;var d1=q=d3.select(this);if(D==null){D=d3.select(this).append('rect').style('visibility','hidden').attr('height',k.rangeBand()-e/4).attr('width',b1).attr('fill','rgba(133,133,133, 0.2)')}else{D.attr('width',w).attr('height',k.rangeBand()-e/4).style('visibility','hidden')}if(P==null){P=d1.append('defs').append('clipPath').append('rect').attr('width',w).attr('height',h)}else{P.attr('width',w).attr('height',h)}var e1=f[0].length-1;var f1=d1.selectAll('g.waterfall').data(f);f1.enter().append('g').attr('class','waterfall');f1.each(function(d,i){var g1=d3.select(this).selectAll('rect').data(d);var h1=0,i1=0,w=[],j1=[];var k1=L/(d.length);g1.enter().append('rect');g1.exit().remove();g1.attr('fill',function(d,j){var m={drawingEffect:R,fillColor:v[i],direction:'vertical'};return g.register(m)}).attr('shape-rendering','crispEdges').attr('class','datapoint').attr('fill-opacity',1);g1.each(function(d,j){if(d.val!=U){var m;h1+=d.val;if(h1>i1){m=p(h1)-p(i1);w.push(m);j1.push(p(i1))}else{m=p(i1)-p(h1);w.push(m);j1.push(p(h1))}i1=h1}else{w.push(4);var x;if(h1>i1){x=p(i1)}else{x=p(h1)}if(x==b1){x-=4}j1.push(x)}});if(J&&!O){if(r){h1=0,i1=0,g1.attr('x',function(d,j){var x;if(d.val!=U){h1+=d.val;x=p(i1);i1=h1}else{x=p(i1)}return x}).attr('height',e).attr('width',0);g1.attr('y',function(d,j){var y=k(j)+e/4;return y});h1=0,i1=0;var l1=g1.transition();l1.delay(function(d,m){return(m)*k1});l1.attr('x',function(d,j){return j1[j]});l1.attr('width',function(d,j){return w[j]});l1.each('end',function(d,j){if(j==e1){X()}})}else if(u){var l1=g1.transition();l1.attr('y',function(d,j){var y=k(j)+e/4;return y});l1=g1.transition();l1.delay(function(d,m){return(m+1)*k1});l1.attr('x',function(d,j){return j1[j]});l1.attr('height',function(d,j){return e});l1.attr('width',function(d,j){return w[j]});l1.each('end',function(d,j){if(j==e1){X()}})}else if(s){var l1=g1.transition();l1.delay(function(d,m){return(m)*k1});l1.attr('x',function(d,j){return j1[j]});l1.attr('width',function(d,j){return w[j]});l1.each('end',function(d,j){if(j==e1){X()}})}}else{h1=0,i1=0,g1.attr('x',function(d,j){return j1[j]}).attr('y',function(d,j){var y=k(j)+e/4;return y}).attr('width',function(d,j){return w[j]}).attr('height',e);X()}g1.exit().remove()});u=false,r=false,s=false});return W};function X(){I.initialized()};W.dispatch=function(_){if(!arguments.length)return I;I=_;return this};W.width=function(d){if(!arguments.length){return w}u=(w===d)&&!u?false:true;w=d;if(T.isExist(w)&&T.isExist(h)&&T.isExist(f)){Y()}return W};W.height=function(d){if(!arguments.length){return h}u=(h===d)&&!u?false:true;h=d;if(T.isExist(w)&&T.isExist(h)&&T.isExist(f)){Y()}return W};W.data=function(d){if(!arguments.length){return f}f=originalData=d;var m=M(f);f=m["MG1"];for(var i=0;i<f.length;i++){for(var j=0;j<f[i].length;j++){if(N.isNoValue(f[i][j].val)){f[i][j].val=U}}}if(f.length!==n.length||f[0].length!==n[0].length){r=true}else{s=true}n=f;B=1,A=0;var x=0,y=0;for(var i=0;i<f[0].length;i++){if(!N.isNoValue(f[0][i].val)){if(f[0][i].val<0){y=x+f[0][i].val}x+=f[0][i].val;if(x>B){B=x}if(y<A){A=y}}}if(T.isExist(w)&&T.isExist(h)){Y()}V();return W};W.primaryAxisTitle=function(_){if(!arguments.length){var d=originalData.getMeasureValuesGroupDataByIdx(0),j=[];if(d){for(var i=0,m=d.values.length;i<m;i++){j.push(d.values[i].col)}}return j.join('/')}return this};W.secondAxisTitle=function(_){if(!arguments.length){var d=originalData.getMeasureValuesGroupDataByIdx(1),j=[];if(d){for(var i=0,m=d.values.length;i<m;i++){j.push(d.values[i].col)}}return j.join('/')}return this};W.properties=function(d){if(!arguments.length){return z}z=c.props(d);v=z.colorPalette;return W};W.effectManager=function(_){if(!arguments.length){return g}g=_;return W};var Y=function(){var d=[];for(var i=0;i<f[0].length;i++){d.push(i)}k.domain(d).rangeBands([0,h]);p.domain([A,B]).range([0,w]).nice();S.perfect(p)};var Z=function(i){var d={'name':null,'val':[],};d.name=$(originalData.getMeasureValuesGroupDataByIdx(0).values[0].col);var j={'shape':'squareWithRadius','color':v[0],'label':null,'value':$(originalData.getMeasureValuesGroupDataByIdx(0).values[0].rows[0][i].val)};d.val.push(j);var m={'label':$(originalData.getAnalysisAxisDataByIdx(0).values[0].col.val),'value':$(originalData.getAnalysisAxisDataByIdx(0).values[0].rows[i].val)};var x={'body':[],'footer':[],};x.body.push(d);x.footer.push(m);return x};var $=function(_){if(_===null||_===undefined)return U;else return _};W.categoryScale=function(d){if(!arguments.length){return k}k=d;return W};W.primaryScale=function(d){if(!arguments.length){return p}p=d;return W};W.secondScale=function(d){return W};W.getPreferredSize=function(){};W.colorPalette=function(_){if(!arguments.length){return v}v=_;return this};W.shapePalette=function(_){if(!arguments.length){return shapePalette}shapePalette=_;return this};W.properties(null);return W};return b});sap.riv.module({qname:'sap.viz.modules.manifests.xy.HorizontalWaterfall',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.modules.horizontalwaterfall',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Waterfall',version:'4.0.0'}],function Setup(M,f){var m={'id':'sap.viz.modules.horizontalwaterfall','name':'horizontal waterfall',base:"sap.viz.modules.waterfall",fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.xy.HorizontalWaterfallChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.HorizontalWaterfall',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseHorizontalChart',version:'4.0.0'}],function Setup(M){var c={id:'viz/horizontal_waterfall',name:'IDS_HORIZONTALWATERFALLCHART',base:'riv/basehorizontalchart',modules:{legend:null,main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousemove','touchstart']}}}},modules:{plot:{id:'sap.viz.modules.horizontalwaterfall',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}},dependencies:{attributes:[{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},null,{targetModule:'main.xAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.BarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Bar',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseHorizontalChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'}],function Setup(M){var c={id:'viz/bar',name:'IDS_BARCHART',base:'riv/basehorizontalchart',modules:{main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mousemove','touchstart']}}}},modules:{plot:{id:'sap.viz.modules.bar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}},feeds:{secondaryValues:{max:0}},dependencies:{attributes:[{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.xAxis',target:'color',sourceModule:'main.plot',source:'primaryAxisColor'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'main.xAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.VerticalBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.VerticalBar',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseVerticalChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'}],function Setup(M){var c={id:'viz/column',name:'IDS_VERTICALBARCHART',base:'riv/baseverticalchart',modules:{main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{}}}},modules:{plot:{id:'sap.viz.modules.verticalbar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}},}}},feeds:{secondaryValues:{max:0}},dependencies:{attributes:[{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.yAxis',target:'color',sourceModule:'main.plot',source:'primaryAxisColor'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'main.yAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.DualBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BarChart',version:'4.0.0'}],function Setup(M,C){var c={id:'viz/dual_bar',name:'IDS_DUALBARCHART',base:'viz/bar',modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at left or bottom of an XY chart with 2 value axis.'}},xAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at right or top of an XY chart with 2 value axis.',propertyCategory:'xAxis2',properties:{type:'value',position:'top',gridline:{visible:false}}}},},},},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.xAxis2',target:'scale',sourceModule:'main.plot',source:'secondScale'},{targetModule:'main.xAxis',target:'color',sourceModule:'main.plot',source:'primaryAxisColor'},{targetModule:'main.xAxis2',target:'color',sourceModule:'main.plot',source:'secondAxisColor'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'main.xAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'main.xAxis2',target:'title',sourceModule:'main.plot',source:'secondAxisTitle'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],},};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.DualVerticalBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.manifests.xy.VerticalBarChart',version:'4.0.0'}],function Setup(M,C){var c={id:'viz/dual_column',name:'IDS_DUALVERTICALBARCHART',base:'viz/column',modules:{main:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at left or bottom of an XY chart with 2 value axis.'}},yAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at right or top of an XY chart with 2 value axis.',propertyCategory:'yAxis2',properties:{type:'value',position:'right'}}},},}},feeds:{secondaryValues:{min:1,max:Number.POSITIVE_INFINITY}},dependencies:{attributes:[{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'primaryScale'},{targetModule:'main.yAxis2',target:'scale',sourceModule:'main.plot',source:'secondScale'},{targetModule:'main.yAxis',target:'color',sourceModule:'main.plot',source:'primaryAxisColor'},{targetModule:'main.yAxis2',target:'color',sourceModule:'main.plot',source:'secondAxisColor'},{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'categoryScale'},{targetModule:'main.yAxis2',target:'title',sourceModule:'main.plot',source:'secondAxisTitle'},{targetModule:'main.yAxis',target:'title',sourceModule:'main.plot',source:'primaryAxisTitle'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],},};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.StackedVerticalBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedVerticalBar',version:'4.0.0'},{qname:'sap.viz.manifests.xy.VerticalBarChart',version:'4.0.0'}],function Setup(M){var c={id:'viz/stacked_column',name:'IDS_STACKEDVERTICALBARCHART',base:'viz/column',feeds:{secondaryValues:{max:0}},modules:{main:{modules:{plot:{id:'sap.viz.modules.stackedverticalbar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.DualStackedVerticalBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedVerticalBar',version:'4.0.0'},{qname:'sap.viz.manifests.xy.StackedVerticalBarChart',version:'4.0.0'}],function Setup(M,C){var c={id:'viz/dual_stacked_column',name:'IDS_DUALSTACKEDVERTICALBARCHART',base:'viz/dual_column',modules:{main:{modules:{plot:{id:'sap.viz.modules.stackedverticalbar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.DualPercentageStackedVerticalBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedVerticalBar',version:'4.0.0'},{qname:'sap.viz.manifests.xy.DualStackedVerticalBarChart',version:'4.0.0'}],function Setup(M,C){var c={id:'viz/100_dual_stacked_column',name:'IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART',base:'viz/dual_stacked_column',modules:{main:{modules:{plot:{id:'sap.viz.modules.stackedverticalbar',configure:{properties:{mode:'percentage',}}}}}}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.StackedBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedBar',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BarChart',version:'4.0.0'}],function Setup(M){var c={id:'viz/stacked_bar',name:'IDS_STACKEDBARCHART',base:'viz/bar',feeds:{secondaryValues:{max:0}},modules:{main:{modules:{plot:{id:'sap.viz.modules.stackedbar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.DualStackedBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedBar',version:'4.0.0'},{qname:'sap.viz.manifests.xy.StackedBarChart',version:'4.0.0'}],function Setup(M,C){var c={id:'viz/dual_stacked_bar',name:'IDS_DUALSTACKEDBARCHART',base:'viz/dual_bar',modules:{main:{modules:{plot:{id:'sap.viz.modules.stackedbar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.DualPercentageStackedBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedBar',version:'4.0.0'},{qname:'sap.viz.manifests.xy.DualStackedBarChart',version:'4.0.0'}],function Setup(M,C){var c={id:'viz/100_dual_stacked_bar',name:'IDS_DUALPERCENTAGESTACKEDBARCHART',base:'viz/dual_stacked_bar',modules:{main:{modules:{plot:{id:'sap.viz.modules.stackedbar',configure:{properties:{mode:'percentage',}}}}}}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.PercentageStackedBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedBar',version:'4.0.0'},{qname:'sap.viz.manifests.xy.StackedBarChart',version:'4.0.0'}],function Setup(M){var c={id:'viz/100_stacked_bar',name:'IDS_PERCENTAGESTACKEDBARCHART',base:'viz/stacked_bar',modules:{main:{modules:{plot:{id:'sap.viz.modules.stackedbar',configure:{properties:{mode:'percentage'}}}}}}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.xy.PercentageStackedVerticalBarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.StackedVerticalBar',version:'4.0.0'},{qname:'sap.viz.manifests.xy.StackedVerticalBarChart',version:'4.0.0'}],function Setup(M){var c={id:'viz/100_stacked_column',name:'IDS_PERCENTAGESTACKEDVERTICALBARCHART',base:'viz/stacked_column',modules:{main:{modules:{plot:{id:'sap.viz.modules.stackedverticalbar',configure:{properties:{mode:'percentage'}}}}}}};M.register(c)});sap.riv.module({qname:'sap.viz.feeds.Pie',version:'4.0.0'},[{qname:'sap.viz.feeds.Manifest',version:'4.0.0'},{qname:'sap.viz.data.feed.Constants',version:'4.0.0'}],function Setup(M,c){var f={id:"pie",feeds:[{'id':'pieSectorColor','name':'Sector Color','type':c.Type.Dimension,'min':1,'max':1,'aaIndex':1,'acceptMND':-1},{'id':'pieSectorSize','name':'Sector Size','type':c.Type.Measure,'min':1,'max':1,'mgIndex':1}]};M.register(f)});sap.riv.module({qname:'sap.viz.modules.pie.tooltip',version:'4.0.0'},[{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.base.UADetector',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'}],function Setup(T,U,R){var m;var w="tooltip",c="caret",b=8.9*14/2;var e=60,f=8;var r=R.newId();var s="tooltip-caret-shadow-"+r;var g=["viz-pie-tooltip-label-dimensions","viz-pie-tooltip-label-value","viz-pie-tooltip-label-percentage"];function h(p){return p.append("svg:path").attr("class",c).attr("d","M 0 0")}function j(d){var a=d.namespaceURI;var i=d.appendChild(document.createElementNS(a,"filter"));i.id=s;var p=i.appendChild(document.createElementNS(a,"feGaussianBlur"));p.setAttribute("in","SourceAlpha");p.setAttribute("stdDeviation",3);p.setAttribute("result","blur");var t=i.appendChild(document.createElementNS(a,"feMerge"));t.appendChild(document.createElementNS(a,"feMergeNode")).setAttribute("in","blur");t.appendChild(document.createElementNS(a,"feMergeNode")).setAttribute("in","SourceGraphic")}function k(p){var l=[];for(var i=0;i<3;i++){l[i]=p.append("svg:text").attr("class",o(i)).datum(function(d){return{text:""}})}}function l(p){return p.selectAll("text")}function n(l,m){l.attr("style",function(d,i){var a=g[i];return m.cssText(a)})}function o(i){return"label"+(i+1)}function q(l){var t=o(1);var a;l.each(function(d){d.r=d3.select(this.parentNode).datum().r}).filter("."+t).attr("dy",function(d){var i=0,p=d.text;if(U.isIE()){i=T.verticalCentralOffset(p,this)}T.ellipsisInCircle(p,this,d.r,0);a=this.getBBox().height;return i});l.filter(":not(."+t+")").attr("dy",function(d,i){var p=d.text;var x=T.measure(p,this).height;var y=(U.isIE()?(i==0?0:x):(x/2))+a/2+f;var A=Math.sqrt(Math.pow(d.r,2)-Math.pow(x+a/2+f,2))*2;T.ellipsis(p,this,A);if(i==0)y=-y;return y})}function u(a){a%=360;if(a<0)a+=360;return a}function v(a,d){var p=a.transform.baseVal;var x=p.numberOfItems==0?0:u(p.getItem(0).angle);var y=new Array();y[0]=u(d);y[1]=y[0]-360;y[2]=y[0]+360;var A=360,B=null;for(var i=0;i<y.length;i++){var C=Math.abs(y[i]-x);if(C<A){A=C;B=i}}var D=d3.interpolateNumber(x,y[B]);return function(t){return"rotate("+D(t)+")"}}function z(a){if(a>=12*14)return 14;if(a>=8*14)return 0.8*14;return 0.5*14}return function(){function t(p){var a=p.selectAll("g."+w).data(function(d,i){var y=new Array();if(d.or>b)y.push({r:d.ir,caretSize:z(d.or)});return y});a.exit().remove();l(a).call(n,m).call(q);var x=a.enter().append("svg:g").attr("class",w).style("opacity",0).attr("visibility","hidden").attr("pointer-events","none").call(h).call(k);l(x).call(n,m)}t.createShadowFilterDef=j;t.defaultStyle=function(p){return"."+p+" ."+w+" text{dominant-baseline:central}."+p+" ."+w+" ."+c+"{fill:#fff;"+(U.isSafari()?"-webkit-svg-shadow: 0 0 10px rgba(0, 0, 0, 0.25)":"filter:url(#"+s+")")+"}"};t.moduleManifest=function(_){m=_};t.select=function(p){var a=p.selectAll("g."+w);if(a.empty())return null;return{show:function(){a.attr("visibility",null).transition().duration(200).style("opacity",1);return this},hide:function(){a.transition().each("end",function(){a.attr("visibility","hidden")}).duration(200).style("opacity",0);return this},texts:function(){var x=arguments;l(a).each(function(d,i){d.text=x[i]}).call(q);return this},caret:function(){var i=a.select("."+c);return{show:function(){i.attr("d",function(d){var x=Math.tan(e*Math.PI/360)*d.caretSize;var y=Math.sqrt(d.r*d.r-x*x);return"M 0 "+-(y+d.caretSize)+" L "+x+" "+-y+" A "+d.r+" "+d.r+" 0 1 1 "+-x+" "+-y+" Z"});return this},hide:function(){i.attr("d",function(d){return"M 0 "+d.r+" A "+d.r+" "+d.r+" 0 1 1 0 "+-d.r+" A "+d.r+" "+d.r+" 0 1 1 0 "+d.r+" Z"});return this},rotateTo:function(d){i.transition().duration(200).attrTween("transform",function(){return v(this,d*180/Math.PI)});return this}}}}};return t}});sap.riv.module({qname:'sap.viz.modules.pie.sector',version:'4.0.0'},[{qname:'sap.viz.modules.Constants',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'}],function Setup(C,N){var a='viz-pie-sector';var b=d3.layout.pie().sort(null).value(function(d){return d.v});function S(c,d,e,r,v,f,g,p){this.dimValueObjects=d;this.color=e;this.r=r;this._value=v;this.startAngle=f;this.endAngle=g;this.p=p;var i;for(i in c){this[i]=c[i]}}S.prototype={midAngle:function(){return(this.endAngle+this.startAngle)/2},dimValues:function(){return this.dimValueObjects.map(function(o){return o.val})},value:function(f){var v=this._value;if(f)return d3.format(f)(v);return v},proportion:function(f){var v=(this.endAngle-this.startAngle)/(2*Math.PI);if(f)return d3.format(f)(v);return v}};function s(d,e){var c=d.measure.rows[0];var f=d.dimensions;var g=new Array();var h=c.map(function(l,i){g.push(i);return{v:l.val,i:i}}).filter(function(o){var v=o.v;return(!N.isNoValue(v))&&v>0});var j=d.color.domain(g);var r=d.or;var k=b(h).map(function(i){var l=i.data.i;var n=e.register({drawingEffect:d.drawingEffect,graphType:'sector',fillColor:j(l),direction:'vertical',radius:r});return new S(c[l],f.map(function(o){return o.rows[l]}),n,r,i.value,i.startAngle,i.endAngle,d.p)});return k}var m=function(){function c(e,f){var g=m.all(e).data(function(d){return s(d,f)});g.exit().remove();g.enter().append("svg:path").attr("class",C.CSS.CLASS.DATAPOINT+' '+a);g.attr("fill",function(d){return d.color}).attr("d",d3.svg.arc().outerRadius(function(d){return d.r}))}return c};m.all=function(c){return c.selectAll("path")};m.cssText=function(c){return'.'+a+'{'+c.cssText(a)+'}'};return m});sap.riv.module({qname:'sap.viz.modules.pie.selection',version:'4.0.0'},[{qname:'sap.viz.modules.pie.sector',version:'4.0.0'}],function Setup(b){var c="selectedSector";var e="selected";function f(s,g,n){s.classed(c,g);if(!n)s=s.transition().duration(200);s.attr("transform",function(d){var i=dy=0;if(g){if(this.parentNode.childNodes.length!=1){var a=d.midAngle();var r=d.r;var j;if(r>=96)j=6;else if(r>=24)j=4;else j=2;i=j*Math.sin(a);dy=-j*Math.cos(a)}}return"translate("+i+","+dy+")"})}function h(s){return s.classed(c)}return function(){return{allSelected:function(s){return s.selectAll("."+c)},select:function(s,a){f(s,a)},clear:function(g,a){g.classed(e,a)},defaultStyle:function(a,s){var d="."+s+"."+e;return d+"{fill-opacity:0.4}"+" ."+c+","+d+" ."+a+"{fill-opacity:1}"},clearAll:function(s){s.classed(e,false);this.allSelected(s).call(f,false,true)}}}});sap.riv.module({qname:'sap.viz.modules.pie',version:'4.0.0',exported:true},[{qname:'sap.viz.modules.pie.sector',version:'4.0.0'},{qname:'sap.viz.modules.pie.selection',version:'4.0.0'},{qname:'sap.viz.modules.pie.tooltip',version:'4.0.0'},{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.base.UADetector',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'}],function Setup(a,b,c,T,C,e,U,F,f,R){var g=2.414;var r=R.newId();var j=function(d){return g};var l=6;var m=600;var n=C.sap32();var o="viz-pie";var q=o+"-defs"+r;var u=o+"-clipPath-";var v=o,x="background",y=v+"-donut-title",z="hoverSector",A="sectorgroup";var B=e("selectData","deselectData","initialized");var D=b();var E=c();var G=a();var H="."+v+"{font-family:'Open Sans',Arial,Helvetica,sans-serif;text-anchor:middle}"+"."+v+" ."+x+"{fill-opacity:0;}"+" ."+y+"{font-weight:bold;font-size:16px;fill:#333;dominant-baseline: middle}"+E.defaultStyle(v)+D.defaultStyle(z,A);function I(d,t,h){if(!h)h=t.caret();h.show().rotateTo(d.midAngle());t.texts(d.dimValues().join(" - "),d.value(d.p.tooltip.valueFormat),d.proportion(d.p.tooltip.percentageFormat)).show()}function J(w){var t=w.selectAll("text."+y).data(function(d){return d.p.isDonut?[{width:d.ir,title:d.measure.col}]:[]});t.exit().remove();t.enter().insert("svg:text",":nth-child(2)").attr("class",y);t.each(function(d){T.ellipsisInCircle(d.title,this,d.width,0)})}function K(h){return h/2-l}function L(w){return Math.max(w/2/(1+1/g),l*g)}function M(w,h,d){if(d){return Math.min(h/2,w/2)}return Math.min(K(h),L(w))}function N(d){return d/j(d)}var O=d3.svg.arc();function P(d){var h=d3.interpolateNumber(d.startAngle,d.endAngle);return function(t){d.endAngle=h(t);return O(d)}}function Q(d,h){var s=d3.select(d).selectAll("style").data([H+a.cssText(h)]);s.exit().remove();s.enter().append("style");s.text(String)}function S(d,h,i,t,s){D.select(f.isArray(d)?d3.selectAll(d):d3.select(d),h);if(i===false)V(t,s)}function V(t,s){if(!t)return;var h=D.allSelected(s);if(h.empty())t.hide();else{var d=s.datum();if(!d.p.tooltip.visible)t.hide();else{var i=0;var p=0;var k=0;h.each(function(d){i+=d.val;p+=d.proportion();k++});var w=t.caret();if(k==1){I(h.datum(),t,w)}else{t.texts(k+" selected",d3.format(d.p.tooltip.valueFormat)(i),d3.format(d.p.tooltip.percentageFormat)(p));w.hide()}}}}function W(d){if(d.domInitialized&&(!d.animation||d.animationEnd))B.initialized({name:'initialized'})}var X=function(t){E.moduleManifest(t);var Y=null,Z=null,$=null,a1=null,b1;var c1=null;var d1,e1,f1=F.noop;var g1,h1,i1,j1;function k1(){g1=this;var h=this.node().ownerSVGElement;var i=h.getElementById(q);if(!i){i=document.createElementNS(h.namespaceURI,"defs");h.insertBefore(i,h.childNodes[0]);i.id=q;E.createShadowFilterDef(i);c1.setContainer(d3.select(i))}Q(i,t);i1=this.selectAll("g."+v).data(l1($));i1.exit().each(function(d){document.documentElement.removeEventListener("keydown",d.keydownListener);delete d.keydownListener}).remove();var p=i1.enter().append("g").attr("class",v);p.append("svg:g").attr("class",A);i1.attr("transform",function(d){if(d.p.alignCenter){return null}return"translate("+d.w/2+","+(d.p.valign=="center"?d.h/2:(d.or+l))+")"}).select("."+x).attr("width",function(d){return d.w}).attr("height",function(d){return d.h}).attr("x",function(d){return-d.w/2}).attr("y",function(d){return-d.h/2});var s=i1.selectAll(function(){var X=new Array();Array.prototype.forEach.call(this.childNodes,function(d){if(d.tagName=='clipPath')X.push(d)});return X}).data(function(d){var X=new Array();var k=d.p.isDonut;var w=d.animation=d.p.animation.dataLoading;if(k||w){X.push({innerRadius:k?d.ir:0,outerRadius:d.or+l,startAngle:0,endAngle:Math.PI*2,animation:w})}return X});s.exit().remove();s.enter().append("svg:clipPath").attr("id",function(){var o,k=0;while(true){o=u+(k++)+r;if(!document.getElementById(o))break}this.parentNode.querySelector("."+A).setAttribute("clip-path","url(#"+o+")");return o}).append("svg:path").attr("clip-rule","evenodd").attr("d",O);i1.call(J);h1=i1.select("g").call(G,c1);D.clearAll(h1);i1.call(E);j1=E.select(i1);if(j1)j1.hide();s.filter(function(d){return d.animation}).select(":first-Child").transition().duration(m).each("end",function(d){var k=this.parentNode;var w=k.parentNode;if(d.innerRadius==0){w.removeChild(k);w.querySelector("."+A).removeAttribute("clip-path")}var _=d3.select(w).datum();_.animationEnd=true;W(_)}).attrTween("d",P);s.filter(function(d){return!d.animation}).select(":first-Child").attr("d",O);i1.each(function(d){d.domInitialized=true;W(d)})}function l1(d){var i=this.parentNode;var p=t.props(f1.apply(i,arguments));var w=d1.apply(i,arguments);var h=e1.apply(i,arguments);var k=M(w,h,p.maxRadius);var s=d3.functor(b1).apply(i,arguments);var X={w:w,h:h,p:p,or:k,ir:N(k),color:s?d3.scale.ordinal().range(s):n.copy(),measure:d.getMeasureValuesGroupDataByIdx(0).values[0],dimensions:d.getAnalysisAxisDataByIdx(0).values};X.drawingEffect=X.p.drawingEffect;return[X]}k1.parent=function(){return g1};k1.clear=function(d){D.clear(h1,d);return k1};k1.highlight=function(d,h){S(d,true,h,j1,h1);return k1};k1.unhighlight=function(d,h){S(d,false,h,j1,h1);return k1};k1.mouseover=function(h){var s=d3.select(h);s.classed(z,true);var d=s.datum();if(d.p.tooltip.visible){if(j1){I(d,j1,undefined)}}else{if(j1){j1.hide()}}return k1};k1.mouseout=function(d){var s=d3.select(d);if(U.isIE())setTimeout(function(){s.classed(z,false)},0);else s.classed(z,false);if(!j1)return;V(j1,h1);return k1};k1.width=function(_){if(arguments.length==0)return Y;Y=_;d1=d3.functor(Y);return k1};k1.height=function(_){if(arguments.length==0)return Z;Z=_;e1=d3.functor(Z);return k1};k1.size=function(w,h){if(arguments.length==0)return{width:this.width(),height:this.height()};k1.width(w).height(h);return k1};k1.data=function(_){if(arguments.length==0)return $;$=_;return k1};k1.dispatch=function(_){return B};k1.properties=function(_){if(arguments.length==0)return a1;a1=_;f1=d3.functor(a1);if(typeof(a1)==="function")b1=function(d,i){return f1.apply(this,arguments).colorPalette};else if(a1.colorPalette)b1=a1.colorPalette;return k1};k1.effectManager=function(_){if(arguments.length==0)return c1;c1=_;return k1};k1.colorPalette=function(_){if(arguments.length==0){return b1||n.range()}b1=_;return k1};return k1};return X});sap.riv.module({qname:'sap.viz.modules.manifests.Pie',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.pie',version:'4.0.0'},{qname:'sap.viz.feeds.Pie',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.pie','type':C.Module.Type.Chart,'name':'pie','properties':{'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':true,'description':'Set enabled/disabled data loading animation of plot area.'}},'description':'Settings for animation of plot area.'},'colorPalette':{'name':'colorPalette','supportedValueType':'StringArray','defaultValue':C.SAPColor,'description':'Set the color palette for sectors.'},'isDonut':{'name':'isDonut','supportedValueType':'Bool','defaultValue':false,'description':'Set whether is a donut or pie.'},'valign':{'name':'valign','supportedValueType':'List','supportedValues':['top','center'],'defaultValue':"top",'description':'Set vertical aligment.','isExported':false},'tooltip':{'name':'tooltip','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Bool','defaultValue':true,'description':'Set whether tooltip is enabled.'},'valueFormat':{'name':'valueFormat','supportedValueType':'String','defaultValue':'n','description':'Set the number format of measure value in tooltip.'},'percentageFormat':{'name':'percentageFormat','supportedValueType':'String','defaultValue':".0%",'description':'Set the number format of percentage label in tooltip.'}},'description':'Settings for tooltip related properties.'},'drawingEffect':{'name':'drawingEffect','supportedValueType':'List','supportedValues':['normal','glossy'],'defaultValue':'normal','description':'Set drawing effect of Pie.','isExported':true}},'events':{'selectData':C.Module.Event.SelectData.desc,'deselectData':C.Module.Event.DeSelectData.desc},'feeds':{id:"pie"},'css':{'.viz-pie-tooltip-label-dimensions':{'description':'Define style for the first label(dimension values) in tooltip.','value':{'font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'14px','font-weight':'normal','fill':'#000'}},'.viz-pie-tooltip-label-value':{'description':'Define style for the second label(measure value) in tooltip.','value':{'font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'18px','font-weight':'bold','fill':'#000'}},'.viz-pie-tooltip-label-percentage':{'description':'Define style for the third label(percentage) in tooltip.','value':{'font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'16px','font-weight':'normal','fill':'#333'}},'.viz-pie-sector':{'description':'Define style for sector in pie.','value':{'stroke':'transparent',}},},fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiPieChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.data.feed.Constants',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Pie',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'}],function Setup(M,c){var m={id:'viz/multi_pie',name:'IDS_MULTIPIECHART',base:'riv/base/multiple',modules:{legend:{data:{aa:[2]}},main:{configure:{properties:{'cellPadding':5}},controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mouseover','mouseout','touchstart']}}}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{id:'sap.viz.modules.pie',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea',properties:{valign:"center"}}}}}}}},feeds:{multiplier:{acceptMND:0,max:2},pieSectorSize:{max:c.Constraints.INF}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'colorPalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiDonutChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Pie',version:'4.0.0'},{qname:'sap.viz.manifests.MultiPieChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_donut',name:'IDS_MULTIDONUTCHART',base:'viz/multi_pie',modules:{main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{id:'sap.viz.modules.pie',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea',properties:{'isDonut':true}}}}}}}}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.BaseSingleChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Background',version:'4.0.0'}],function Setup(M){var p={id:'riv/base/single',name:'IDS_BASESINGLECHART',base:'riv/base','abstract':true,modules:{main:{id:'sap.viz.modules.xycontainer',}}};M.register(p)});sap.riv.module({qname:'sap.viz.manifests.pie.PieChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseSingleChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Pie',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'}],function Setup(M){var p={id:'viz/pie',name:'IDS_PIECHART',base:'riv/base/single',modules:{legend:{data:{aa:[1]}},main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mouseover','mouseout','touchstart']}}}},modules:{plot:{id:'sap.viz.modules.pie',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}},dependencies:{attributes:[{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'}]}};M.register(p)});sap.riv.module({qname:'sap.viz.manifests.pie.DonutChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.pie.PieChart',version:'4.0.0'}],function Setup(M){var d={'id':'viz/donut','name':'IDS_DONUTCHART',base:'viz/pie','modules':{'main':{'modules':{'plot':{'configure':{'description':'Settings regarding the chart area and plot area as well as general chart options.','propertyCategory':'plotArea','properties':{'isDonut':true}}}}}}};M.register(d)});sap.riv.module({qname:'sap.viz.manifests.MultiLineChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Line',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_line',name:'IDS_MULTILINECHART',base:'riv/base/multiple/xy',modules:{legend:{data:{aa:[3]}},tooltip:{configure:{properties:{chartType:'line',orientation:'left'}}},main:{configure:{properties:{'mergeDataRange':['primary']}},controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction'}}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{xAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart.',propertyCategory:'xAxis',properties:{title:{visible:false,},gridline:{visible:false},type:'category',position:'bottom'},propertiesOverride:{title:{isExported:false},gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis of an XY chart.',propertyCategory:'yAxis',properties:{type:'value',position:'left'},propertiesOverride:{title:{isExported:false}}}},plot:{id:'sap.viz.modules.line',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{max:0},axisLabels:{max:1}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'primaryDataRange',sourceModule:'main.plot.plot',source:'primaryDataRange'},{targetModule:'main.plot.plot',target:'primaryDataRange',sourceModule:'main',source:'primaryDataRange'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'categoryScale'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'primaryScale'},{targetModule:'main.plot.yAxis',target:'title',sourceModule:'main.plot.plot',source:'primaryAxisTitle'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'getColorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot.plot',source:'shapePalette'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main',type:'initialized.interaction'},{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main',type:'hideTooltip'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiHorizontalLineChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.HorizontalLine',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiLineChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_horizontal_line',name:'IDS_MULTIHORIZONTALLINECHART',base:'viz/multi_line',modules:{tooltip:{configure:{properties:{chartType:'horizontalline',orientation:'left'}}},main:{modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{background:{configure:{properties:{direction:'horizontal',}}},xAxis:{id:'sap.viz.modules.axis',data:null,configure:{'description':'Settings for the value axis of an XY chart.',properties:{type:'value',gridline:{visible:true}},propertiesOverride:{gridline:{isExported:true},label:{isExported:true},axisline:{isExported:true}}}},yAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the category axis of an XY chart.',properties:{type:'category',gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},plot:{id:'sap.viz.modules.horizontalline',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}}},feeds:{multiplier:{max:1},secondaryValues:{max:0},axisLabels:{max:1}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'primaryDataRange',sourceModule:'main.plot.plot',source:'primaryDataRange'},{targetModule:'main.plot.plot',target:'primaryDataRange',sourceModule:'main',source:'primaryDataRange'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'primaryScale'},{targetModule:'main.plot.xAxis',target:'title',sourceModule:'main.plot.plot',source:'primaryAxisTitle'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'getColorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot.plot',source:'shapePalette'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiDualHorizontalLineChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Line',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiHorizontalLineChart',version:'4.0.0'}],function Setup(M,C){var m={id:'viz/multi_dual_horizontal_line',name:'IDS_MULTIDUALHORIZONTALLINECHART',base:'viz/multi_horizontal_line',modules:{main:{configure:{properties:{'mergeDataRange':['primary','second']}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at left or bottom of an XY chart with 2 value axis.'}},xAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at right or top of an XY chart with 2 value axis.',propertyCategory:'xAxis2',properties:{title:{visible:false,},type:'value',position:'top'},propertiesOverride:{title:{isExported:false}}}},}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1,acceptMND:-1},regionColor:{acceptMND:1}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'primaryDataRange',sourceModule:'main.plot.plot',source:'primaryDataRange'},{targetModule:'main.plot.plot',target:'primaryDataRange',sourceModule:'main',source:'primaryDataRange'},{targetModule:'main',target:'secondDataRange',sourceModule:'main.plot.plot',source:'secondDataRange'},{targetModule:'main.plot.plot',target:'secondDataRange',sourceModule:'main',source:'secondDataRange'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'primaryScale'},{targetModule:'main.plot.xAxis',target:'title',sourceModule:'main.plot.plot',source:'primaryAxisTitle'},{targetModule:'main.plot.xAxis2',target:'scale',sourceModule:'main.plot.plot',source:'secondaryScale'},{targetModule:'main.plot.xAxis2',target:'title',sourceModule:'main.plot.plot',source:'secondAxisTitle'},{targetModule:'main.plot.xAxis',target:'color',sourceModule:'main.plot.plot',source:'primaryAxisColor'},{targetModule:'main.plot.xAxis2',target:'color',sourceModule:'main.plot.plot',source:'secondAxisColor'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'getColorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot.plot',source:'shapePalette'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiDualLineChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.xy.Line',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiLineChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.controller.Interaction',version:'4.0.0'}],function Setup(M,C){var m={id:'viz/multi_dual_line',name:'IDS_MULTIDUALLINECHART',base:'viz/multi_line',modules:{main:{configure:{properties:{'mergeDataRange':['primary','second']}},controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'selectability'}}},modules:{plot:{modules:{plot:{configure:{propertiesOverride:{primaryValuesColorPalette:{isExported:true},secondaryValuesColorPalette:{isExported:true}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at left or bottom of an XY chart with 2 value axis.'}},yAxis2:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the value axis at right or top of an XY chart with 2 value axis.',propertyCategory:'yAxis2',properties:{title:{visible:false,},gridline:{visible:false},type:'value',position:'right'},propertiesOverride:{title:{isExported:false}}}},}}}}},feeds:{multiplier:{max:1},secondaryValues:{min:1,max:Number.POSITIVE_INFINITY},axisLabels:{max:1,acceptMND:-1},regionColor:{acceptMND:1}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'primaryDataRange',sourceModule:'main.plot.plot',source:'primaryDataRange'},{targetModule:'main.plot.plot',target:'primaryDataRange',sourceModule:'main',source:'primaryDataRange'},{targetModule:'main',target:'secondDataRange',sourceModule:'main.plot.plot',source:'secondDataRange'},{targetModule:'main.plot.plot',target:'secondDataRange',sourceModule:'main',source:'secondDataRange'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'primaryScale'},{targetModule:'main.plot.yAxis',target:'title',sourceModule:'main.plot.plot',source:'primaryAxisTitle'},{targetModule:'main.plot.yAxis2',target:'scale',sourceModule:'main.plot.plot',source:'secondaryScale'},{targetModule:'main.plot.yAxis2',target:'title',sourceModule:'main.plot.plot',source:'secondAxisTitle'},{targetModule:'main.plot.yAxis',target:'color',sourceModule:'main.plot.plot',source:'primaryAxisColor'},{targetModule:'main.plot.yAxis2',target:'color',sourceModule:'main.plot.plot',source:'secondAxisColor'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'categoryScale'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'getColorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot.plot',source:'shapePalette'}],events:[{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main',type:'initialized.interaction'},{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main',type:'hideTooltip'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.feeds.Scatter',version:'4.0.0'},[{qname:'sap.viz.feeds.Manifest',version:'4.0.0'},{qname:'sap.viz.data.feed.Constants',version:'4.0.0'}],function Setup(M,c){var f={id:"scatter",feeds:[{'id':'regionColor','name':'Region Color','type':c.Type.Dimension,'min':0,'max':1,'aaIndex':1,'acceptMND':-1},{'id':'regionShape','name':'Region Shape','type':c.Type.Dimension,'min':0,'max':1,'aaIndex':2,'acceptMND':-1},{'id':'primaryValues','name':'Primary Values','type':c.Type.Measure,'min':1,'max':1,'mgIndex':1},{'id':'secondaryValues','name':'Secondary Values','type':c.Type.Measure,'min':1,'max':1,'mgIndex':2},{'id':'bubbleWidth','name':'Bubble Width','type':c.Type.Measure,'min':0,'max':1,'mgIndex':3},{'id':'bubbleHeight','name':'Bubble Height','type':c.Type.Measure,'min':0,'max':1,'mgIndex':4}]};M.register(f)});sap.riv.module({qname:'sap.viz.modules.bubble',version:'4.0.0',exported:true},[{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.util.ShapeSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'},{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.modules.util.lassoSelection',version:'4.0.0'},{qname:'sap.viz.util.Scaler',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.util.DrawUtil',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'}],function Setup(c,C,S,T,R,e,l,f,N,D,k,t){return function(n){var o=500,p=300,q=0;var s=null,u={};var v=d3.scale.linear();var z=d3.scale.linear();var A,B;var E,F,G,H,I,J,K,L;var M=R.newId();function O(){E=0;F=Number.MAX_VALUE;G=0;H=Number.MAX_VALUE;I=0;J=0;K=0;L=0};O();var P;var Q=1/6;var U=C.sap32().range(),V=S.sapShapes().range();var W=[];var g,X,Y,Z,$,a1;var b1=[];var c1=true;var d1={'stroke':'#ffffff','stroke-width':1};var e1={'stroke':'#333333','stroke-width':1};var f1=1000;var g1=true,h1=true,i1=true;var j1=new c('selectData','deselectData','showTooltip','hideTooltip','initialized');var k1;var l1=null;var m1='normal';var n1=null;var o1=10;var p1=false;function q1(a){k1=a;u1(a);i1=false;return q1}q1.width=function(a){if(!arguments.length)return o;o=a;if(T.isExist(o)&&T.isExist(p)&&T.isExist(s)){t1()}return q1};q1.height=function(a){if(!arguments.length)return p;p=a;if(T.isExist(o)&&T.isExist(p)&&T.isExist(s)){t1()}return q1};q1.padding=function(a){if(!arguments.length)return q;q=a;if(T.isExist(o)&&T.isExist(p)&&T.isExist(s)){t1()}return q1};q1.valueAxis1Scale=function(a){if(!arguments.length)return v;v=a;return q1};q1.valueAxis2Scale=function(a){if(!arguments.length)return z;z=a;return q1};q1.valueAxis1DataRange=function(r){if(!arguments.length){return{min:J,max:I}}I=r.max;J=r.min;if(T.isExist(o)&&T.isExist(p)){t1()}return q1};q1.valueAxis2DataRange=function(r){if(!arguments.length){return{min:L,max:K}}K=r.max;L=r.min;if(T.isExist(o)&&T.isExist(p)){t1()}return q1};q1.bubbleWidthDataRange=function(r){if(!arguments.length){return{distinctValuesObj:P,min:F,max:E}}E=r.max;F=r.min;P=r.distinctValuesObj;if(T.isExist(o)&&T.isExist(p)){t1()}return q1};q1.bubbleHeightDataRange=function(r){if(!arguments.length){return{min:H,max:G}}G=r.max;H=r.min;if(T.isExist(o)&&T.isExist(p)){t1()}return q1};q1.colorPalette=function(a){if(!arguments.length){return U}U=a;return q1};q1.shapes=function(a){if(!arguments.length){return V}V=a;return q1};q1.sizeLegend=function(){var h=s.getMeasureValuesGroupDataByIdx(3);var a=(T.isExist(h)&&h.values.length>0);return{bubbleScale:Q,space:q,scale:A,data:x1(),title:l1,hasHeightFeed:a}};q1.dispatch=function(_){if(!arguments.length)return j1;j1=_;return this};q1.data=function(a){if(!arguments.length){return s}s=a;if(T.isExist(o)&&T.isExist(p)&&T.isExist(s)){s1();t1()}return q1};q1.valueAxis1Title=function(_){if(!arguments.length){var a=s.getMeasureValuesGroupDataByIdx(0),b=[];if(a){for(var i=0,d=a.values.length;i<d;i++){b.push(a.values[i].col)}}return b.join('/')}return this};q1.valueAxis2Title=function(_){if(!arguments.length){var a=s.getMeasureValuesGroupDataByIdx(1),b=[];if(a){for(var i=0,d=a.values.length;i<d;i++){b.push(a.values[i].col)}}return b.join('/')}return this};q1.properties=function(_){if(!arguments.length){return u}u=n.props(_);r1();return q1};q1.effectManager=function(_){if(!arguments.length){return n1}n1=_;return q1};function r1(){U=u.colorPalette;V=u.shapePalette;c1=u.tooltip.enabled;m1=u.drawingEffect;g1=u.animation.dataLoading;h1=u.animation.dataUpdating;var _=u.markerSize;o1=T.isExist(_)&&_<=32&&_>=4?_:o1;if(u.xScaleType&&u.xScaleType=="log"){v=d3.scale.log()}};function s1(){O();var m=s.getMeasureValuesGroupDataByIdx(0);var a=s.getMeasureValuesGroupDataByIdx(1);var b=s.getMeasureValuesGroupDataByIdx(2);var d=s.getMeasureValuesGroupDataByIdx(3);P={};for(var i=0;i<m.values[0].rows.length;i++){for(var j=0;j<m.values[0].rows[i].length;j++){var x=m.values[0].rows[i][j].val;var y=a.values[0].rows[i][j].val;var w=b&&b.values.length&&T.isExist(b.values[0].rows[i][j].val)?Math.abs(b.values[0].rows[i][j].val):null;var h;if(d&&d.values.length){if(T.isExist(d.values[0].rows[i][j].val)){h=Math.abs(d.values[0].rows[i][j].val)}else{h=null}}else{h=w}if(!N.isNoValue(w)){P[w]=''}I=x>I?x:I;J=x<J?x:J;K=y>K?y:K;L=y<L?y:L;E=w>E?w:E;F=w<F?w:F;G=h>G?h:G;H=h<H?h:H}}};function t1(){var b=s.getMeasureValuesGroupDataByIdx(2);var a=s.getMeasureValuesGroupDataByIdx(3);if(u.xScaleRange){v.domain([u.xScaleRange.min,u.xScaleRange.max]).range([q,o-q]).nice()}else v.domain([J*(1+Q),I*(1+Q)]).range([q,o-q]).nice();f.perfect(v);z.domain([L*(1+Q),K*(1+Q)]).range([p-q,q]).nice();f.perfect(z);var r;if(b&&b.values.length&&E!=F){if(u.wScaleMax)A=v1(u.wScaleMax,true,a);else A=v1(E,true,a);l1=b.values[0].col}else{A=function(d){return o1}}if(a&&a.values.length&&G!=H){B=v1(G,false)}else{if(A&&G>H){B=A}else{B=function(d){return o1}}}};function u1(r){if(g){g.remove()}if(X){X.remove()}var _=d3.select(r.node().ownerSVGElement.parentNode);if(c1&&_.select('svg.sc-tooltip-x').node()==null){_.append('svg').style('position','absolute').attr('class','sc-tooltip-x').attr('pointer-events','none').attr('width','0').attr('height',0)}Y=_.select('svg.sc-tooltip-x');if(c1&&_.select('svg.sc-tooltip-y').node()==null){_.append('svg').style('position','absolute').attr('class','sc-tooltip-y').attr('pointer-events','none').attr('width','0').attr('height',0)}Z=_.select('svg.sc-tooltip-y');w1();var C1=s.getMeasureValuesGroupDataByIdx(0);var D1=s.getMeasureValuesGroupDataByIdx(1);var E1=s.getMeasureValuesGroupDataByIdx(2);var F1=s.getMeasureValuesGroupDataByIdx(3);var G1=s.getAnalysisAxisDataByIdx(0);var H1=s.getAnalysisAxisDataByIdx(1);var I1='edge-clip-'+M;X=r.append('defs');X.append('clipPath').attr('id',I1).append('rect').attr('width',o).attr('height',p);g=r.append('g');g.attr('clip-path','url(#'+I1+')');g.append('rect').attr('x',0).attr('y',0).attr('width',o).attr('height',p).attr('fill-opacity',0).attr('id','event-rect'+M);$=g.append('line').attr('id','cross-x-'+M).attr('stroke-width',1).attr('stroke','#cccccc').attr('shape-rendering','crispEdges').attr('visibility','hidden');a1=g.append('line').attr('id','cross-y-'+M).attr('stroke-width',1).attr('stroke','#cccccc').attr('shape-rendering','crispEdges').attr('visibility','hidden');var J1=0;var K1={};function L1(i,Q1,M1){for(var j=0;j<C1.values[0].rows[i].length;j++){var a=(G1&&G1.values.length>0)?G1.values[0].rows[j].val:0;var U1;if(K1[a]){U1=K1[a]}else{U1=U[J1%U.length];K1[a]=U1;J1++}var x=C1.values[0].rows[i][j].val;var y=D1.values[0].rows[i][j].val;var w=E1&&E1.values.length?E1.values[0].rows[i][j].val:null;var h=F1&&F1.values.length?F1.values[0].rows[i][j].val:null;var b={x:x,y:y,w:w,h:h,colorIndex:j,shapeIndex:i,colorValue:U1,shapeValue:Q1,val:[x,y,w,h],ctx:[C1.values[0].rows[i][j].ctx,D1.values[0].rows[i][j].ctx,E1&&E1.values.length?E1.values[0].rows[i][j].ctx:null,F1&&F1.values.length?F1.values[0].rows[i][j].ctx:null]};if(!N.isNoValue(x)&&!N.isNoValue(y)){M1.push(b)}}};var M1=[];if(H1&&H1.values.length>0){for(var i=0,N1=0,O1={};i<H1.values[0].rows.length;i++){var P1=H1.values[0].rows[i].val;var Q1;if(O1[P1]){Q1=O1[P1]}else{Q1=V[N1%V.length];O1[P1]=Q1;N1++}L1(i,Q1,M1)}}else{L1(0,V[0],M1)}M1.sort(function(a,b){var d=a.h==null?a.w:a.h;var j=b.h==null?b.w:b.h;return Math.abs(b.w*j)-Math.abs(a.w*d)});var R1=0;p1=false;z1();function S1(d,m){R1++;if(R1==M1.length){p1=true;j1.initialized()}};var T1=(g1&&i1)||(h1&&!i1);for(var i=0;i<M1.length;i++){var x=M1[i].x,y=M1[i].y,w=M1[i].w,h=F1&&F1.values.length?M1[i].h:w,U1=M1[i].colorValue,Q1=M1[i].shapeValue;var V1;var rx=A(w)/2,ry=B(h)/2;var Y1=0;if(T1)Y1=f1;var Z1=D.createElements(g,{shape:Q1,className:"viz-correlation-marker datapoint"});var $1={drawingEffect:m1,fillColor:U1,graphType:Q1,direction:'vertical',rx:rx,ry:ry,borderWidth:d1['stroke-width'],borderColor:d1['stroke'],node:Z1,visibility:"visible",animateTime:Y1,endFunc:S1};D.drawGraph($1,n1).attr('opacity','0.8').attr('transform','translate('+v(x)+','+z(y)+')')}if(!T1){p1=true;j1.initialized()}r.selectAll('.viz-correlation-marker').data(M1)}function v1(m,w,h){return function(a){if(N.isNoValue(a)){return 4}var b;if(w){b=!h&&p<o?p:o}else{b=p}var r=Math.pow(Math.abs(a)/m,0.5)*(b-q)*Q;return r>4?r:4}}function w1(){var m=n.style('viz-correlation-marker');if(m){if(m['stroke']){d1['stroke']=m['stroke']}if(m['stroke-width']){d1['stroke-width']=m['stroke-width']}}var a=n.style('viz-correlation-marker-selected');if(a){if(a['stroke']){e1['stroke']=a['stroke']}if(a['stroke-width']){e1['stroke-width']=a['stroke-width']}}};function x1(){var w=0;for(var i in P){w++}if(w==0){return[]}else if(w==1){return[E]}else if(w==2){return[E,F]}else{return[E,(E+F)/2,F]}};q1.parent=function(){return k1};q1.mouseover=function(a){var i=d3.select(a);if(i==undefined||i.node()==null||!p1)return;if(i.attr('id')!=null&&(i.attr('id')==('event-rect'+M)||i.attr('id').indexOf('cross-x-')>=0||i.attr('id').indexOf('cross-y-')>=0)){return}var b=i.datum();i.attr('opacity','1');$.attr('visibility','visible').attr('x1',0).attr('y1',z(b.y)).attr('x2',o).attr('y2',z(b.y));a1.attr('visibility','visible').attr('x1',v(b.x)).attr('y1',0).attr('x2',v(b.x)).attr('y2',p);if(c1){y1(b,k1[0][0].getTransformToElement(k1[0][0].ownerSVGElement))}};q1.mouseout=function(a,i){var b=d3.select(a);if(b==undefined||b.node()==null||!p1){return}if(b.attr('id')==('event-rect'+M)){return}if(i){b.attr('opacity','0.8')}else{b.attr('opacity','0.2')}$.attr('visibility','hidden');a1.attr('visibility','hidden');z1()};function y1(a,b){var m=s.getMeasureValuesGroupDataByIdx(0);var d=s.getMeasureValuesGroupDataByIdx(1);var h=s.getMeasureValuesGroupDataByIdx(2);var j=s.getMeasureValuesGroupDataByIdx(3);var r=s.getAnalysisAxisDataByIdx(0);var w=s.getAnalysisAxisDataByIdx(1);var x={body:[],footer:[]};for(var i=0,y=(r?r.values.length:0);i<y;i++){var _={};_.label=r.values[i].col.val;_.value=r.values[i].rows[a.colorIndex].val;x.footer.push(_)}for(var i=0,y=(w?w.values.length:0);i<y;i++){var _={};_.label=w.values[i].col.val;_.value=w.values[i].rows[a.shapeIndex].val;x.footer.push(_)}x.body.push({name:m.values[0].col,val:[{color:a.colorValue,shape:a.shapeValue,value:a.x}]});x.body.push({name:d.values[0].col,val:[{color:a.colorValue,shape:a.shapeValue,value:a.y}]});if(h&&h.values.length>0){x.body.push({name:h.values[0].col,val:[{color:a.colorValue,shape:a.shapeValue,value:N.isNoValue(a.w)?k.get('IDS_ISNOVALUE'):a.w}]})}if(j&&j.values.length>0){x.body.push({name:j.values[0].col,val:[{color:a.colorValue,shape:a.shapeValue,value:N.isNoValue(a.h)?k.get('IDS_ISNOVALUE'):a.h}]})}x.point={x:v(a.x),y:z(a.y)+b.f};x.plotArea={x:b.e,y:b.f,width:o,height:p};j1.showTooltip(t.formatTooltipData(x));A1(a.x,Y,{x:v(a.x),y:z(a.y)},b,'x');A1(a.y,Z,{x:v(a.x),y:z(a.y)},b,'y')};function z1(){if(c1){j1.hideTooltip();Y.selectAll('g').remove();Z.selectAll('g').remove()}};function A1(a,b,d,h,i){var j={size:'12px',weight:'bold',family:'"Open Sans", Arial, Helvetica, sans-serif'};var m=e.fastMeasure(a,j.size,j.weight,j.family);b.attr('width',m.width+20).attr('height',m.height+10);b.wrapper=b.append('g');b.wrapper.append('rect').attr('x',1).attr('y',1).attr('rx',4).attr('ry',4).attr('width',m.width+18).attr('height',m.height+8).attr('fill','#ffffff').attr('stroke','#000000').attr('stroke-width',1);b.wrapper.append('text').attr('x',10).attr('y',m.height+3).attr('fill','#000000').style('font',j.weight+' '+j.size+' '+j.family).text(a);if('y'===i){b.style('left',h.e-b.attr('width')+1+'px').style('top',(d.y+h.f-b.attr('height')/2)+'px')}else if('x'===i){b.style('left',d.x+h.e-b.attr('width')/2+'px').style('top',h.f+p-1+'px')}};function B1(a){var m=s.getMeasureValuesGroupDataByIdx(0);var b=s.getMeasureValuesGroupDataByIdx(1);var d=s.getMeasureValuesGroupDataByIdx(2);var h=s.getMeasureValuesGroupDataByIdx(3);var r=[];for(var i=0;i<a.length;i++){var j=a[i].colorIndex;var w=a[i].shapeIndex;r.push([m.values[0].rows[w][j],b.values[0].rows[w][j],d&&d.values.length>0?d.values[0].rows[w][j]:null,h&&h.values.length>0?h.values[0].rows[w][j]:null])}return r};q1.highlight=function(a){if(T.isArray(a)){for(var i=0,b=a.length;i<b;i++){d3.select(a[i]).attr('class','viz-correlation-marker-selected datapoint').attr('opacity','0.8').attr('stroke',e1['stroke']).attr('stroke-width',e1['stroke-width'])}}else{d3.select(a).attr('class','viz-correlation-marker-selected datapoint').attr('opacity','0.8').attr('stroke',e1['stroke']).attr('stroke-width',e1['stroke-width'])}};q1.unhighlight=function(a){if(T.isArray(a)){for(var i=0,b=a.length;i<b;i++){d3.select(a[i]).attr('class','viz-correlation-marker datapoint').attr('opacity','0.2').attr('stroke',d1['stroke']).attr('stroke-width',d1['stroke-width']);}}else{d3.select(a).attr('class','viz-correlation-marker datapoint').attr('opacity','0.2').attr('stroke',d1['stroke']).attr('stroke-width',d1['stroke-width'])}};q1.clear=function(a){var b=k1.selectAll('.datapoint').attr('class','viz-correlation-marker datapoint').attr('stroke',d1['stroke']).attr('stroke-width',d1['stroke-width']);if(a){b.attr('opacity','0.2')}else{b.attr('opacity','0.8')}};q1.properties(null);return q1}});sap.riv.module({qname:'sap.viz.modules.manifests.Bubble',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.bubble',version:'4.0.0'},{qname:'sap.viz.feeds.Scatter',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.bubble','type':C.Module.Type.Chart,'name':'bubble','data':'DATA STRUCTURE DOC','properties':{'colorPalette':{'name':'colorPalette','supportedValueType':'StringArray','defaultValue':C.SAPColor,'description':'Set marker color of bubble.'},'shapePalette':{'name':'shapePalette','supportedValueType':'StringArray','defaultValue':['circle','square','diamond','triangle-up','triangle-down','triangle-left','triangle-right','cross','intersection'],'supportedValues':['circle','square','diamond','triangle-up','triangle-down','triangle-left','triangle-right','cross','intersection'],'description':'Set marker shape of bubble.'},'tooltip':{'name':'tooltip','supportedValueType':'Object','supportedValues':{'enabled':{'name':'enabled','supportedValueType':'Bool','defaultValue':true,'description':'enabled/disabled tooltip.'}},'isExported':false,'description':'Set tooltip related properties.'},'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':'true','description':'enable/disable data loading animation of bubble/scatter.'},'dataUpdating':{'name':'dataUpdating','supportedValueType':'Boolean','defaultValue':'true','description':'enable/disable data updating animation of bubble/scatter.'}},'description':'Set animation of bubble/scatter.'},'drawingEffect':{'name':'drawingEffect','supportedValueType':'List','supportedValues':['normal','glossy'],'defaultValue':'normal','description':'Drawing effect of bubble marker.','isExported':true}},'events':{'selectData':C.Module.Event.SelectData.desc,'deselectData':C.Module.Event.DeSelectData.desc,'showTooltip':C.Module.Event.TooltipShow.desc,'hideTooltip':C.Module.Event.TooltipHide.desc},'feeds':{id:"scatter",configure:{bubbleWidth:{min:1}}},'css':{'.viz-correlation-marker':{'description':'Define stroke style for correlation marker.','value':{'stroke':'#ffffff','stroke-width':1}},'.viz-correlation-marker-selected':{'description':'Define stroke style for selcted correlation marker.','value':{'stroke':'#333333','stroke-width':1}}},'configure':null,fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.modules.manifests.Scatter',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Bubble',version:'4.0.0'}],function Setup(M,C){var m={'id':'sap.viz.modules.scatter',base:'sap.viz.modules.bubble','name':'scatter','properties':{'markerSize':{'name':'markerSize','supportedValueType':'PositiveInt','defaultValue':"10",'description':'Set marker size of data point. The available range is from 4 to 32.'}},'feeds':{configure:{bubbleWidth:null,bubbleHeight:null}}};M.register(m)});sap.riv.module({qname:'sap.viz.modules.manifests.ScatterInMatrix',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Scatter',version:'4.0.0'}],function Setup(M,C){var m={'id':'sap.viz.modules.scatterInMatrix',base:'sap.viz.modules.scatter','name':'scatterInMatrix','feeds':null};M.register(m)});sap.riv.module({qname:'sap.viz.feeds.ScatterMatrix',version:'4.0.0'},[{qname:'sap.viz.feeds.Manifest',version:'4.0.0'},{qname:'sap.viz.data.feed.Constants',version:'4.0.0'}],function Setup(M,c){var f={id:"scattermatrix",feeds:[{'id':'regionColor','name':'Region Color','type':c.Type.Dimension,'min':0,'max':1,'aaIndex':1,'acceptMND':-1},{'id':'regionShape','name':'Region Shape','type':c.Type.Dimension,'min':0,'max':1,'aaIndex':2,'acceptMND':-1},{'id':'primaryValues','name':'Primary Values','type':c.Type.Measure,'min':2,'max':c.Constraints.INF,'mgIndex':1}]};M.register(f)});sap.riv.module({qname:'sap.viz.modules.scattermatrixcontainer',version:'4.0.0'},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.modules.layout',version:'4.0.0'},{qname:'sap.viz.data.handler.MultiChartDataHandler',version:'4.0.0'},{qname:'sap.viz.manifest',version:'4.0.0'},{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.modules.dispatch',version:'4.0.0'}],function Setup(T,O,F,l,M,a,b,d){return function(){var w=0,h=0,s=0,c=0,e=null,p={},f={},g={},j={},k={},n=null,o=null,q=[];var r=true;var t=false;var u=new d('initialized','showTooltip','hideTooltip'),v=0;var x={};function y(m){return a.module.get(m).fn}function z(){var i=a.module.get(g.id).style('viz-matrix-sub-title');if(i){if(i['fill']){x.fill=i['fill']}if(i['font-family']){x.family=i['font-family']}if(i['font-size']){x.size=i['font-size']}if(i['font-weight']){x.weight=i['font-weight']}}};function A(){var i=g.modules.plot;if(!i)return;delete j.plot;j.plot=[];var m=f.getMeasureValuesGroupDataByIdx()[0].values.length;for(var R=0;R<m;R++){for(var S=0;S<m;S++){var U=j.plot[S*m+R]=y(i.id)();U.config(i);U.effectManager(e);v++;if(U.dispatch){var V=U.dispatch();if(V.initialized)V.on('initialized.scattermatrixcontainer',N);if(V.showTooltip)V.on('showTooltip.scattermatrixcontainer',P);if(V.hideTooltip)V.on('hideTooltip.scattermatrixcontainer',Q)}}}}function B(){if(T.isExist(p.multiLayout)&&T.isExist(p.multiLayout.plotTitle)&&T.isExist(p.multiLayout.plotTitle.visible)){r=p.multiLayout.plotTitle.visible}var m=j.plot;if(m){var R=g.modules.plot;if(!R)return;var S=null,U,V;if(R.configure){if(R.configure.propertyCategory){U=p[R.configure.propertyCategory]||{}}V=R.configure.properties||{};S={};O.extend(true,S,V,U)}else{S=p}for(var i=0,W=m.length;i<W;i++){if(S){m[i].properties(S)}}}z()}function C(){q=[];o=new M(f,"measures");var m=f.getMeasureValuesGroupDataByIdx()[0].values.length;for(var i=0;i<m;i++){for(var R=0;R<m;R++){var S=o.getSubDataAdapterByMeasures({row:R,col:i});var U=j.plot[R*m+i];U.data(S);var V=q[R*m+i];if(!V)V=q[R*m+i]={};V.empty=(i==R);V.label=(i==R?S.getMeasureValuesGroupDataByIdx(0).values[0].col:S.getMeasureValuesGroupDataByIdx(0).values[0].col+' - '+S.getMeasureValuesGroupDataByIdx(1).values[0].col)}}}function D(){delete k.plot;n.select('.plot').remove();if(j.plot&&!k.plot){var R=k.plot=[];var S=k.plotRoot=n.append('g').attr('class','plot');for(var i=0,U=j.plot.length;i<U;i++){R[i]=S.append('g').attr('class','plot'+i);var V=j.plot[i];var W=V.parent(R[i]).modules();for(var m in W)if(W.hasOwnProperty(m))j['plot['+i+']'+'.'+m]=W[m]}}}function E(){if(T.isEmptyObject(g))F.error('Container configuration missing');v=0;A();B();C();D()};function G(){if(T.isEmptyObject(j)||!w||!h)return;var m=f.getMeasureValuesGroupDataByIdx()[0].values.length;s=w/m;c=h/m;var i=K();var R=i.height;if(!r||i.width>s||i.height>c/3){i.height=0;t=true}for(var S=0;S<m;S++){for(var U=0;U<m;U++){var V=j.plot[U*m+S];var W=k.plot[U*m+S];V.width(s).height(c-R);W.attr('transform','translate('+(s*S)+','+(c*U)+')')}}};function H(i){i.each(function(f){n=i;if(T.isEmptyObject(j))E();G();I()});return H}H.width=function(_){if(!arguments.length)return w;if(w!==_){w=_;G()}return H};H.height=function(_){if(!arguments.length)return h;if(h!==_){h=_;G()}return H};H.size=function(_){if(!arguments.length)return{'width':w,'height':h};if(h!==_.height||w!==_.width){h=_.height;w=_.width;G()}return H};H.data=function(_){if(!arguments.length)return f;f=_;if(!T.isEmptyObject(j)){v=0;A();B();C();D()}return H};H.properties=function(_){if(!arguments.length)return p;p=_;if(!T.isEmptyObject(j)){B()}return H};H.config=function(_){if(!arguments.length)return g;g=_;return H};H.modules=function(_){if(!arguments.length){if(T.isEmptyObject(j)){E()}return j}j=_;return H};H.parent=function(_){if(!arguments.length)return n;n=_;return H};H.dispatch=function(_){if(!arguments.length){return u}u=_;return H};H.effectManager=function(_){if(!arguments.length)return e;e=_;return H};function I(){if(k.plot){for(var i=0,m=k.plot.length;i<m;i++){if(q[i].empty){J(k.plot[i],q[i],c/2);N()}else{k.plot[i].datum(j.plot[i].data()).call(j.plot[i]);J(k.plot[i],q[i],c)}}}t=false};function J(i,m,R){if(m.shape){m.shape.remove()}if(t){return}var S=b.fastMeasure(m.label,x.size,x.weight,x.family);m.shape=i.append('text').attr('class','sub-plot-title').attr('text-anchor','middle').attr('x',s/2).attr('y',R-S.height/2).attr('fill',x.fill).style('font-weight',x.weight).style('font-size',x.size).style('font-family',x.family).attr('dominant-baseline','middle').style('cursor','default');b.ellipsis(m.label,m.shape.node(),s-5,"font:"+x.weight+' '+x.size+' '+x.family)};function K(){var m=0,R=0;for(var i=0,S=q.length;i<S;i++){var U=b.fastMeasure(q[i].label,x.size,x.weight,x.family);R=U.height>R?U.height:R;m=U.width>m?U.width:m}return{width:m,height:R}}var L=0;function N(){if(++L==v){L=0;u.initialized()}}function P(i){u.showTooltip(i)};function Q(i){u.hideTooltip(i)};return H}});sap.riv.module({qname:'sap.viz.modules.manifests.ScatterMatrixContainer',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.scattermatrixcontainer',version:'4.0.0'},{qname:'sap.viz.feeds.ScatterMatrix',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.scattermatrixcontainer','type':C.Module.Type.Container,'name':'Scatter Matrix Container','description':'Settings for the subcharts layout of Scatter Matrix chart.','properties':{'plotTitle':{'name':'plotTitle','description':'Settings for plot title.','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set visibility of sub plot title.'}},}},'css':{'.viz-matrix-sub-title':{'description':'Define style for the sub plot title.','value':{'fill':'black','font-family':"'Open Sans', Arial, Helvetica, sans-serif",'font-size':'12px','font-weight':'bold'}}},'feeds':{id:'scattermatrix'},'events':{'showTooltip':C.Module.Event.TooltipShow.desc,'hideTooltip':C.Module.Event.TooltipHide.desc},'submodulekeys':[{'key':'plot','description':'Define the plot module in each cell, currently we only support same plot for all cells'}],'fn':f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.ScatterMatrixChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Title',version:'4.0.0'},{qname:'sap.viz.modules.manifests.ScatterMatrixContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Legend',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Tooltip',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.ScatterInMatrix',version:'4.0.0'}],function Setup(M){var s={id:'viz/scatter_matrix',name:'IDS_SCATTERMATRIXCHART',base:'riv/base',modules:{legend:{data:{aa:[1,2]},configure:{properties:{type:'BubbleColorLegend'}}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'scattermatrix',orientation:'left'}}},main:{id:'sap.viz.modules.scattermatrixcontainer',configure:{propertyCategory:'multiLayout'},controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction'}}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{xAxis:{id:'sap.viz.modules.axis',data:{mg:[1]},configure:{'description':'Settings for the x axis of a normal bubble or scatter plot.',propertyCategory:'xAxis',properties:{type:'value',position:'bottom',gridline:{visible:false}}}},yAxis:{id:'sap.viz.modules.axis',data:{mg:[2]},configure:{'description':'Settings for the y axis of a normal bubble or scatter plot.',propertyCategory:'yAxis',properties:{type:'value',position:'left',gridline:{visible:false}}}},background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background',properties:{direction:'vertical'}}},plot:{id:'sap.viz.modules.scatterInMatrix',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}}},dependencies:{attributes:[{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'valueAxis2Scale'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'valueAxis1Scale'},{targetModule:'main.plot.xAxis',target:'title',sourceModule:'main.plot.plot',source:'valueAxis1Title'},{targetModule:'main.plot.yAxis',target:'title',sourceModule:'main.plot.plot',source:'valueAxis2Title'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'colorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot.plot',source:'shapes'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'}]}};M.register(s)});sap.riv.module({qname:'sap.viz.manifests.MultiScatterChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Scatter',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleChart',version:'4.0.0'},{qname:'sap.viz.manifests.BaseMultipleXYChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_scatter',name:'IDS_MULTISCATTERCHART',base:'riv/base/multiple/xy',modules:{legend:{data:{aa:[2,3]},configure:{properties:{type:'BubbleColorLegend'}}},tooltip:{configure:{properties:{chartType:'scatter',orientation:'left'}}},main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction'}}},configure:{properties:{'mergeDataRange':['valueAxis1','valueAxis2']}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{xAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the x axis of a normal bubble or scatter plot.',propertyCategory:'xAxis',properties:{title:{visible:false},type:'value',position:'bottom'},propertiesOverride:{title:{isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',configure:{'description':'Settings for the y axis of a normal bubble or scatter plot.',propertyCategory:'yAxis',properties:{title:{visible:false},type:'value',position:'left'},propertiesOverride:{title:{isExported:false}}}},plot:{id:'sap.viz.modules.scatter',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}}},feeds:{multiplier:{acceptMND:-1}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'valueAxis1DataRange',sourceModule:'main.plot.plot',source:'valueAxis1DataRange'},{targetModule:'main.plot.plot',target:'valueAxis1DataRange',sourceModule:'main',source:'valueAxis1DataRange'},{targetModule:'main',target:'valueAxis2DataRange',sourceModule:'main.plot.plot',source:'valueAxis2DataRange'},{targetModule:'main.plot.plot',target:'valueAxis2DataRange',sourceModule:'main',source:'valueAxis2DataRange'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'valueAxis1Scale'},{targetModule:'main.plot.xAxis',target:'title',sourceModule:'main.plot.plot',source:'valueAxis1Title'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'valueAxis2Scale'},{targetModule:'main.plot.yAxis',target:'title',sourceModule:'main.plot.plot',source:'valueAxis2Title'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'colorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot.plot',source:'shapes'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main',type:'initialized.interaction'},{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main',type:'hideTooltip'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.MultiBubbleChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.XYContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TableContainer',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Scatter',version:'4.0.0'},{qname:'sap.viz.manifests.MultiScatterChart',version:'4.0.0'}],function Setup(M){var m={id:'viz/multi_bubble',name:'IDS_MULTIBUBBLECHART',base:'viz/multi_scatter',modules:{legend:{data:{aa:[2,3]}},sizeLegend:{id:'sap.viz.modules.legend',configure:{'description':'The size legend is a box mapping the charts data shapes\' size to the value by some typical symbols and associated indication values.',propertyCategory:'sizeLegend',properties:{type:'SizeLegend'}}},tooltip:{configure:{properties:{chartType:'bubble',orientation:'left'}}},main:{configure:{properties:{'mergeDataRange':['valueAxis1','valueAxis2','bubbleWidth','bubbleHeight']}},modules:{plot:{id:'sap.viz.modules.xycontainer',modules:{plot:{id:'sap.viz.modules.bubble',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}}},feeds:{multiplier:{acceptMND:-1},secondaryValues:{max:1}},dependencies:{attributes:[{targetModule:'main.xAxis2',target:'scale',sourceModule:'main',source:'xCategoryScale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main',source:'yCategoryScale'},{targetModule:'main',target:'valueAxis1DataRange',sourceModule:'main.plot.plot',source:'valueAxis1DataRange'},{targetModule:'main.plot.plot',target:'valueAxis1DataRange',sourceModule:'main',source:'valueAxis1DataRange'},{targetModule:'main',target:'valueAxis2DataRange',sourceModule:'main.plot.plot',source:'valueAxis2DataRange'},{targetModule:'main.plot.plot',target:'valueAxis2DataRange',sourceModule:'main',source:'valueAxis2DataRange'},{targetModule:'main',target:'bubbleWidthDataRange',sourceModule:'main.plot.plot',source:'bubbleWidthDataRange'},{targetModule:'main.plot.plot',target:'bubbleWidthDataRange',sourceModule:'main',source:'bubbleWidthDataRange'},{targetModule:'main',target:'bubbleHeightDataRange',sourceModule:'main.plot.plot',source:'bubbleHeightDataRange'},{targetModule:'main.plot.plot',target:'bubbleHeightDataRange',sourceModule:'main',source:'bubbleHeightDataRange'},{targetModule:'main.plot.xAxis',target:'scale',sourceModule:'main.plot.plot',source:'valueAxis1Scale'},{targetModule:'main.plot.yAxis',target:'scale',sourceModule:'main.plot.plot',source:'valueAxis2Scale'},{targetModule:'main.plot.xAxis',target:'title',sourceModule:'main.plot.plot',source:'valueAxis1Title'},{targetModule:'main.plot.yAxis',target:'title',sourceModule:'main.plot.plot',source:'valueAxis2Title'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot.plot',source:'colorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot.plot',source:'shapes'},{targetModule:'sizeLegend',target:'sizeLegendInfo',sourceModule:'main.plot.plot',source:'sizeLegend'}]}};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.scatter.BaseBubbleChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseSingleChart',version:'4.0.0'}],function Setup(M){var c={id:'viz/scatter/single/base',name:'IDS_BASEBUBBLECHART','abstract':true,base:'riv/base/single',modules:{legend:{data:{aa:[1,2]},configure:{properties:{type:'BubbleColorLegend'}}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{orientation:'left'}}},main:{controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction'}}},modules:{xAxis:{id:'sap.viz.modules.axis',data:{mg:[1]},configure:{'description':'Settings for the x axis of a normal bubble or scatter plot.',propertyCategory:'xAxis',properties:{type:'value',position:'bottom',gridline:{visible:false}}}},yAxis:{id:'sap.viz.modules.axis',data:{mg:[2]},configure:{'description':'Settings for the y axis of a normal bubble or scatter plot.',propertyCategory:'yAxis',properties:{type:'value',position:'left',gridline:{visible:true}}}},background:{id:'sap.viz.modules.background',configure:{propertyCategory:'background',properties:{direction:'vertical'}}},}}},dependencies:{attributes:[{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'valueAxis1Scale'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'valueAxis2Scale'},{targetModule:'main.xAxis',target:'title',sourceModule:'main.plot',source:'valueAxis1Title'},{targetModule:'main.yAxis',target:'title',sourceModule:'main.plot',source:'valueAxis2Title'},{targetModule:'legend',target:'colorPalette',sourceModule:'main.plot',source:'colorPalette'},{targetModule:'legend',target:'shapes',sourceModule:'main.plot',source:'shapes'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'},{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.scatter.ScatterChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.scatter.BaseBubbleChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Scatter',version:'4.0.0'}],function Setup(M){var c={id:'viz/scatter',name:'IDS_SCATTERCHART',base:"viz/scatter/single/base",modules:{tooltip:{configure:{properties:{chartType:'scatter'}}},main:{modules:{plot:{id:'sap.viz.modules.scatter',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.scatter.BubbleChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.scatter.BaseBubbleChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Bubble',version:'4.0.0'}],function Setup(M){var c={id:'viz/bubble',name:'IDS_BUBBLECHART',base:"viz/scatter/single/base",modules:{sizeLegend:{id:'sap.viz.modules.legend',configure:{'description':'The size legend is a box mapping the charts data shapes\' size to the value by some typical symbols and associated indication values.',propertyCategory:'sizeLegend',properties:{type:'SizeLegend'},propertiesOverride:{isHierarchical:{isExported:false}}}},tooltip:{configure:{properties:{chartType:'bubble'}}},main:{modules:{plot:{id:'sap.viz.modules.bubble',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}},dependencies:{attributes:[undefined,undefined,undefined,undefined,undefined,undefined,undefined,{targetModule:'sizeLegend',target:'sizeLegendInfo',sourceModule:'main.plot',source:'sizeLegend'}],events:[{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.feeds.HeatMap',version:'4.0.0'},[{qname:'sap.viz.feeds.Manifest',version:'4.0.0'},{qname:'sap.viz.data.feed.Constants',version:'4.0.0'}],function Setup(M,c){var m={'id':'mainLabelAxis','name':'Main Category Axis','type':c.Type.Dimension,'min':1,'max':1,'aaIndex':1,'acceptMND':-1};var r={'id':'rectangleColor','name':'Rectangle Color','type':c.Type.Measure,'min':1,'max':1,'mgIndex':1};var s={'id':'secondaryLabelAxis','name':'Secondary Category Axis','type':c.Type.Dimension,'min':0,'max':1,'aaIndex':2,'acceptMND':-1};var f={id:"heatMap",feeds:[m,r,s]};M.register(f)});sap.riv.module({qname:'sap.viz.modules.heatmap',version:'4.0.0',exported:true},[{qname:'sap.viz.modules.dispatch',version:'4.0.0'},{qname:'sap.viz.util.ColorSeriesGenerator',version:'4.0.0'},{qname:'sap.viz.modules.util.tooltipDataHandler',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.util.EffectManager',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.util.NumberUtils',version:'4.0.0'},{qname:'sap.viz.util.TextUtils',version:'4.0.0'},{qname:'sap.viz.util.MeasureBasedColoring',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.base.Repository',version:'4.0.0'}],function Setup(a,C,t,N,E,T,N,b,M,l,R){var h=function(m){var r=R.newId();var e=function(d,i){for(var j in i){if(typeof(i[j])==="object"){if(d[j]){d[j]=e(d[j],i[j])}else{d[j]=i[j]}}else{d[j]=i[j]}}return d};var c=[];var f,g;var k={"emptycolor":"#e0e0e0",'animation':{dataLoading:true,},'colornumber':5,'discretecolor':false,'guideline':{visible:false,color:"#ffff90",},'drawemptycell':true,'colorPalette':[],tooltip:{enabled:true,}};k=e(k,m.props(null));var n="'Open Sans', Arial, Helvetica, sans-serif";var o;var p;var q=true;var s="heatMap";var u="heatMap_emptyValue";var v=1;var w=d3.scale.ordinal();var x=d3.scale.ordinal();var y=new a('selectData','deselectData','initialized','showTooltip','hideTooltip');var z=undefined;var A="#ffffff";var B;var D;var F;var G;var H;var I=null;var J=null;var K=null;var L=[];var O=null;var P=l.get('IDS_ISNOVALUE');function Q(_){I=_;L=[];var c1=false;if(!D){c1=true}if(c1){var d1=[];var e1=F.values[0].rows[0];for(var i=0;i<e1.length;i++){L.push(e1[i])}for(var i=0;i<L.length;i++){var f1="";for(var j=0;j<B.values.length;j++){f1+=B.values[j].rows[i].val;if(j!=(B.values.length-1)){f1+=" / "}}d1.push(f1)}for(var i=0;i<L.length;i++){L[i].label=d1[i]}}else{var g1=B.values[0].rows;var h1=D.values[0].rows;var i1=F.values[0].rows;var j1=g1.length;var k1=h1.length;for(var i=0;i<k1;i++){for(var j=0;j<j1;j++){L.push(i1[i][j])}}}z=$();var l1=z.domain();for(var i=0;i<L.length;i++){var m1;if(N.isNoValue(L[i].val)){L[i].color=k.emptycolor}else{for(var j=0;j<l1.length;j++){var n1=l1[j];if((j==l1.length-1)||(l1[j+1].length==0)){m1=n1;break}if((L[i].val>=n1[0])&&(L[i].val<n1[1])){m1=n1;break}}L[i].color=z(m1)}}if(c1){var o1=-Number.MAX_VALUE;var p1;var q1;var r1;var s1;var t1;var u1=[];var v1;if(L.length==1){p1=g;q1=f;s1=1;r1=1}else{for(r1=1;r1<=L.length;r1++){p1=g/r1;var s1=L.length;for(;s1>=0;s1--){if((s1*r1)<L.length){s1++;break}}q1=f/s1;t1=(s1*r1)-L.length;v1=(p1-q1)*(p1-q1);if(v1<1){v1=1}var o1;if(t1==0&&v1==0){o1=1+1}else if(t1==0&&v1!=0){o1=1+1/v1}else if(t1!=0&&v1==0){o1=1/t1+1}else{o1=1/t1+1/v1}u1.push({"iRow":r1,"iCol":s1,"rHeight":p1,"rWidth":q1,"varianceRec":v1,"emptyCellNum":t1,"score":o1})}var w1=0;var x1=-1;for(var i=0;i<u1.length;i++){if(u1[i].score>w1){w1=u1[i].score;x1=i}}p1=u1[x1].rHeight;q1=u1[x1].rWidth;s1=u1[x1].iCol;r1=u1[x1].iRow}for(var i=0;i<L.length;i++){L[i].width=q1;L[i].height=p1;L[i].left=q1*(i%s1);L[i].top=p1*(Math.floor(i/s1))}}else{for(var i=0;i<L.length;i++){L[i].width=f/j1;L[i].height=g/k1;L[i].left=(f/j1)*(i%j1);L[i].top=(g-g/k1)-((g/k1)*(Math.floor(i/j1)))}}if(q){_.select("."+s).remove()}if(c1){if(q){G=_.append("g").attr("class",s)}else{G=_.select("."+s)}var y1=[];for(var i=0;i<L.length;i++){if(!k.drawemptycell&&!L[i].val){continue}else{L[i].index=i;y1.push(L[i])}}var z1=G.selectAll("rect").data(y1,function(d){return d.index});var A1=z1.enter();var B1=z1.exit();var C1;if(q){C1=A1.append("rect").attr('id',function(d,i){return("HM"+d.index+r)}).attr('class','datapoint').attr("x",function(d){return d.left+v}).attr("y",function(d){return d.top+v}).attr("width",function(d){return d.width-2*v}).attr("height",function(d){return d.height-2*v}).attr("fill",function(d){var J1={drawingEffect:'normal',fillColor:d.color};return O.register(J1)}).attr("shape-rendering","crispEdges")}else{if(k.animation.dataUpdating){C1=z1.attr('id',function(d,i){return("HM"+d.index+r)}).attr('class','datapoint').transition().delay(0).duration(500).attr("x",function(d){return d.left+v}).attr("y",function(d){return d.top+v}).attr("width",function(d){return d.width-2*v}).attr("height",function(d){return d.height-2*v}).attr("fill",function(d){var J1={drawingEffect:'normal',fillColor:d.color};return O.register(J1)}).attr("shape-rendering","crispEdges")}else{C1=z1.attr('id',function(d,i){return("HM"+d.index+r)}).attr('class','datapoint').attr("x",function(d){return d.left+v}).attr("y",function(d){return d.top+v}).attr("width",function(d){return d.width-2*v}).attr("height",function(d){return d.height-2*v}).attr("fill",function(d){var J1={drawingEffect:'normal',fillColor:d.color};return O.register(J1)}).attr("shape-rendering","crispEdges")}C1.attr('opacity',1)}if(!k.border||(k.border&&k.border.visible)){C1.attr("stroke",A).attr("stroke-width","1")}if(q){if(k.animation.dataLoading){C1.attr('opacity',0);C1.transition().delay(0).duration(1000).attr('opacity',1)}}if(q){A1.append("text").attr("x",function(d){return d.left+d.width/2}).attr("y",function(d){return d.top+d.height/2}).attr("dominant-baseline","central").attr("text-anchor","middle").text(function(d){return d.label}).attr("fill","#ffffff").style("font-size","12px").style("font-family","'Open Sans', Arial, Helvetica, sans-serif").attr('pointer-events','none').each(function(d){b.ellipsis(d.label,this,d.width-5,"fill:#ffffff;font-family:'Open Sans', Arial, Helvetica, sans-serif;font-size:12px;")})}else{G.selectAll("text").remove();G.selectAll("text").data(y1,function(d){return d.index}).enter().append("text").attr("x",function(d){return d.left+d.width/2}).attr("y",function(d){return d.top+d.height/2}).attr("dominant-baseline","central").attr("text-anchor","middle").text(function(d){return d.label}).attr("fill","#ffffff").style("font-size","12px").style("font-family","'Open Sans', Arial, Helvetica, sans-serif").attr('pointer-events','none').each(function(d){b.ellipsis(d.label,this,d.width-5,"fill:#ffffff;font-family:'Open Sans', Arial, Helvetica, sans-serif;font-size:12px;")})}H=C1}else{if(q){G=_.append("g").attr("class",s)}else{G=_.select("."+s)}if(!k.drawemptycell){if(q){G.append('rect').attr("x",0).attr("y",0).attr("width",f).attr("height",g).attr("fill",k.emptycolor).attr("class",u).attr("shape-rendering","crispEdges")}else{G.select("."+u).attr("x",0).attr("y",0).attr("width",f).attr("height",g).attr("fill",k.emptycolor).attr("class",u).attr("shape-rendering","crispEdges")}}var y1=[];for(var i=0;i<L.length;i++){if(!k.drawemptycell&&!L[i].val){continue}else{L[i].index=i;y1.push(L[i])}}var z1=G.selectAll("rect").data(y1,function(d){return d.index});var A1=z1.enter();var B1=z1.exit();var C1;if(q){C1=A1.append("rect").attr('id',function(d,i){return("HM"+d.index+r)}).attr('class','datapoint').attr("x",function(d){return d.left}).attr("y",function(d){return d.top}).attr("width",function(d){return d.width}).attr("height",function(d){return d.height}).attr("fill",function(d){var J1={drawingEffect:'normal',fillColor:d.color};return O.register(J1)}).attr("shape-rendering","crispEdges")}else{if(k.animation.dataUpdating){C1=z1.attr('id',function(d,i){return("HM"+d.index+r)}).attr('class','datapoint').transition().delay(0).duration(500).attr("x",function(d){return d.left}).attr("y",function(d){return d.top}).attr("width",function(d){return d.width}).attr("height",function(d){return d.height}).attr("fill",function(d){var J1={drawingEffect:'normal',fillColor:d.color};return O.register(J1)}).attr("shape-rendering","crispEdges")}else{C1=z1.attr('id',function(d,i){return("HM"+d.index+r)}).attr('class','datapoint').attr("x",function(d){return d.left}).attr("y",function(d){return d.top}).attr("width",function(d){return d.width}).attr("height",function(d){return d.height}).attr("fill",function(d){var J1={drawingEffect:'normal',fillColor:d.color};return O.register(J1)}).attr("shape-rendering","crispEdges")}C1.attr('opacity',1)}if(!k.border||(k.border&&k.border.visible)){C1.attr("stroke",A).attr("stroke-width","1")}if(q){if(k.animation.dataLoading){C1.attr('opacity',0);C1.transition().delay(0).duration(1000).attr('opacity',1)}}H=C1}if(q){p=G.append('g').attr('class','HLElement').attr("visibility","hidden");p.append('line').attr('class','HLLeft').attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");p.append('line').attr('class','HLRight').attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");p.append('line').attr('class','HLTop').attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c");p.append('line').attr('class','HLBottom').attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",0).attr("shape-rendering","crispEdges").attr("stroke","#6c6c6c")}if(q){J=G.append('g').attr('class','heatMapTooltip');J.append('rect').attr('ry',6).attr('rx',6).attr('opacity',0.8).attr("stroke-width","1").attr("stroke","#666666");var D1=F.values[0].col;var E1=B.values[0].col.val;var F1="";if(D){F1=D.values[0].col.val}J.append('text').attr('text-anchor','start').attr('font-size','12px').attr('font-family',n).attr('font-weight',"bold").attr("x",20).attr("y",18).attr("fill","#333333").text(D1);J.append('text').attr('text-anchor','start').attr('font-size','12px').attr("class","valText").attr('font-family',n).attr("x",30).attr("y",33).attr("fill","#333333");J.append('line').attr("x1",0).attr("y1",40).attr("x2",160).attr("y2",40).attr("stroke","#666666");J.append('text').attr('text-anchor','end').attr('font-size','11px').attr('font-family',n).attr('font-weight',"bold").attr("x",80).attr("y",55).attr("fill","#333333").text(E1);J.append('text').attr('text-anchor','start').attr('font-size','10px').attr("class","valXValue").attr('font-family',n).attr("x",85).attr("y",55).attr("fill","#333333");J.append('text').attr('text-anchor','end').attr('font-size','11px').attr('font-family',n).attr('font-weight',"bold").attr("x",80).attr("y",70).attr("fill","#333333").text(F1);J.append('text').attr('text-anchor','start').attr('font-size','10px').attr("class","valYValue").attr('font-family',n).attr("x",85).attr("y",70).attr("fill","#333333");J.attr('visibility','hidden')}if(q){K=G.append('g').attr('class','heatMapGuideline');K.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",g).attr("stroke",k.guideline.color).attr("shape-rendering","crispEdges").attr('class','xGuidline');K.append("line").attr("x1",0).attr("y1",0).attr("x2",f).attr("y2",0).attr("stroke",k.guideline.color).attr("shape-rendering","crispEdges").attr('class','yGuidline');K.attr('visibility','hidden')}if(k.animation.dataLoading){var G1=-1;var H1=function(){var d=H.attr('opacity');if(d==G1){clearInterval(I1);y.initialized()}else{G1=d}};var I1=setInterval(H1,20)}else{y.initialized()}q=false;return Q};function S(){};function U(){};var V=function(d){var i=L[d];var j="";var _="";var c1=false;if(!D){c1=true}if(c1){j=B.values[0].rows[d].val;if(D){_=D.values[0].rows[d].val}}else{var d1=B.values[0].rows;var e1=D.values[0].rows;var f1=F.values[0].rows;var g1=d1.length;var h1=e1.length;j=B.values[0].rows[d%g1].val;_=D.values[0].rows[Math.floor(d/g1)].val}J.select("rect").attr("width",160).attr("height",78).attr("fill","rgb(255,255,255)");J.attr("transform","translate("+(i.left+i.width/2+5)+","+(i.top+i.height/2+5)+")");if(!N.isNoValue(i.val)){J.select(".valText").text(i.val);J.select(".valXValue").text(j);J.select(".valYValue").text(_);J.attr('visibility','visible');if(k.guideline.visible){K.select(".xGuidline").attr("x1",L[d].left+L[d].width/2).attr("x2",L[d].left+L[d].width/2);K.select(".yGuidline").attr("y1",L[d].top+L[d].height/2).attr("y2",L[d].top+L[d].height/2);K.attr('visibility','visible')}}};var W=function(d){var j={body:[],footer:[]};var _=L[d];var c1={'name':F.values[0].col,val:[{color:_.color,value:N.isNoValue(_.val)?P:_.val}]};j.body.push(c1);if(T.isExist(B)){for(var d1=B.values,e1=d1.length,i=e1-1;i>=0;i--){var f1={};f1.label=d1[i].col.val;f1.value=d1[i].rows[d%d1[i].rows.length].val;j.footer.push(f1)}}if(T.isExist(D)){var g1=Math.floor(d/B.values[0].rows.length);for(var d1=D.values,e1=d1.length,i=e1-1;i>=0;i--){var f1={};f1.label=d1[i].col.val;f1.value=d1[i].rows[g1%d1[i].rows.length].val;j.footer.push(f1)}}return j};var X=function(){J.attr('visibility','hidden');K.attr('visibility','hidden')};var Y=function(i){if(!N.isNoValue(i.datum().val)){p.attr("visibility","visible");var d=i.datum().left;var j=i.datum().left+i.datum().width;var _=i.datum().top;var c1=i.datum().top+i.datum().height;p.select(".HLLeft").attr("x1",d).attr("y1",_).attr("x2",d).attr("y2",c1);p.select(".HLRight").attr("x1",j).attr("y1",_).attr("x2",j).attr("y2",c1);p.select(".HLTop").attr("x1",d).attr("y1",_).attr("x2",j).attr("y2",_);p.select(".HLBottom").attr("x1",d).attr("y1",c1).attr("x2",j).attr("y2",c1)}};var Z=function(i){p.attr("visibility","hidden")};Q.mouseover=function(d){var i=d3.select(d3.event.target);var j=i.attr('id');if(j&&k.tooltip.enabled){var _=j.toString().length-r.toString().length-2;var c1=j.toString().substr(2,_);var d1=I.node().getTransformToElement(I.node().ownerSVGElement);var e1=I.node().ownerSVGElement.getBoundingClientRect();var f1=d.getBoundingClientRect();var g1=W(c1);g1.point={x:f1.left-e1.left+f1.width/2,y:(f1.height>16)?f1.top-e1.top+8:f1.top-e1.top+f1.height/2};g1.plotArea={x:d1.e,y:d1.f,width:f,height:g};y.showTooltip(t.formatTooltipData(g1));Y(i)}};Q.mouseout=function(){if(k.tooltip.enabled){y.hideTooltip()}if(d3.event){var i=d3.select(d3.event.target);Z(i)}};Q.parent=function(){return I};Q.highlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){d[i].setAttribute('opacity',1)}}else{d.setAttribute('opacity',1)}};Q.unhighlight=function(d){if(d instanceof Array){for(var i=0,j=d.length;i<j;i++){d[i].setAttribute('opacity',0.2)}}else{d.setAttribute('opacity',0.2)}};Q.clear=function(d){if(d==null){I.selectAll('.datapoint').attr('opacity',1)}else{I.selectAll('.datapoint').attr('opacity',0.2)}};Q.width=function(_){if(!arguments.length){return f}f=_;a1();return Q};Q.height=function(_){if(!arguments.length){return g}g=_;b1();return Q};Q.data=function(d){if(!arguments.length){return o}o=d;q=true;B=o.getAnalysisAxisDataByIdx(0);D=o.getAnalysisAxisDataByIdx(1);F=o.getMeasureValuesGroupDataByIdx(0);return Q};Q.properties=function(d){if(!arguments.length){return k}k=e(k,m.props(d));q=true;return Q};Q.getDatapointsByRange=function(d){var j=d3.selectAll('.datapoint')[0],_=[],c1=d.ctx.ranges,d1;for(var i=0,e1=j.length;i<e1;i++){d1=j[i].__data__.val;if(N.isNoValue(d.val)){if(N.isNoValue(d1)){_.push(j[i])}}else{if(d1<c1.endValue&&d1>c1.startValue){_.push(j[i])}else{if(!c1.isLeftOpen&&d1===c1.startValue){_.push(j[i])}else if(!c1.isRightOpen&&d1===c1.endValue){_.push(j[i])}}}}return _};Q.effectManager=function(_){if(!arguments.length){return O}O=_;q=true;return Q};Q.mbcLegendInfo=function(){var z=$();return{'colorScale':z,'title':F.values[0].col}};Q.getPreferredSize=function(){};Q.categoryScaleX=function(){return w};Q.isDrawXaxisBody=function(){var i=false;if(!D){i=true}return(!i)};Q.categoryScaleY=function(){return x};var $=function(){var z=d3.scale.ordinal();var d=[];var _=false;if(!D){_=true}if(_){var c1=F.values[0].rows[0];for(var i=0;i<c1.length;i++){d.push(c1[i])}}else{var d1=B.values[0].rows;var e1=D.values[0].rows;var c1=F.values[0].rows;var f1=d1.length;var g1=e1.length;for(var i=0;i<g1;i++){for(var j=0;j<f1;j++){d.push(c1[i][j])}}}var h1=-Number.MAX_VALUE;var i1=Number.MAX_VALUE;for(var j1=0;j1<d.length;j1++){if(!N.isNoValue(d[j1].val)){if(h1<d[j1].val){h1=d[j1].val}if(i1>d[j1].val){i1=d[j1].val}}}var k1=false;for(var i=0;i<d.length;i++){if(N.isNoValue(d[i].val)){k1=true}}var l1=k.colornumber;var m1;if(i1===Number.MAX_VALUE&&h1===-Number.MAX_VALUE){m1=d3.scale.ordinal().domain([[]]).range([k.emptycolor])}else{var m1=M.getScale(i1,h1,l1,k.startColor,k.endColor);if(k1){var n1=m1.domain();var o1=m1.range();n1.push([]);o1.push(k.emptycolor)}}return m1};var a1=function(){var d=false;if(!D){d=true}var j=B.values[0].rows;var _=[];for(var i=0;i<j.length;i++){_.push(i)}w=w.domain(_).rangeBands([0,f])};var b1=function(){var d=false;if(!D){d=true}if(d){x=x.domain([0,0]).rangeBands([0,0])}else{var j=D.values[0].rows;var _=[];for(var i=0;i<j.length;i++){_.push(i)}x=x.domain(_).rangeBands([g,0])}};Q.dispatch=function(_){if(!arguments.length)return y;y=_;return Q};var e=function(d,i){for(var j in i){if(typeof(i[j])==="object"){if(d[j]){d[j]=e(d[j],i[j])}else{d[j]=i[j]}}else{d[j]=i[j]}}return d};k=e(k,m.props(null));return Q};return h});sap.riv.module({qname:'sap.viz.modules.manifests.HeatMap',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.heatmap',version:'4.0.0'},{qname:'sap.viz.feeds.HeatMap',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.heatmap','type':C.Module.Type.Chart,'name':'heatmap','properties':{'border':{'name':'border','description':'Settings for border.','supportedValueType':'Object','supportedValues':{'visible':{'name':'visible','supportedValueType':'Boolean','defaultValue':true,'description':'Set visibility of zone edge.'},},},'startColor':{'name':'startColor','supportedValueType':'String','defaultValue':"#C2E3A9",'description':'Set heatMap startColor.'},'endColor':{'name':'endColor','supportedValueType':'String','defaultValue':"#73C03C",'description':'Set heatMap endColor.'},'tooltip':{'name':'tooltip','description':'Settings for tooltip.','supportedValueType':'Object','supportedValues':{'visible':{'name':'enabled','supportedValueType':'Bool','defaultValue':true,'description':'Set enabled/disabled tooltip.'},}}},'events':{'selectData':C.Module.Event.SelectData.desc,'deselectData':C.Module.Event.DeSelectData.desc,'showTooltip':C.Module.Event.TooltipShow.desc,'hideTooltip':C.Module.Event.TooltipHide.desc},'feeds':{id:"heatMap"},'css':{},'configure':null,fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.HeatMapChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseSingleChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Axis',version:'4.0.0'},{qname:'sap.viz.modules.manifests.HeatMap',version:'4.0.0'}],function Setup(M){var c={id:'viz/heatmap',name:'IDS_HEATMAPCHART',base:'riv/base/single',modules:{legend:{id:'sap.viz.modules.legend',configure:{'description':'The measure based coloring legend is a bar containing segments with different colors and a value scale on side to indicate the relationship between the values and colors in the chart. ',properties:{type:'MeasureBasedColoringLegend'},propertiesOverride:{isHierarchical:{isExported:false}}}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'heatmap',orientation:'bottom'}}},main:{modules:{xAxis:{id:'sap.viz.modules.axis',data:{aa:[1]},configure:{'description':'Settings for the x axis of a normal heatmap.',propertyCategory:'xAxis',properties:{type:'category',position:'bottom',gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},yAxis:{id:'sap.viz.modules.axis',data:{aa:[2]},configure:{'description':'Settings for the y axis of a normal heatmap.',propertyCategory:'yAxis',properties:{type:'category',position:'left',gridline:{visible:false}},propertiesOverride:{gridline:{isExported:false},label:{isExported:false},axisline:{isExported:false}}}},plot:{id:'sap.viz.modules.heatmap',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}},},controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mouseover','mouseout','touchstart']}}}}}},dependencies:{attributes:[{targetModule:'main.xAxis',target:'scale',sourceModule:'main.plot',source:'categoryScaleX'},{targetModule:'main.xAxis',target:'isDrawBody',sourceModule:'main.plot',source:'isDrawXaxisBody'},{targetModule:'main.yAxis',target:'scale',sourceModule:'main.plot',source:'categoryScaleY'},{targetModule:'legend',target:'mbcLegendInfo',sourceModule:'main.plot',source:'mbcLegendInfo'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'}],}};M.register(c)});sap.riv.module({qname:'sap.viz.feeds.TagCloud',version:'4.0.0'},[{qname:'sap.viz.feeds.Manifest',version:'4.0.0'},{qname:'sap.viz.data.feed.Constants',version:'4.0.0'}],function Setup(M,c){var f={id:"tagCloud",feeds:[{'id':'tagName','name':'Tags Name','type':c.Type.Dimension,'min':1,'max':1,'aaIndex':1,'acceptMND':-1,'maxStackedDims':1},{'id':'tagWeight','name':'Tags Weight','type':c.Type.Measure,'min':1,'max':1,'mgIndex':1},{'id':'tagFamily','name':'Tags Family','type':c.Type.Measure,'min':0,'max':1,'mgIndex':2}]};M.register(f)});sap.riv.module({qname:'sap.viz.modules.manifests.TagCloud',version:'4.0.0'},[{qname:'sap.viz.modules.manifests.Module',version:'4.0.0'},{qname:'sap.viz.Constants',version:'4.0.0'},{qname:'sap.viz.modules.tagcloud',version:'4.0.0'},{qname:'sap.viz.feeds.TagCloud',version:'4.0.0'}],function Setup(M,C,f){var m={'id':'sap.viz.modules.tagcloud','type':C.Module.Type.Chart,'name':'tagcloud','properties':{'layout':{'name':'layout','supportedValueType':'List','supportedValues':['Row','Column','Wordle'],'defaultValue':'Wordle','description':'Set layout fo tag cloud.'},'animation':{'name':'animation','supportedValueType':'Object','supportedValues':{'dataLoading':{'name':'dataLoading','supportedValueType':'Boolean','defaultValue':true,'description':'Set enabled/disabled data loading animation of plot area.'},'dataUpdating':{'name':'dataUpdating','supportedValueType':'Boolean','defaultValue':false,'description':'Set enabled/disabled data updating animation of plot area.'}},'description':'Settings for animation of plot area.'},'startColor':{'name':'startColor','supportedValueType':'String','defaultValue':"#C2E3A9",'description':'Set tagCloud start color.'},'endColor':{'name':'endColor','supportedValueType':'String','defaultValue':"#73C03C",'description':'Set tagCloud endcolor.'},'tooltip':{'name':'tooltip','supportedValueType':'Object','supportedValues':{'enabled':{'name':'enabled','supportedValueType':'Bool','defaultValue':true,'description':'Set enabled/disabled tooltip.'}},'isExported':false,'description':'Settings for tooltip related properties.'}},'events':{'selectData':C.Module.Event.SelectData.desc,'deselectData':C.Module.Event.DeSelectData.desc,'showTooltip':C.Module.Event.TooltipShow.desc,'hideTooltip':C.Module.Event.TooltipHide.desc},'feeds':{id:"tagCloud"},'css':{},'configure':null,fn:f};M.register(m)});sap.riv.module({qname:'sap.viz.manifests.TagCloudChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseSingleChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.TagCloud',version:'4.0.0'}],function Setup(M){var c={id:'viz/tagcloud',name:'IDS_TAGCLOUDCHART',base:'riv/base/single',modules:{legend:{feeds:[],configure:{'description':'The measure based coloring legend is a bar containing segments with different colors and a value scale on side to indicate the relationship between the values and colors in the chart. ',properties:{type:'MeasureBasedColoringLegend'},propertiesOverride:{isHierarchical:{isExported:false}}}},tooltip:{id:'sap.viz.modules.tooltip',configure:{propertyCategory:'tooltip',properties:{chartType:'tagcloud',orientation:'bottom'}}},main:{modules:{plot:{id:'sap.viz.modules.tagcloud',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}},controllers:{'interaction':{id:'sap.viz.modules.controller.interaction',configure:{propertyCategory:'interaction',properties:{supportedEventNames:['mouseup','mouseover','mouseout','touchstart']}}}}}},dependencies:{attributes:[{targetModule:'legend',target:'mbcLegendInfo',sourceModule:'main.plot',source:'mbcLegendInfo'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:'main.interaction',listener:'registerEvent',sourceModule:'main.plot',type:'initialized.interaction'},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:'tooltip',listener:'showTooltip',sourceModule:'main.plot',type:'showTooltip'},{targetModule:'tooltip',listener:'hideTooltip',sourceModule:'main.plot',type:'hideTooltip'}]}};M.register(c)});sap.riv.module({qname:'sap.viz.manifests.RadarChart',version:'4.0.0'},[{qname:'sap.viz.manifests.Viz',version:'4.0.0'},{qname:'sap.viz.manifests.BaseSingleChart',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Radar',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Tooltip',version:'4.0.0'},{qname:'sap.viz.modules.manifests.Background',version:'4.0.0'}],function Setup(M){var c={id:'viz/radar',name:'IDS_RADARCHART',base:"riv/base/single",modules:{legend:{id:"sap.viz.modules.legend",data:{aa:[2,3]}},tooltip:{id:"sap.viz.modules.tooltip",configure:{propertyCategory:'tooltip',properties:{chartType:"radar",orientation:"left"}}},main:{id:'sap.viz.modules.xycontainer',controllers:{interaction:{id:"sap.viz.modules.controller.interaction",configure:{propertyCategory:"interaction",properties:{supportedEventNames:["mousemove","mouseup","touchstart"]}}}},modules:{plot:{id:'sap.viz.modules.radar',configure:{'description':'Settings regarding the chart area and plot area as well as general chart options.',propertyCategory:'plotArea'}}}}},dependencies:{attributes:[{targetModule:"legend",target:"colorPalette",sourceModule:"main.plot",source:"colorPalette"},{targetModule:'legend',target:'shapes',sourceModule:'main.plot',source:'shapes'},{targetModule:'legend',target:'setSelectionMode',sourceModule:'main.interaction',source:'getSelectionMode'}],events:[{targetModule:"main.interaction",listener:"registerEvent",sourceModule:"main.plot",type:"initialized.interaction"},{targetModule:'main.interaction',listener:'highlightedByLegend',sourceModule:'legend',type:'highlightedByLegend'},{targetModule:'legend',listener:'deselectLegend',sourceModule:'main.interaction',type:'deselectLegend'},{targetModule:"tooltip",listener:"showTooltip",sourceModule:"main.plot",type:"showTooltip"},{targetModule:"tooltip",listener:"hideTooltip",sourceModule:"main.plot",type:"hideTooltip"}]}};M.register(c)});sap.riv.module({qname:'sap.viz.load',version:'4.0.0'},[{qname:'sap.viz.manifests.RadarChart',version:'4.0.0'},{qname:'sap.viz.manifests.TagCloudChart',version:'4.0.0'},{qname:'sap.viz.manifests.HeatMapChart',version:'4.0.0'},{qname:'sap.viz.manifests.scatter.BubbleChart',version:'4.0.0'},{qname:'sap.viz.manifests.scatter.ScatterChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiScatterChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiBubbleChart',version:'4.0.0'},{qname:'sap.viz.manifests.ScatterMatrixChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiLineChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiHorizontalLineChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDualLineChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDualHorizontalLineChart',version:'4.0.0'},{qname:'sap.viz.manifests.pie.DonutChart',version:'4.0.0'},{qname:'sap.viz.manifests.pie.PieChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiPieChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDonutChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.PercentageStackedVerticalBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.PercentageStackedBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.StackedVerticalBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.StackedBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.DualStackedBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.DualStackedVerticalBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.DualPercentageStackedBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.DualPercentageStackedVerticalBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.DualVerticalBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.DualBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.VerticalBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BarChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseVerticalChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.BaseHorizontalChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.HorizontalWaterfallChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.WaterfallChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.DualHorizontalLineChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.HorizontalLineChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.DualLineChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.LineChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.CombinationChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.DualCombinationChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.HorizontalCombinationChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.DualHorizontalCombinationChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.VerticalBoxplotChart',version:'4.0.0'},{qname:'sap.viz.manifests.xy.HorizontalBoxplotChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiRadarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiVerticalBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDualVerticalBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDualBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiStackedBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiStackedVerticalBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDualStackedBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDualStackedVerticalBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiPercentageStackedBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiPercentageStackedVerticalBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDualPercentageStackedBarChart',version:'4.0.0'},{qname:'sap.viz.manifests.MultiDualPercentageStackedVerticalBarChart',version:'4.0.0'}],function Setup(){return});sap.riv.module({qname:'sap.viz.mvc.VizAppDelegate',version:'4.0.0'},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.mvc.ThemeManager',version:'4.0.0'}],function Setup(F,T){var V=function(){this._publicMethodsRegistry={};this._application};var v=V.prototype;v._afterLaunched=function(a,l){this._application=a;this.appDidFinishLaunching(a,l);var r=this.rootController();r._setApplication_(this._application);this._application._setRootController(r)};v.appDidFinishLaunching=F.noop;v.rootController=F.unimplemented;v.registerPublicMethod=function(m,f){this._publicMethodsRegistry[m]=f};v._invokePublicMethod=function(p,o){if(this._publicMethodsRegistry.hasOwnProperty(p)){this._publicMethodsRegistry[p].call(this,o)}};v._currentTheme=function(){return this._theme};v._applyTheme=function(t){if(this._theme!==t){this.rootController().doThemeApplied(t)}};v._updateThemeSetting=function(t,k,o,n){if(this._theme===t){this.rootController().doThemeUpdated(k,o,n)}};v.getProperties=function(){return{}};v.updateProperties=F.noop;v.setDataset=F.noop;v.getDataset=F.noop;v.getPreloadAssets=function(){return[]};v.getSupportedEvents=function(){return[]};v.getSupportedMethods=function(){var r=[];for(var p in this._publicMethodsRegistry){r.push(p)}return r};return V});sap.riv.module({qname:'sap.viz.mvc.UIComponent',version:'4.0.0'},[{qname:'sap.viz.base.Observable',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.LinkedHashMap',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(O,a,L,F){var $=jQuery;if(!$){F.error('Cannot find jQuery')}var b={None:0,FlexibleLeftMargin:1<<0,FlexibleWidth:1<<1,FlexibleRightMargin:1<<2,FlexibleTopMargin:1<<3,FlexibleHeight:1<<4,FlexibleBottomMargin:1<<5};var c=0;var d=function(){return c++};var U=a.derive(O,{events:['widthChanged','heightChanged','sizeChanged','positionChanged','anchorChanged','beforeShow','afterShow','beforeHide','afterHide','focusin','focusout','focus','blur','mousedown','mouseup','mouseenter','mouseleave','mousemove','click','dblclick','touchstart','touchmove','touchend','touchcancel'],constructor:function(o){o=o||{};var _=d();this._id=o.id?o.id+'_'+_:_;this._attached=false;this._container=undefined;this._superComp=undefined;this._subComps=new L();this._hidden=false;this._clipToBound=true;this._parentVisible=false;this._printable=true;this._autoresizeSubComponents=true;this._autoresizingMask=b.None;this._gestureDetectors=[];this._bounds={x:0,y:0,width:1,height:1};this._position={x:0,y:0};this._anchorPoint={x:0.5,y:0.5};this._init_(o)},_init_:function(o){this._container=$(document.createElement('div')).attr('id',this._id).css('position','absolute').css({'font-size':'10px','box-sizing':'border-box','-moz-box-sizing':'border-box','-ms-box-sizing':'border-box','-webkit-box-sizing':'border-box'}).data('selfComp',this);if(o.clipToBound===false){this._container.css('overflow','visible');this._clipToBound=false}else{this._container.css('overflow','hidden')}if(o.hidden===true){this._container.css('display','none');this._hidden=true}if(o.autoSizingMask!=undefined){this._autoresizingMask=o.autoSizingMask}if(o.anchor){this._anchorPoint.x=o.anchor.x;this._anchorPoint.y=o.anchor.y;delete o.anchor}if(o.position){this._position.x=o.position.x;this._position.y=o.position.y;this._container.css('left',this._position.x-this._anchorPoint.x*this._bounds.width);this._container.css('top',this._position.y-this._anchorPoint.y*this._bounds.height);delete o.position}if(o.size){this._bounds.width=o.size.w;this._bounds.height=o.size.h;this._container.width(this._bounds.width);this._container.height(this._bounds.height);delete o.size}this._registerMandatoryHandler()},_registerMandatoryHandler:function(){this.on([{eventName:'sizeChanged',listener:this._updateContainerSize,scope:this},{eventName:'heightChanged',listener:this._updateContainerHeight,scope:this},{eventName:'widthChanged',listener:this._updateContainerWidth,scope:this},{eventName:'positionChanged',listener:this._updateContainerPos,scope:this},{eventName:'anchorChanged',listener:this._updateContainerAnchor,scope:this}])},_updateContainerSize:function(o,n){this._container.width(n.width);this._container.height(n.height);if(this._anchorPoint.x!==0||this._anchorPoint.y!==0){this._container.css('left',this._position.x-this._anchorPoint.x*n.width);this._container.css('top',this._position.y-this._anchorPoint.y*n.height)}this.doContentResize(o,n);this._layout(o,n)},_updateContainerWidth:function(o,n){this._container.width(n);if(this._anchorPoint.x!==0||this._anchorPoint.y!==0){this._container.css('left',this._position.x-this._anchorPoint.x*n)}var e={height:this._bounds.height,width:o},f={height:this._bounds.height,width:n};this.doContentResize(e,f);this._layout(e,f)},_updateContainerHeight:function(o,n){this._container.height(n);if(this._anchorPoint.x!==0||this._anchorPoint.y!==0){this._container.css('top',this._position.y-this._anchorPoint.y*n)}var e={height:o,width:this._bounds.width},f={height:n,width:this._bounds.width};this.doContentResize(e,f);this._layout(e,f)},_updateContainerPos:function(o,n){this._container.css('left',n.x-this._anchorPoint.x*this._bounds.width);this._container.css('top',n.y-this._anchorPoint.y*this._bounds.height)},_updateContainerAnchor:function(o,n){this._container.css('left',this._position.x-n.x*this._bounds.width);this._container.css('top',this._position.y-n.y*this._bounds.height)},_markAttached_:function(){this._attached=true;var s=this._subComps.getIterator();while(s.hasMore()){s.next().value._markAttached_()}this._handleSubCompShow(this)},_markDetached_:function(){this._attached=false;var s=this._subComps.getIterator();while(s.hasMore()){s.next().value._markDetached_()}},id:function(){return this._id},markHide:function(){if(this._hidden===false){if(this._attached&&this._parentVisible){this.doBeforeHide();this.fireEvent('beforeHide')}this._hidden=true;this._container.css('display','none');if(this._attached&&this._parentVisible){this.doAfterHide();this.fireEvent('afterHide');var s=this._subComps.getIterator();while(s.hasMore()){this._handleSubCompHide(s.next().value)}}}return this},_handleSubCompHide:function(e){if(e._parentVisible&&!e._hidden){e.doBeforeHide();e.fireEvent('beforeHide');e.doAfterHide();e.fireEvent('afterHide')}e._parentVisible=false;var s=e._subComps.getIterator();while(s.hasMore()){e._handleSubCompHide(s.next().value)}},markShow:function(){if(this._hidden===true){if(this._attached&&this._parentVisible){this.doBeforeShow();this.fireEvent('beforeShow')}this._hidden=false;this._container.css('display','block');if(this._attached&&this._parentVisible){this.doAfterShow();this.fireEvent('afterShow');var s=this._subComps.getIterator();while(s.hasMore()){this._handleSubCompShow(s.next().value)}}}return this},_handleSubCompShow:function(e){var s=e.superComponent();e._parentVisible=!s._hidden&&s._parentVisible;if(e._parentVisible&&!e._hidden){e.doBeforeShow();e.fireEvent('beforeShow');e.doAfterShow();e.fireEvent('afterShow')}var f=e._subComps.getIterator();while(f.hasMore()){e._handleSubCompShow(f.next().value)}},clipToBound:function(e){if(e!==undefined){if(this._clipToBound!==e){this._clipToBound=e;if(this._clipToBound){this._container.css('overflow','hidden')}else{this._container.css('overflow','visible')}}return this}else{return this._clipToBound}},visibility:function(){return!this._hidden&&this._attached&&this._parentVisible},printable:function(p){if(p!==undefined){if(this._printable!==p){this._printable=p}return this}else{return this._printable}},autoresizeSubComponents:function(e){if(e!==undefined){if(this._autoresizeSubComponents!==e){this._autoresizeSubComponents=e}return this}else{return this._autoresizeSubComponents}},autoresizingMask:function(m){if(m!==undefined){if(this._autoresizingMask!==m){this._autoresizingMask=m}return this}else{return this._autoresizingMask}},bounds:function(e){if(e){var o=this._bounds,n=e;this._bounds.x=n.x;this._bounds.y=n.y;if(o.width!==n.width||o.height!==n.height){var f={width:o.width,height:o.height};var g={width:n.width,height:n.height};this._bounds.width=n.width;this._bounds.height=n.height;this.fireEvent('sizeChanged',f,g)}return this}else{return a.extend({},this._bounds)}},pagePosition:function(){var o=this._container.offset();return{x:o.left,y:o.top}},position:function(p){if(p){var e=this._position,f=p;if(e.x!==f.x||e.y!==f.y){var o={x:e.x,y:e.y};var n={x:f.x,y:f.y};e.x=f.x;e.y=f.y;this.fireEvent('positionChanged',o,n)}return this}else{return a.extend({},this._position)}},size:function(s){if(s){var o={width:this._bounds.width,height:this._bounds.height};if(o.width!==s.width||o.height!==s.height){this._bounds.width=s.width;this._bounds.height=s.height;this.fireEvent('sizeChanged',o,s)}return this}else{return{width:this._bounds.width,height:this._bounds.height}}},width:function(w){if(w){var o=this._bounds.width;if(o!==w){this._bounds.width=w;this.fireEvent('widthChanged',o,w)}return this}else{return this._bounds.width}},height:function(h){if(h){var o=this._bounds.height;if(o!==h){this._bounds.height=h;this.fireEvent('heightChanged',o,h)}return this}else{return this._bounds.height}},anchorPoint:function(e){if(e){var f=this._anchorPoint,g=e;if(f.x!==g.x||f.y!==g.y){var o={x:f.x,y:f.y};var n={x:g.x,y:g.y};f.x=g.x;f.y=g.y;this.fireEvent('anchorChanged',o,n)}return this}else{return a.extend({},this._anchorPoint)}},frame:function(r){if(r){var e=this._bounds,f=this._position;var g=r.x+r.width*this._anchorPoint.x;var h=r.y+r.height*this._anchorPoint.y;var p=false,o=undefined,n=undefined,s=false,i={width:e.width,height:e.height};ns={width:r.width,height:r.height};if(e.width!==r.width||e.height!==r.height){e.width=r.width;e.height=r.height;s=true}if(f.x!==g||f.y!==h){o={x:f.x,y:f.y};n={x:g,y:h};f.x=g;f.y=h;p=true}if(p){this.fireEvent('positionChanged',o,n)}if(s||(i.width===5&&i.height===5)){this.fireEvent('sizeChanged',i,ns)}return this}else{return{x:this._position.x-this._anchorPoint.x*this._bounds.width,y:this._position.y-this._anchorPoint.y*this._bounds.height,width:this._bounds.width,height:this._bounds.height}}},superComponent:function(){return this._superComp},subComponents:function(){return this._subComps},addSubComponent:function(s){if(s){if(s._superComp===undefined){s._superComp=this;this._subComps.add(s.id(),s);this._container.append(s._container);if(this._attached){s._markAttached_()}return this}else{throw new Error('The component already has a parent component')}}},detachFromSuperComponent:function(){if(this._superComp){if(this._superComp._attached){this._superComp._handleSubCompHide(this);this._markDetached_()}this._superComp._subComps.remove(this.id());this._container.detach();this._superComp=undefined}},removeFromSuperComponent:function(){if(this._superComp){this._superComp._subComps.remove(this.id());this._container.remove();if(this._superComp._attached)this._markDetached_();this._superComp=undefined}},insertBeforeSubComponent:function(s,e){if(s&&e){if(s._superComp===undefined){var n=s.id();var f=e.id();if(this._subComps.has(f)&&n!==f){s._superComp=this;this._subComps.insertBefore(n,s,f);s._container.before(e._container);if(this._attached){s._markAttached_()}}}else{throw new Error('The component already has a parent component')}}},insertAfterSubComponent:function(s,e){if(s&&e){if(s._superComp===undefined){var n=s.id();var f=e.id();if(this._subComps.has(f)&&n!==f){s._superComp=this;this._subComps.insertAfter(n,s,f);s._container.after(e._container);if(this._attached){s._markAttached_()}}}else{throw new Error('The component already has a parent component')}}},bringToFront:function(s){if(s&&this._subComps.has(s.id())&&this._subComps.getLastInsert().id()!==s.id()){this._subComps.moveToLast(s.id());s._container.detach();this._container.append(s._container)}},sendToBack:function(s){if(s&&this._subComps.has(s.id())&&this._subComps.getFirstInsert().id()!==s.id()){this._subComps.moveToFirst(s.id());s._container.detach();this._container.prepend(s._container)}},convertPointFromSuper:function(p){var f=this.frame();return{x:p.x-f.x,y:p.y-f.y}},convertPointToSuper:function(p){var f=this.frame();return{x:p.x+f.x,y:p.y+f.y}},convertPointFromGlobal:function(g){var p=[this];var e=this;var f=g;while(e._superComp){p.push(e._superComp);e=e._superComp}while(p.length){e=p.pop();f=e.convertPointFromSuper(f)}return f},convertPointToGlobal:function(p){var e=this;var f=p;while(e){f=e.convertPointToSuper(f);e=e._superComp}return f},convertPointFromComp:function(p,s){return this.convertPointFromGlobal(s.convertPointToGlobal(p))},convertPointToComp:function(p,t){return t.convertPointFromGlobal(this.convertPointToGlobal(p))},_resizeSubComp:function(s,o,n){var e=s.frame();var x=e.x,y=e.y,w=e.width,h=e.height;var m=x,f=o.width-x-w,g=y,i=o.height-y-h;var j=n.width-o.width,k=n.height-o.height;var l=s._autoresizingMask;var p=b.FlexibleLeftMargin|b.FlexibleWidth|b.FlexibleRightMargin;var v=b.FlexibleTopMargin|b.FlexibleHeight|b.FlexibleBottomMargin;switch(l&p){case b.None:if(m!==0){x+=j*m/(m+f)}break;case b.FlexibleLeftMargin:x+=j;break;case b.FlexibleLeftMargin|b.FlexibleRightMargin:case b.FlexibleRightMargin:break;case b.FlexibleWidth:w+=j;break;case b.FlexibleLeftMargin|b.FlexibleWidth:if(w!==0){x+=j*m/(m+w);w+=j*w/(m+w)}break;case b.FlexibleRightMargin|b.FlexibleWidth:if(w!==0){w+=j*w/(f+w)}break;case b.FlexibleLeftMargin|b.FlexibleWidth|b.FlexibleRightMargin:if(o.width!==0){var r=j/o.width;x+=x*r;w+=w*r}break}switch(l&v){case b.None:if(g!==0){y+=k*g/(g+i)}break;case b.FlexibleTopMargin:y+=k;break;case b.FlexibleTopMargin|b.FlexibleBottomMargin:case b.FlexibleBottomMargin:break;case b.FlexibleHeight:h+=k;break;case b.FlexibleTopMargin|b.FlexibleHeight:if(h!==0){y+=k*g/(g+h);h+=k*h/(g+h)}break;case b.FlexibleBottomMargin|b.FlexibleHeight:if(h!=0){h+=k*h/(i+h)}break;case b.FlexibleTopMargin|b.FlexibleHeight|b.FlexibleBottomMargin:if(o.height){var r=k/o.height;y+=y*r;h+=h*r}break}return{x:x,y:y,height:h,width:w}},_layout:function(o,n){if(this._autoresizeSubComponents){var s=this._subComps.getIterator();var e,f;while(s.hasMore()){e=s.next().value;f=this._resizeSubComp(e,o,n);e.frame(f)}}else if(this.doLayout!=F.noop&&this.doLayout!==undefined){this.doLayout()}},_fireEvent_:function(e){this.fireEvent(e.type(),e);if(this._superComp&&e.shouldBubble()){e._setCurrentTarget_(this._superComp);this._superComp._fireEvent_(e)}},_fireMouseEvent_:function(e){this.fireEvent(e.type(),e);if(this._superComp&&e.shouldBubble()){e._setCurrentTarget_(this._superComp);e._setCurrentLocalXY_({x:e.currentLocalXY().x+this._position.x-this._anchorPoint.x*this._bounds.width,y:e.currentLocalXY().y+this._position.y-this._anchorPoint.y*this._bounds.height});this._superComp._fireMouseEvent_(e)}},_fireTouchEvent_:function(e){this.fireEvent(e.type(),e);if(this._superComp&&e.shouldBubble()){e._setCurrentTarget_(this._superComp);this._superComp._fireTouchEvent_(e)}},purgeListeners:function(){this.callParent('purgeListeners');this._registerMandatoryHandler()},removeAllListeners:function(e){this.callParent('removeAllListeners',e);switch(e){case'sizeChanged':this.on({eventName:'sizeChanged',listener:this._updateContainerSize,scope:this});break;case'heightChanged':this.on({eventName:'heightChanged',listener:this._updateContainerHeight,scope:this});break;case'widthChanged':this.on({eventName:'widthChanged',listener:this._updateContainerWidth,scope:this});break;case'positionChanged':this.on({eventName:'positionChanged',listener:this._updateContainerPos,scope:this});break;case'anchorChanged':this.on({eventName:'anchorChanged',listener:this._updateContainerAnchor,scope:this});break}},addGestureDetector:function(e){if(e!==undefined){e._setOwnerComp_(this);this._gestureDetectors.push(e)}},removeGestureDetector:function(e){for(var i=0,l=this._gestureDetectors.length;i<l;i++){if(this._gestureDetectors[i]===e){this._gestureDetectors.splice(i,1);e._setOwnerComp_(undefined);l--}}},hitTest:function(l){var p=[{comp:this,pointInLocal:l,subCompsItr:this._subComps.getIterator(true)}];var e,f,g,s;while(p.length){e=p[p.length-1];g=e.comp;f=e.pointInLocal;s=e.subCompsItr;if(g.visibility()){if(s.hasMore()){var h=s.next().value;p.push({comp:h,pointInLocal:h.convertPointFromSuper(f),subCompsItr:h._subComps.getIterator(true)});continue}else if(g.containsPoint(f)){return g}p.pop()}else{p.pop()}}},containsPoint:function(l){var e=this.bounds();return l.x>=e.x&&l.x<=(e.x+e.width)&&l.y>=e.y&&l.y<=(e.y+e.height)},printTo:function(e){e.clearRect(0,0,this._bounds.width,this._bounds.height);this.doPrint(e)},doLayout:F.noop,doContentResize:F.noop,doPrint:F.noop,doBeforeHide:F.noop,doAfterHide:F.noop,doBeforeShow:F.noop,doAfterShow:F.noop});U.Autosizing=b;return U});sap.riv.module({qname:'sap.viz.base.Math',version:'4.0.0'},[{qname:'sap.viz.base.UADetector',version:'4.0.0'}],function Setup(U){var O={PI:Math.PI,E:Math.E,LN10:Math.LN10,LN2:Math.LN2,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,abs:(function(){if(U.isSafari()||(U.isIE()&&parseFloat(U.version())<9)){return function(n){return n<0?-n:n}}else{return Math.abs}})(),acos:(function(){return Math.acos})(),asin:(function(){return Math.asin})(),atan:(function(){return Math.atan})(),atan2:(function(){return Math.atan2})(),ceil:(function(){return Math.ceil})(),cos:(function(){return Math.cos})(),exp:(function(){return Math.exp})(),floor:(function(){return Math.floor})(),log:(function(){return Math.log})(),max:(function(){return Math.max})(),min:(function(){return Math.min})(),pow:(function(){return Math.pow})(),random:(function(){return Math.random})(),round:(function(){return Math.round})(),sin:(function(){return Math.sin})(),sqrt:(function(){return Math.sqrt})(),tan:(function(){return Math.tan})()};return O});sap.riv.module({qname:'sap.viz.mvc.Event',version:'4.0.0'},[],function Setup(){var E=function(t,b,c){this._type=t;this._target=this._currentTarget=b;this._canBubbling=c!==undefined?c:true;this._timestamp=+new Date};var a=E.prototype;a._setCurrentTarget_=function(c){this._currentTarget=c};a.type=function(){return this._type};a.timestamp=function(){return this._timestamp};a.target=function(){return this._target};a.currentTarget=function(){return this._currentTarget};a.isInBubbling=function(){return this._target.id()!=this._currentTarget.id()};a.shouldBubble=function(){return this._canBubbling};a.stopPropagation=function(){this._canBubbling=false};return E});sap.riv.module({qname:'sap.viz.mvc.TouchEvent',version:'4.0.0'},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.mvc.Event',version:'4.0.0'}],function Setup(F,O,E){var $=jQuery;if(!$){F.error('Cannot find jQuery')}var T=function(i,g,l,p){this._id=i;this._target=g;this._localXY=l;this._pageXY=p};var t=T.prototype;t.identifier=function(){return this._id};t.target=function(){return this._target};t.localXY=function(){return{x:this._localXY.x,y:this._localXY.y}};t.pageXY=function(){return{x:this._pageXY.x,y:this._pageXY.y}};var a=function(g,h){this.tA=g,this.tM=h};var b=a.prototype;b.length=function(){return this.tA.length};b.item=function(i){if(i>=0&&(i<this.tA.length)){return this.tA[i]}};b.identifiedTouch=function(i){if(i){return this.tM[i]}};var c=O.derive(E,{constructor:function(g,h,i,j,k,l){this._relatedTarget=undefined;this._touches=j;this._targetTouches=k;this._changedTouches=l},touches:function(){return this._touches},targetTouches:function(){return this._targetTouches},changedTouches:function(){return this._changedTouches}});var _=function(g){var h=[],j={};for(var i=0,k,l,m=g.length;i<m;i++){k=e(g.item(i));if(k){l=f(g.item(i),k);h.push(l);j[l.identifier()]=l}}return new a(h,j)};var d=function(g){var h=[],j={};for(var i=0,k,l,m=g.length;i<m;i++){k=e(g[i]);if(k){l=f(g[i],k);h.push(l);j[l.identifier()]=l}}return new a(h,j)};var e=function(g){var h=$(g.target);while(h.length&&!h.data('selfComp')){h=h.parent()}return h.data('selfComp')};var f=function(g,h){var i=h.pagePosition();var l={x:g.pageX-i.x,y:g.pageY-i.y};return new T(g.identifier,h,l,{x:g.pageX,y:g.pageY})};c.buildFrom3TouchArray=function(g,h,i,j,k,l){var m=d(i);var n=d(k);var o=d(j);return new c(g,h,l,m,n,o)};c.buildFromDomTouchEvent=function(g,h,i,j){var k=_(i.touches);var l=_(i.targetTouches);var m=_(i.changedTouches);return new c(g,h,j,k,l,m)};return c});sap.riv.module({qname:'sap.viz.mvc.MouseEvent',version:'4.0.0'},[{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.mvc.Event',version:'4.0.0'}],function Setup(O,E){var M=O.derive(E,{constructor:function(t,a,c,l,p){this._relatedTarget=undefined;this._currentLocalXY=this._targetLocalXY=l;this._pageXY=p},_setCurrentLocalXY_:function(c){this._currentLocalXY=c},_setRelatedTarget_:function(r){this._relatedTarget=r},targetLocalXY:function(){return{x:this._targetLocalXY.x,y:this._targetLocalXY.y}},currentLocalXY:function(){return{x:this._currentLocalXY.x,y:this._currentLocalXY.y}},pageXY:function(){return{x:this._pageXY.x,y:this._pageXY.y}}});return M});sap.riv.module({qname:'sap.viz.base.utils.DomWatcher',version:'4.0.0'},[{qname:'sap.viz.base.UADetector',version:'4.0.0'},{qname:'sap.viz.base.utils.LinkedHashMap',version:'4.0.0'}],function Setup(U,L){var w=0;var d=1;var n=function(){return w++};var a=function(){return d++};var b=function(e){for(var i in e){if(e.hasOwnProperty(i))return false}return true};var c=function(e,i){var v=null;if(window.getComputedStyle){v=window.getComputedStyle(e,null)[i]}else if(e.currentStyle){v=e.currentStyle[i]}return v};var f=function(e,v){if(!this._data)this._data={};if(arguments.length===2){this._data[e]=v}else return this._data[e]};var g=new L();var h=function(e){var i;var l=e.srcElement||e.target;var d=f.call(l,'domId');if(!d)return;var q=g.get(d).getIterator();while(q.hasMore()){i=q.nextValue();i.checkChange()}};var j=function(i){var e=t.get(i);var l=e.domElem;var d=f.call(l,'domId');if(!d){d=a();f.call(l,'domId',d);g.add(d,new L())}g.get(d).add(e.id,e);if(!f.call(l,'eventHandler')){if(typeof(l.onpropertychange)=="object"){l.attachEvent("onpropertychange",h)}else if(U.isFirefox()&&parseFloat(U.version())>3.6){l.addEventListener("DOMAttrModified",h)}f.call(l,'eventHandler',h)}};var r=function(e){var i=e.domElem;var d=f.call(i,'domId');if(!d)return;if(g.get(d).has(e.id))g.get(d).remove(e.id);if(g.get(d).isEmpty()){var h=f.call(i,'eventHandler');if(typeof(i.onpropertychange)=="object"){i.detachEvent("onpropertychange",h)}else if(U.isFirefox()&&parseFloat(U.version())>3.6){i.removeEventListener("DOMAttrModified",h)}f.call(i,'eventHandler',null)}};var s=undefined;var t=new L();var k=function(){var e=t.getIterator();var i;while(e.hasMore()){i=e.nextValue();i.checkChange()}};var m=function(e){if(!s)s=setInterval(k,100);if(!t.has(e.id))t.add(e.id,e)};var o=function(i){if(t.has(i)){t.remove(i)}if(t.isEmpty()){clearInterval(s);s=undefined}};var p=function(e){var i=e.domElem;if(typeof(i.onpropertychange)=="object"||(U.isFirefox()&&parseFloat(U.version())>3.6)){j(e.id)}else{m(e)}};var _=function(e){var q=t.get(e);if(!q)return;var u=q.domElem;if(!q.callback)return;var v=false;var i=0;var x=[];for(var l=q.cssProps.length;i<l;i++){var y=c(u,q.cssProps[i]);if(q.lastestVals[i]!=y){q.lastestVals[i]=y;v=true;x.push(q.cssProps[i])}}if(v)q.callback(x)};var D={watch:function(e,l,q){var u=n();var v=function(){_(u)};var x={id:u,domElem:e,cssProps:l.split(","),lastestVals:[l.split(",").length],callback:q,checkChange:v};for(var i=0,y=x.cssProps.length;i<y;i++){x.lastestVals[i]=c(e,x.cssProps[i])}if(!t.has(x.id))t.add(x.id,x);p(x);return u},unwatch:function(i){var l=t.get(i);var q=l.domElem;try{if(typeof(q.onpropertychange)=="object"||(U.isFirefox()&&parseFloat(U.version())>3.6)){r(l)}else o(l.id)}catch(e){}}};return(D)});sap.riv.module({qname:'sap.viz.mvc.GestureDetector',version:'4.0.0'},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(F){var a={Possible:0,Began:1,Changed:2,Recognized:3,Ended:3,Cancelled:4,Failed:5};var G=function(){this._grOwnerComp;this._grEnabled=true;this._grTouchTotal=0;this._grTouchTracker={};this._grState=a.Possible;this._grActions=[];this._grCancelTouches=true};var g=G.prototype;g._setOwnerComp_=function(o){this._grOwnerComp=o};g.attachedComponent=function(){return this._grOwnerComp};g.addGestureAction=function(b){var c=false;for(var i=0,l=this._grActions.length;i<l;i++){if(this._grActions[i]===b){c=true;break}}if(!c){this._grActions.push(b)}return!c};g.removeGestureAction=function(b){var f=false;for(var i=0,l=this._grActions.length;i<l;i++){if(this._grActions[i]===b){f=true;this._grActions.splice(i,1);break}}return f};g.globalLocOfGesture=function(){var s=this.state();if(this._grEnabled&&(s===a.Began||s===a.Changed||s===a.Cancelled||s===a.Ended||s===a.Recognized)){var c=0;var t=this._grTouchTracker,b;var x=y=0;for(var d in t){b=t[d].globalXY;x+=b.x;y+=b.y;c++}if(c){return{x:x/c,y:y/c}}}else{return}};g.involvedTouchePoints=function(){var r=[];var s=this.state();if(this._grEnabled&&(s===a.Began||s===a.Cancelled||s===a.Ended||s===a.Recognized)){var t=this._grTouchTracker;for(var b in t){r.push(b)}}return r};g.globalLocOfTouchPoints=function(){var c=0;var t=this._grTouchTracker,b;var x=y=0;for(var d in t){b=t[d].globalXY;x+=b.x;y+=b.y;c++}if(c){return{x:x/c,y:y/c}}};g.totalTouches=function(){return this._grTouchTotal};g.cancelTouches=function(c){if(c!==undefined){this._grCancelTouches=c;return this}else{return this._grCancelTouches}};g.enable=function(e){if(e!==undefined){this._grEnabled=e;if(!e){if(this._grState===a.Began||this._grState===a.Cancelled){this.state(a.Cancelled)}else{this.state(a.Failed)}}}else{return this._grEnabled}};g.touchBegin=function(b){var n=b.changedTouches;var c=this._grTouchTracker;var o=this._grOwnerComp;var p=o.pagePosition();for(var i=0,t,l=n.length;i<l;i++){t=n.item(i);c[t.identifier]={globalXY:o.convertPointToGlobal({x:t.pageX-p.x,y:t.pageY-p.y})};this._grTouchTotal++}if(this._grEnabled&&(this._grState===a.Possible||this._grState===a.Began||this._grState===a.Changed)){this.doTouchBegin(b)}};g.touchMove=function(b){if(this._grEnabled&&(this._grState===a.Possible||this._grState===a.Began||this._grState===a.Changed)){var m=b.changedTouches;var o=this._grOwnerComp;var p=o.pagePosition();var c=this._grTouchTracker;for(var i=0,t,l=m.length;i<l;i++){t=m.item(i);if(c[t.identifier]){c[t.identifier].globalXY=o.convertPointToGlobal({x:t.pageX-p.x,y:t.pageY-p.y})}}this.doTouchMove(b)}};g.touchEnd=function(b){var e=b.changedTouches;var c=this._grTouchTracker;var o=this._grOwnerComp;var p=o.pagePosition();for(var i=0,t,d,f,l=e.length;i<l;i++){t=e.item(i);d=t.identifier;f=c[d];if(f){f.globalXY=o.convertPointToGlobal({x:t.pageX-p.x,y:t.pageY-p.y});this._grTouchTotal--}}if(this._grEnabled&&(this._grState===a.Possible||this._grState===a.Began||this._grState===a.Changed)){this.doTouchEnd(b)}if(!this._grTouchTotal&&(this._grState===a.Recognized||this._grState===a.Failed||this._grState===a.Cancelled)){this.reset()}};g.touchCancel=function(b){var c=b.changedTouches;var d=this._grTouchTracker;var o=this._grOwnerComp;var p=o.pagePosition();for(var i=0,t,e,f,l=c.length;i<l;i++){t=c.item(i);e=t.identifier;f=d[e];if(f){f.globalXY=o.convertPointToGlobal({x:t.pageX-p.x,y:t.pageY-p.y});this._grTouchTotal--}}if(this._grEnabled&&(this._grState===a.Possible||this._grState===a.Began||this._grState===a.Changed)){this.doTouchCancel(b)}if(!this._grTouchTotal&&(this._grState===a.Recognized||this._grState===a.Failed||this._grState===a.Cancelled)){this.reset()}};g.doTouchBegin=F.noop;g.doTouchMove=F.noop;g.doTouchEnd=F.noop;g.doTouchCancel=F.noop;g.reset=function(){this._grState=a.Possible;this._grTouchTracker={}};g.state=function(t){return this._grState};g._setState_=function(t){switch(t){case a.Possible:break;case a.Began:this._grState=a.Began;for(var i=0,b=this._grActions,l=b.length;i<l;i++){b[i](this)}break;case a.Changed:if(this._grState===a.Began){this._grState=a.Changed}for(var i=0,b=this._grActions,l=b.length;i<l;i++){b[i](this)}break;case a.Cancelled:this._grState=a.Cancelled;for(var i=0,b=this._grActions,l=b.length;i<l;i++){b[i](this)}break;case a.Failed:this._grState=a.Failed;break;case a.Ended:case a.Recognized:this._grState=t;for(var i=0,b=this._grActions,l=b.length;i<l;i++){b[i](this)}break}};G.TransitionState=a;return G});sap.riv.module({qname:'sap.viz.mvc.VizFrame',version:'4.0.0'},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.mvc.UIComponent',version:'4.0.0'},{qname:'sap.viz.mvc.GestureDetector',version:'4.0.0'},{qname:'sap.viz.base.utils.DomWatcher',version:'4.0.0'},{qname:'sap.viz.mvc.Event',version:'4.0.0'},{qname:'sap.viz.mvc.MouseEvent',version:'4.0.0'},{qname:'sap.viz.mvc.TouchEvent',version:'4.0.0'},{qname:'sap.viz.base.Math',version:'4.0.0'}],function Setup(F,O,U,G,D,E,M,T,a){var $=jQuery;if(!$){FuncUtils.error('Cannot find jQuery')}var b=function(n){var c=undefined;do{if(n.nodeName=='BODY'){c=n;break}else{n=n.parentNode}}while(n);return c};var s=function(v){var h=v._holder;if(h.css('position')=="static"||h.css('position')=="fix"){var p=h.position();v.frame({x:p.left,y:p.top,width:h.width(),height:h.height()})}else{v.frame({x:0,y:0,width:h.width(),height:h.height()})}};var f=function(c){for(var i=0,l=c.length;i<l;i++){if(c[i]==="position"){s(this);break}}};var g=function(e){var d=$(e.target);while(!d.data('selfComp')){if(!d.length)break;d=d.parent()}return d.data('selfComp')};var t=G.TransitionState;var V=O.derive(U,{constructor:function(o){if(o.container){this._holder=$(o.container);if(!b(this._holder.get(0))){F.error('The holder DIV must be a child of Body element.')}if(this._holder.css('display')==='none'){this.markHide()}this.clipToBound(false);this._regDOMEventHandlers();this._holder.append(this._container);this.anchorPoint({x:0,y:0});s(this);D.watch(this._holder.get(0),"position",O.proxy(f,this));this._parentVisible=true;this._attached=true;this._msTracking=[];this._touchSeqTracking={}}else{throw new Error('you have to provide a container for viz frame')}},_regDOMEventHandlers:function(){this._container.bind('click',O.proxy(this._handleDomEvent,this));this._container.bind('dblclick',O.proxy(this._handleDomEvent,this));this._container.bind('focusin',O.proxy(this._handleDomEvent,this));this._container.bind('focusout',O.proxy(this._handleDomEvent,this));this._container.bind('focus',O.proxy(this._handleDomEvent,this));this._container.bind('blur',O.proxy(this._handleDomEvent,this));this._container.bind('mousedown',O.proxy(this._handleDomEvent,this));this._container.bind('mouseup',O.proxy(this._handleDomEvent,this));this._container.bind('mouseenter',O.proxy(this._handleDomEvent,this));this._container.bind('mouseleave',O.proxy(this._handleDomEvent,this));this._container.bind('mousemove',O.proxy(this._handleDomEvent,this));this._container.bind('DOMNodeInsertedIntoDocument',O.proxy(this._registerDOMTouchHandler,this));this._container.bind('DOMNodeRemovedFromDocument',O.proxy(this._unregisterDOMTouchHandler,this))},_registerDOMTouchHandler:function(){this._container.bind('touchstart',O.proxy(this._handleDomEvent,this));this._container.bind('touchmove',O.proxy(this._handleDomEvent,this));this._container.bind('touchend',O.proxy(this._handleDomEvent,this));this._container.bind('touchcancel',O.proxy(this._handleDomEvent,this))},_unregisterDOMTouchHandler:function(){this._container.unbind('touchstart');this._container.unbind('touchmove');this._container.unbind('touchend');this._container.unbind('touchcancel')},_handleDomEvent:function(e){e.preventDefault();var h=g(e);switch(e.type){case'mousemove':if(h){var c=h.pagePosition();var l={x:e.pageX-c.x,y:e.pageY-c.y};if(this._msTracking.length){if(this._msTracking[this._msTracking.length-1]!==h){var d=[];var j=h;while(j){d.push(j);j=j.superComponent()}var k=0,m=false,n=a.min(this._msTracking.length,d.length);while(true){var o=undefined;if(!m&&this._msTracking[k]===d[d.length-1-k]){k++;m=k===n}else{while(this._msTracking.length>k){o=this._msTracking.pop();var p=new M('mouseleave',o,false,o.convertPointFromComp(l,h),{x:e.pageX,y:e.pageY});p._setRelatedTarget_(h);o._fireMouseEvent_(p)}while(k<d.length){var j=d.shift();o=this._msTracking[d.length-1];this._msTracking[d.length]=j;var p=new M('mouseenter',j,false,j.convertPointFromComp(l,h),{x:e.pageX,y:e.pageY});p._setRelatedTarget_(o);j._fireMouseEvent_(p)}break}}}}else{var j=h;do{this._msTracking.push(j);j._fireMouseEvent_(new M('mouseenter',j,false,l,{x:e.pageX,y:e.pageY}));j=j.superComponent()}while(j);this._msTracking.reverse()}h._fireMouseEvent_(new M('mousemove',h,true,l,{x:e.pageX,y:e.pageY}))}else{while(this._msTracking.length){var o=this._msTracking.pop();var q=this.pagePosition();o._fireMouseEvent_(new M('mouseleave',o,false,{x:e.pageX-q.x,y:e.pageY-q.y},{x:e.pageX,y:e.pageY}))}}break;case'mouseleave':while(this._msTracking.length){var o=this._msTracking.pop();var r=o.pagePosition();o._fireMouseEvent_(new M('mouseleave',o,false,{x:e.pageX-r.x,y:e.pageY-r.y},{x:e.pageX,y:e.pageY}))}break;case'mouseup':if(h){var c=h.pagePosition();h._fireMouseEvent_(new M('mouseup',h,true,{x:e.pageX-c.x,y:e.pageY-c.y},{x:e.pageX,y:e.pageY}))}break;case'mousedown':if(h){var c=h.pagePosition();h._fireMouseEvent_(new M('mousedown',h,true,{x:e.pageX-c.x,y:e.pageY-c.y},{x:e.pageX,y:e.pageY}))}break;case'dblclick':if(h){if(this._focusedComp){if(this._focusedComp.id()!==h.id()){this._focusedComp._fireEvent_(new E('blur',this._focusedComp,false));this._focusedComp._fireEvent_(new E('focusout',this._focusedLayer,true));this._focusedComp=h;this._focusedComp._fireEvent_(new E('focus',this._focusedComp,false));this._focusedComp._fireEvent_(new E('focusin',this._focusedComp,true))}}else{this._focusedComp=h;this._focusedComp._fireEvent_(new E('focus',this._focusedComp,false));this._focusedComp._fireEvent_(new E('focusin',this._focusedComp,true))}var c=h.pagePosition();this._focusedComp._fireMouseEvent_(new M('dblclick',this._focusedComp,true,{x:e.pageX-c.x,y:e.pageY-c.y},{x:e.pageX,y:e.pageY}))}else{if(this._focusedComp){this._focusedComp._fireEvent_(new E('blur',this._focusedLayer,false));this._focusedComp._fireEvent_(new E('focusout',this._focusedLayer,true));this._focusedComp=undefined}}break;case'click':if(h){if(this._focusedComp){if(this._focusedComp.id()!==h.id()){this._focusedComp._fireEvent_(new E('blur',this._focusedComp,false));this._focusedComp._fireEvent_(new E('focusout',this._focusedComp,true));this._focusedComp=h;this._focusedComp._fireEvent_(new E('focus',this._focusedComp,false));this._focusedComp._fireEvent_(new E('focusin',this._focusedComp,true))}}else{this._focusedComp=h;this._focusedComp._fireEvent_(new E('focus',this._focusedComp,false));this._focusedComp._fireEvent_(new E('focusin',this._focusedComp,true))}var c=h.pagePosition();this._focusedComp._fireMouseEvent_(new M('click',this._focusedComp,true,{x:e.pageX-c.x,y:e.pageY-c.y},{x:e.pageX,y:e.pageY}))}else{if(this._focusedComp){this._focusedComp._fireEvent_(new E('blur',this._focusedComp,false));this._focusedComp._fireEvent_(new E('focusout',this._focusedComp,true));this._focusedComp=undefined}}break;case'touchstart':for(var i=0,u,v=e.originalEvent.changedTouches,w=v.length;i<w;i++){u=v.item(i);this._touchSeqTracking[u.identifier]=false}this._handleGestureDetect(h,e.originalEvent);var x=T.buildFromDomTouchEvent('touchstart',h,e.originalEvent);h._fireTouchEvent_(x);break;case'touchmove':if(!this._handleGestureDetect(h,e.originalEvent)){var x=T.buildFromDomTouchEvent('touchmove',h,e.originalEvent);h._fireTouchEvent_(x)}break;case'touchend':this._handleGestureDetect(h,e.originalEvent);var y=[],z=[],A=[],B=[];for(var i=0,u,v=e.originalEvent.changedTouches,w=v.length;i<w;i++){u=v.item(i);this._touchSeqTracking[u.identifier]===true?z.push(u):y.push(u);delete this._touchSeqTracking[u.identifier]}if(y.length){for(var i=0,u,C=e.originalEvent.targetTouches,w=C.length;i<w;i++){u=C.item(i);B.push(u)}for(var i=0,u,H=e.originalEvent.touches,w=H.length;i<w;i++){u=H.item(i);A.push(u)}var I=T.buildFrom3TouchArray('touchcancel',h,A,z,B);h._fireTouchEvent_(I);var J=T.buildFrom3TouchArray('touchend',h,A,y,B);h._fireTouchEvent_(J)}else{var x=T.buildFromDomTouchEvent('touchcancel',h,e.originalEvent);h._fireTouchEvent_(x)}break;case'touchcancel':this._handleGestureDetect(h,e.originalEvent);for(var i=0,u,v=e.originalEvent.changedTouches,w=v.length;i<w;i++){u=v.item(i);delete this._touchSeqTracking[u.identifier]}var x=T.buildFromDomTouchEvent('touchcancel',h,e.originalEvent);h._fireTouchEvent_(x);break}},_handleGestureDetect:function(h,o){var c=[];var d=h;while(!d._gestureDetectors.length&&d._superComp){d=d._superComp}c=d._gestureDetectors;var e=false,j,n=false;for(var i=0,k,l,m=c.length;i<m;i++){l=c[i];switch(o.type){case'touchstart':l.touchBegin(o);break;case'touchmove':l.touchMove(o);break;case'touchend':l.touchEnd(o);break;case'touchcancel':l.touchCancel(o);break}k=l.state();j=(k===t.Began)||(k===t.Changed)||(k===t.Recognized);e=e||j;n=n||(j&&l.cancelTouches())}if(n){for(var i=0,p,q=o.changedTouches,m=q.length;i<m;i++){p=q.item(i);this._touchSeqTracking[p.identifier]=true}}return e},hidden:function(h){h?this._holder.hide():this._holder.show();if(h){this.markHide()}else{this.markShow()}}});return V});sap.riv.module({qname:'sap.viz.mvc.ImageManager',version:'4.0.0'},[{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.LinkedHashMap',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(O,L,F){var a=function(h){this._imgEl=h};a.prototype.getBitmap=function(){return this._imgEl};a.prototype.width=function(w){if(w!==undefined){this._imgEl.width=w;return this}return this._imgEl.width};a.prototype.height=function(h){if(h!==undefined){this._imgEl.height=h;return this}return this._imgEl.height};a.prototype.intrinsicHeight=function(){return this._imgEl.naturalHeight};a.prototype.intrinsicWidth=function(){return this._imgEl.naturalWidth};a.prototype.url=function(){return this._imgEl.src};var _=new L();var b=new L();var c={};var I={loadImage:function(i,u,o){if(i&&u){o=o||F.noop;if(b.has(i)){if(_.get(b.get(u))){o(true)}}var d=new Image();d.onabort=d.onerror=function(){o(false,{id:i,url:u})};d.onload=O.proxy(function(){var s=d.src;if(!_.has(s)){var e=new a(d);b.add(i,s);c[s]={ids:{id:i},length:1};_.add(s,e)}else{b.add(i,d.src);c[s].ids[i]=i;c[s].length++}o(true,{id:i,url:u})},this);d.src=u}},loadImages:function(u,o,d){o=o||F.noop;d=d||F.noop;var t=u.length;if(t==0){d(true)}else{var e=0;var f=function(g,h){e++;if(e<t){o(e/t,g,h)}else{d(true,h)}};for(var i=0,l=u.length;i<l;i++){I.loadImage(u[i].id,u[i].url,f)}}},hasImage:function(i){return b.has(i)},getImage:function(i){if(b.has(i)){return _.get(b.get(i))}},disposeImage:function(i){if(b.has(i)){var s=b.remove(i);delete c[s].ids[i];c[s].length--;if(c[s].length===0){delete c[s];_.remove(s)}}}};return I});sap.riv.module({qname:'sap.viz.mvc.VizApplication',version:'4.0.0'},[{qname:'sap.viz.base.Observable',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.mvc.ThemeManager',version:'4.0.0'},{qname:'sap.viz.mvc.ImageManager',version:'4.0.0'},{qname:'sap.viz.mvc.VizFrame',version:'4.0.0'},{qname:'sap.viz.mvc.UIComponent',version:'4.0.0'},{qname:'sap.viz.base.Logger',version:'4.0.0'}],function Setup(O,F,a,T,I,V,U,L){var b=0;function n(){return b++}var A=U.Autosizing;var $=jQuery;if(!$){F.error('Cannot find jQuery')}var c=function(o){var _=n();this._id=o.id?o.id+'_'+_:_;L.debug("Chart Application["+this._id+"] initializing.","perf");if(!o.delegateClass){F.error('You have to specify a delegate for visualization custom behavior.')}if(!o.wrapperDivEl){F.error('You have to specify a div element for holding the visualization.')}this._vizFrame=new V({container:o.wrapperDivEl});this._delegate=new o.delegateClass();var e=this._delegate.getPreloadAssets();I.loadImages(e,undefined,a.proxy(function(){this._delegate._afterLaunched(this,o.launchOption)},this));var f=this._vizFrame.subComponents().getIterator();while(f.hasMore()){L.debug("application["+this._id+"]"+"component["+f.nextValue().id()+"] initialized.","perf")}this._eventBridge=new O();this._addEvents(this._delegate.getSupportedEvents())};var d=c.prototype;d.id=function(){return this._id};d.size=function(s){if(s!==undefined){this._vizFrame.size(s);return this}else{return this._vizFrame.size()}};d.hidden=function(h){if(h!==undefined){if(this._vizFrame.hidden()!==h){this._vizFrame.hidden(h)}return this}else{return this._vizFrame.hidden()}};d.getSupportedEvent=function(){return this._eventBridge.getSupportedEvents()};d.addListener=function(e,l){this._eventBridge.addListeners({eventName:e,listener:l})};d.removeListener=function(e,l){this._eventBridge.removeListener(e,l)};d._addEvents=function(e){for(var i=0,l=e.length;i<l;i++){this._eventBridge.addEvents(e[i])}};d._fireEvent=function(){this._eventBridge.fireEvent.apply(this._eventBridge,arguments)};d.getPublicMethods=function(){return this._delegate.getSupportedMethods()};d.invokePublicMethod=function(p,o){this._delegate._invokePublicMethod(p,o)};d.applyTheme=function(t){this._delegate._applyTheme(t)};d.properties=function(p){if(p!==undefined){this._delegate.updateProperties(p)}return this._delegate.getProperties()};d.setDataset=function(e){if(e){this._delegate.setDataset(e)}};d.getDataset=function(){return this._delegate.getDataset()};d._setRootController=function(r){if(r){var e=r.rootUIComponent();e.frame(this._vizFrame.bounds());e.autoresizingMask(A.FlexibleWidth|A.FlexibleHeight);this._vizFrame.addSubComponent(e)}};return c});sap.riv.module({qname:'sap.viz.mvc.D3BasedComponent',version:'4.0.0'},[{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.mvc.UIComponent',version:'4.0.0'}],function Setup(O,F,U){if(!d3){F.error('D3 cannot be found')}var i=function(){var w=this.width();var h=this.height();this._d3Root=d3.select(this._container[0]).append('svg').attr('width',w).attr('height',h)};var D=O.derive(U,{constructor:function(o){i.call(this)},doContentResize:function(o,n){if(o.width!==n.width){this._d3Root.attr('width',n.width)}if(o.height!==n.height){this._d3Root.attr('height',n.height)}},getD3Root:function(){return this._d3Root}});return D});sap.riv.module({qname:'sap.viz.mvc.UIController',version:'4.0.0'},[{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.mvc.UIComponent',version:'4.0.0'},{qname:'sap.viz.mvc.ThemeManager',version:'4.0.0'}],function Setup(F,U,T){var c=function(o){this._defaultWidth=5;this._defaultHeight=5;this._app;this._uiComp;T.on({eventName:'themechanged',listener:this.doThemeChanged,scope:this})};var a=c.prototype;a.rootUIComponent=function(){if(!this._uiComp){this._uiComp=this.initUIComponent(this._defaultWidth,this._defaultHeight);this._uiComp.on({eventName:'beforeShow',listener:this._handleBeforeShow,scope:this});this._uiComp.on({eventName:'beforeHide',listener:this._handleBeforeHide,scope:this});this._uiComp.on({eventName:'afterShow',listener:this._handleAfterShow,scope:this});this._uiComp.on({eventName:'afterHide',listener:this._handleAfterHide,scope:this});this.afterUIComponentLoaded()}return this._uiComp};a._handleBeforeHide=function(h){this.beforeUIComponentDisappear()};a._handleBeforeShow=function(h){this.beforeUIComponentAppear()};a._handleAfterHide=function(h){this.afterUIComponentDisappear()};a._handleAfterShow=function(h){this.afterUIComponentAppear()};a._setApplication_=function(b){this._app=b};a.getApplication=function(){return this._app};a.fireAppEvent=function(e,b){this._app._fireEvent(e,b)};a.initUIComponent=function(i,b){return new U({size:{w:i,h:b}})};a.afterUIComponentLoaded=F.noop;a.beforeUIComponentAppear=F.noop;a.afterUIComponentAppear=F.noop;a.beforeUIComponentDisappear=F.noop;a.afterUIComponentDisappear=F.noop;a.doThemeApplied=F.noop;a.doThemeUpdated=F.noop;a.doThemeChanged=F.noop;return c});sap.riv.module({qname:'sap.viz.core',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.util.Objects',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.mvc.UIController',version:'4.0.0'},{qname:'sap.viz.mvc.D3BasedComponent',version:'4.0.0'},{qname:'sap.viz.mvc.VizApplication',version:'4.0.0'},{qname:'sap.viz.mvc.VizAppDelegate',version:'4.0.0'},{qname:'sap.viz.manifest',version:'4.0.0'},{qname:'sap.viz.modules.layout',version:'4.0.0'},{qname:'sap.viz.load',version:'4.0.0'},{qname:'sap.viz.modules.xycontainer',version:'4.0.0'},{qname:'sap.viz.mvc.ThemeManager',version:'4.0.0'},{qname:'sap.viz.data.feed.feeder',version:'4.0.0'},{qname:'sap.viz.data.handler.BaseDataHandler',version:'4.0.0'},{qname:'sap.viz.data.MultiAxesDataAdapter',version:'4.0.0'},{qname:'sap.viz.util.EffectManager',version:'4.0.0'},{qname:'sap.viz.TemplateManager',version:'4.0.0'},{qname:'sap.viz.lang.langManager',version:'4.0.0'},{qname:'sap.viz.config',version:'4.0.0'}],function Setup(T,O,a,F,U,D,V,b,c,l,d,e,f,g,B,M,E,h,n,C){function o(m){return c.module.get(m).execute()}function q(m,i){var j;if(m){var k=m.data;if(k){j=i.createDataAdapterForModule(k)}}return j}var r=O.derive(D,{constructor:function(i){this._config=i.config;this._data=i.data;this._inputProperties=i.options;this._canvas_rootThreshold=d3.select(document.createElement('div')),this._canvas_rootThreshold.append('svg');this._canvas_root=d3.select(document.createElement('canvas')).style('width',0).style('height',0);this._container.prepend(this._canvas_root.node());m_canvg_config=C.get(this._config.id)?C.get(this._config.id):{},this._max_svg=C.enableCanvg()&&m_canvg_config.max_svg?m_canvg_config.max_svg:Number.POSITIVE_INFINITY;if(this._data.dataPointCount()>this._max_svg){this._root=this._canvas_rootThreshold.select('svg');this._compoennt_status='canvg'}else{this._root=this.getD3Root();this._compoennt_status='svg'}this._modules={};this._subModuleNames=[];this._subControllers=[];this._effectManager=null;this._initialize();this._templateManagerListener={fn:this._templateChanged,scope:this};h.addListener(this._templateManagerListener);this._langManagerListener={fn:this._localeChanged,scope:this};n.addListener(this._langManagerListener)},_updateSubModules:function(p){for(var i=0,j=this._subModuleNames.length;i<j;i++){delete this._modules[this._subModuleNames[i]]}this._subModuleNames.length=0;if(p.modules){var k=p.modules();var t;for(var m in k){if(k.hasOwnProperty(m)){t='main.'+m;this._subModuleNames.push(t);this._modules[t]=k[m]}}}},_updateSubControllers:function(p){for(var i=0,j=this._subControllers.length;i<j;i++){this._modules[this._subControllers[i]].module(p)}},_resolveProperties:function(i,j){var p={},k,m,t;if(j){if(i){k=i.propertyCategory;m=this._properties;t={};t[k]=i.properties;a.extend(true,p,t,m)}else{p=this._properties}}else{if(i){k=i.propertyCategory;m=this._properties[k];t=i.properties;a.extend(true,p,t,m)}}return p},_updateProperties:function(i,j){var m=this._config.modules;var p,k;if(m[i]&&this._modules[i]){k=m[i].configure;p=this._resolveProperties(k,j);this._modules[i].properties(p)}},_initialize:function(){this._mergeTemplateProperties();this._effectManager=new E(this._root.append("svg:defs"),this._data.fakeData());var m=this._config.modules;var p,i;var j,k={};if(m.legend){k=q(m.legend,this._data);j=o(m.legend.id);nodeConfig=m.legend.configure;p=this._resolveProperties(nodeConfig);this._modules.legend=j.data(k).properties(p).effectManager(this._effectManager);this._root.append('g').attr('class','legend')}if(m.sizeLegend){k=q(m.sizeLegend,this._data);j=o(m.sizeLegend.id);nodeConfig=m.sizeLegend.configure;p=this._resolveProperties(nodeConfig);this._modules.sizeLegend=j.data(k).properties(p).effectManager(this._effectManager);this._root.append('g').attr('class','sizeLegend')}if(m.title){var t=o(m.title.id);nodeConfig=m.title.configure;p=this._resolveProperties(nodeConfig);this._modules.title=t.properties(p).effectManager(this._effectManager);this._root.append('g').attr('class','title')}if(m.main){var e=o(m.main.id);nodeConfig=m.main.configure;p=this._resolveProperties(nodeConfig,true);this._modules.main=e.data(this._data).config(m.main).properties(p).effectManager(this._effectManager);if(this._modules.main.dispatch&&this._modules.main.dispatch()['initialized']){var _=this;this._modules.main.dispatch().on('initialized.sap.core',function(){_._exportToCanvas.apply(_)})}this._root.append('g').attr('class','main');var v=this._modules.main.parent(this._root.select('.main'));this._updateSubModules(v);i=m.main.controllers;if(i){for(var w in i){if(i.hasOwnProperty(w)){var x=o(i[w].id);var y=i[w].configure;x().module(this._modules['main']);p={};propsCat=y.propertyCategory;usrProps=this._properties[propsCat];sysProps=y.properties;a.extend(true,p,sysProps,usrProps);x.properties(p);this._subControllers.push('main.'+w);this._modules['main.'+w]=x}}}}if(m.tooltip){var z=o(m.tooltip.id);nodeConfig=m.tooltip.configure;p=this._resolveProperties(nodeConfig);this._modules.tooltip=z(this._container[0]).properties(p).effectManager(this._effectManager)}},_doLayout:function(i,j){var v=8,p=20;if(i.width<p*10){p=i.width/10}if(i.height<p*10){p=i.height/10}var k={};if(this._modules.title){k.north={size:this._modules.title.getPreferredSize()}}var m={width:0,height:0,minWidth:0,maxSizeConstant:1},t={width:0,height:0,titleSize:{width:0,height:0}},w={width:0,height:0,titleSize:{width:0,height:0}};if(this._modules.legend){w=this._modules.legend.getPreferredSize(i);m.width=Math.max(m.width,w.width);m.height=Math.max(m.height,w.height);m.minWidth=Math.max(m.minWidth,w.minWidth);m.minHeight=w.minHeight;m.maxSizeConstant=Math.min(m.maxSizeConstant,w.maxSizeConstant)}k.east={size:m};if(this._modules.main){k.center={}}function x(){return l({type:'border',hgap:8,vgap:v,bias:'north',size:{width:i.width,height:i.height},padding:[p,p,p,p],prefs:k})}var y=x();if(j&&this._modules.sizeLegend&&this._modules.sizeLegend.isVisible()){if(y.center){this._modules.main.width(y.center.bounds.width).height(y.center.bounds.height);t=this._modules.sizeLegend.getPreferredSize(i,v+2*p,this._modules.main.infoForSizeLegend());var z=Math.max(t.width,w.width);m.width=z<i.width*1/3?z:i.width*1/3;m.height=t.height;m.minWidth=t.minWidth;m.minHeight=t.minHeight;y=x()}}if(y.north){this._root.select('.title').attr('visibility','visible').attr('transform','translate('+y.north.bounds.x+', '+y.north.bounds.y+')');this._modules.title.width(y.north.bounds.width).height(y.north.bounds.height)}else{this._root.select('.title').attr('visibility','hidden')}if(y.east){var G=y.east.bounds.height;var H=y.east.bounds.y;var I=0;var J=true;if(t.height+8+w.height>y.east.bounds.height){J=t.titleSize.height<t.height*1/3&&t.titleSize.height<y.east.bounds.height*1/3}if(this._modules.sizeLegend){this._modules.sizeLegend.hide(false);this._root.select('.sizeLegend').attr('transform','translate('+y.east.bounds.x+', '+H+')');I=t.height;if(!J){this._modules.sizeLegend.hideTitle();I-=t.titleSize.height}this._modules.sizeLegend.width(y.east.bounds.width).height(I);H=H+I+8}var K=true;if((I>0?I+8:0)+w.height>y.east.bounds.height){K=w.titleSize.height<(G-t.height)*0.3}if(this._modules.legend){this._modules.legend.hide(false);this._root.select('.legend').attr('transform','translate('+y.east.bounds.x+', '+H+')');if(!K){this._modules.legend.hideTitle()}this._modules.legend.width(y.east.bounds.width).height(G-t.height)}}else{if(this._modules.legend){this._modules.legend.hide(true)}if(this._modules.sizeLegend){this._modules.sizeLegend.hide(true)}}if(y.center){this._root.select('.main').attr('transform','translate('+y.center.bounds.x+', '+y.center.bounds.y+')');this._modules.main.width(y.center.bounds.width).height(y.center.bounds.height);if(this._modules.tooltip){this._modules.tooltip.plotArea(y.center.bounds).zone(i)}}},_updateAllProperties:function(){this._mergeTemplateProperties();this._updateProperties('legend');this._updateProperties('title');this._updateProperties('sizeLegend');this._updateProperties('tooltip');this._updateProperties('main',true)},_mergeTemplateProperties:function(){var t=h.current().props(this._config.id);this._properties=a.extend(true,null,t,this._inputProperties);if(C.enableCanvg()&&this._data.dataPointCount()>=this._max_svg){var i={};i['plotArea']={animation:{dataLoading:false,dataUpdating:false}};this._properties=a.extend(true,null,this._properties,i)}},_templateChanged:function(){this._updateAllProperties();this._relayout(this.size());this._paint()},_localeChanged:function(){var m=this._config.modules;var i=q(m.legend,this._data);if(i)this._modules.legend.data(i);i=q(m.sizeLegend,this._data);if(i)this._modules.sizeLegend.data(i);i=q(m.title,this._data);if(i)this._modules.title.data(i);this._modules.main.data(this._data);this._updateAllProperties();this._relayout(this.size());this._paint()},properties:function(_){if(!arguments.length)return this._inputProperties;this._inputProperties=_;this._updateAllProperties();this._relayout(this.size());this._paint()},data:function(_){if(!arguments.length)return this._data;this._data=_;this._effectManager.ghostEffect(this._data.fakeData());this._updateAllProperties();if(C.enableCanvg()&&this._data.dataPointCount()>=this._max_svg&&this._compoennt_status=='canvg'){}else if(C.enableCanvg()&&this._data.dataPointCount()>=this._max_svg&&this._compoennt_status=='svg'){this._root=this._d3Root;$(this._d3Root.node()).remove();this._d3Root=this._canvas_rootThreshold.select('svg');$(this._d3Root.node()).remove();if(this._canvas_rootThreshold.select('svg').node()==null){this._canvas_rootThreshold.node().appendChild(this._root.node())}else{$(this._root.node()).insertBefore(this._canvas_rootThreshold.select('svg').node())}if(d3.select(this._container.get(0)).select('svg').node()==null){this._container.get(0).appendChild(this._d3Root.node())}else{$(this._d3Root.node()).insertBefore(d3.select(this._container.get(0)).select('svg').node())}this._compoennt_status='canvg'}else if(C.enableCanvg()&&this._data.dataPointCount()<this._max_svg&&this._compoennt_status=='canvg'){this._canvas_root.node().getContext('2d').clearRect(0,0,this._canvas_root.node().width,this._canvas_root.node().height);this._canvas_root.style('width',0),this._canvas_root.style('height',0);this._canvas_root.attr('width',0),this._canvas_root.attr('height',0);this._d3Root=d3.select(this._container.get(0)).select('svg');this._root=this._canvas_rootThreshold.select('svg');this._root.remove();$(this._root.node()).insertBefore(this._d3Root.node());this._canvas_rootThreshold.insert("svg","svg").attr('width',this.size().width).attr('height',this.size().height);this._d3Root.remove();this._d3Root=this._root;this._compoennt_status='svg'}var m=this._config.modules;var i=q(m.legend,this._data);if(i)this._modules.legend.data(i);i=q(m.sizeLegend,this._data);if(i)this._modules.sizeLegend.data(i);i=q(m.title,this._data);if(i)this._modules.title.data(i);this._modules.main.data(this._data);this._updateSubModules(this._modules.main);this._updateSubControllers(this._modules.main);this._relayout(this.size());this._paint()},modules:function(){return this._modules},_relayout:function(i){this._doLayout(i);this._loadDependencies();this._doLayout(i,true)},doContentResize:function(i,j){this.callParent('doContentResize',i,j);this._relayout(j);this._paint()},themeChanged:function(){this._relayout(this.size());this._paint()},_expandDependencyDefs:function(k){var m=[];var p=k['sourceModule'];var t=k['targetModule'];var v=this._expandModulePath(p);var w=this._expandModulePath(t);if(v.length>1&&w.length>1){if(v.length!==w.length){F.error('Error on resolving dependency:'+p+','+t)}else{for(var i=0,x=v.length;i<x;i++){m.push({'sourceModule':v[i],'targetModule':w[i],'source':k['source'],'target':k['target'],'type':k['type'],'listener':k['listener']})}}}else{for(var i=0,x=v.length;i<x;i++){for(var j=0,y=w.length;j<y;j++){m.push({'sourceModule':v[i],'targetModule':w[j],'source':k['source'],'target':k['target'],'type':k['type'],'listener':k['listener']})}}}return m},_expandModulePath:function(p){var m=p.split('.');var t=[];var v=[];for(var i=0,w=m.length;i<w;i++){var j=0,x=t.length;do{var y=x>0?[t[j],m[i]].join('.'):m[i];if(T.isArray(this._modules[y])){for(var k=0,z=this._modules[y].length;k<z;k++){if(this._modules[y][k]){var G=x>0?[t[j],m[i]+'['+k+']'].join('.'):m[i]+'['+k+']';v.push(G)}}}else{v.push(y)}j++}while(j<x);var H=t;t=[].concat(v);v.length=0;H.length=0}return t},_expandModules:function(){var j=this._modules;var k=[];for(var p in j){if(j.hasOwnProperty(p)){var m=j[p];if(T.isArray(m)){for(var i=0;i<m.length;i++){k[p+'['+i+']']=m[i]}}else{k[p]=m}}}return k},_loadDependencies:function(){var k=this._config.dependencies,m,i;var p=k.attributes||[],t=k.events||[];var v,w;var x=this._expandModules();for(i=0;i<p.length;i++){m=p[i];if(m==null){continue}v=this._expandDependencyDefs(m);for(var j=0,y=v.length;j<y;j++){w=v[j];if(x[w['sourceModule']]&&x[w['targetModule']]){if(typeof x[w['sourceModule']][w['source']]==='function'&&typeof x[w['targetModule']][w['target']]==='function'){x[w['targetModule']][w['target']](x[w['sourceModule']][w['source']]())}else{F.error('dependency configuration error')}}else{F.error('dependency configuration error')}}}for(i=0;i<t.length;i++){m=t[i];v=this._expandDependencyDefs(m);for(var j=0,y=v.length;j<y;j++){w=v[j];if(x[w['targetModule']]&&x[w['sourceModule']]){if(typeof x[w['targetModule']][w['listener']]==='function'&&typeof x[w['sourceModule']]==='function'){if(typeof x[w['sourceModule']].dispatch==='function'){x[w['sourceModule']].dispatch().on(w['type']+'.'+w['targetModule']+'.'+j,x[w['targetModule']][w['listener']])}else{F.error('dependency configuration error:'+w['sourceModule']+' does not support event!')}}else{F.error('dependency configuration error')}}else{F.error('dependency configuration error: source or target does not exist!')}}}},_paint:function(){if(this._modules.title){this._root.select('.title').call(this._modules.title)}if(this._modules.legend){this._root.select('.legend').datum(this._modules.legend.data()).call(this._modules.legend)}if(this._modules.sizeLegend){this._root.select('.sizeLegend').datum(this._modules.sizeLegend.data()).call(this._modules.sizeLegend)}if(this._modules.main){this._root.select('.main').datum(this._modules.main.data()).call(this._modules.main)}},_exportToCanvas:function(){if(C.enableCanvg()&&this._compoennt_status=='canvg'){this._root.attr('height',this.size().height);this._root.attr('width',this.size().width);this._d3Root.attr('height',0);this._d3Root.attr('width',0);this._canvas_rootThreshold.selectAll('title').remove();if(canvg){canvg(this._canvas_root.node(),this._canvas_rootThreshold.html(),{ignoreMouse:true,ignoreAnimation:true})}}},getSupportedEvents:function(){var i=[];var j=this._config.modules;function k(j){for(var m in j){if(j.hasOwnProperty(m)){if(!j[m])continue;var p=c.module.get(j[m].id);if(p&&p.events){i.push({sourceId:j[m].id,source:{},evtTypes:p.events})}if(j[m].modules)k(j[m].modules)}}}k(j);return i},destroy:function(){h.removeListener(this._templateManagerListener);n.removeListener(this._langManagerListener);this.removeFromSuperComponent()}});var s=O.derive(U,{constructor:function(i){this._parseOptions(i)},_parseOptions:function(i){if(!c.viz.get(i.vizType))F.error('Invalid vizType');this._dataset=i.dataset?i.dataset:{};this._options=i.option;this._vizType=i.vizType;this._dataFeeding=i.feeding},initUIComponent:function(w,i){var j=c.viz.get(this._vizType);this._cc_component=new r({id:'rootComponent',data:this._dataset,dataFeeding:this._dataFeeding,config:j,options:this._options,clipToBound:false,size:{w:w,h:i}});return this._cc_component},getSupportedEvents:function(){return this._cc_component.getSupportedEvents()},setDataset:function(i){this._cc_component.data(i)},doThemeChanged:function(){this._cc_component.themeChanged()},updateProperties:function(p){this._cc_component.properties(p)},getProperties:function(){return this._cc_component.properties()},destroy:function(){this._cc_component.destroy()}});var A=O.derive(b,{appDidFinishLaunching:function(i,j){this._vc_vizType=j.vizType;this._vc_dataset=j.data.rawData;this._vc_feeding=j.feeding;this._vc_properties=j.options;var k=this._vc_dataset.getDataPointCount();var v=C.get(this._vc_vizType)?C.get(this._vc_vizType):{};this.max_canvas=C.enableCanvg()&&v.max_canvas?v.max_canvas:Number.POSITIVE_INFINITY;var m=this._vc_createAdapter(this._vc_vizType,this._vc_dataset,this._vc_feeding,this.max_canvas);this._controller=new s({vizType:this._vc_vizType,dataset:m,option:j.options});this.registerPublicMethod('update',this._vc_update);this.registerPublicMethod('destroy',this._vc_destroy)},_vc_createAdapter:function(v,j,k,m){var p=g(c.viz.get(v).allFeeds(),j,k);var t=new B(p,j,m);var w=p.getFeeds();var x=new M(p.getBindingInfo());x.fakeData(j.hasFakeData());x.dataPointCount(j.getDataPointCount());var y,z;for(var i=0,G=w.length;i<G;i++){y=w[i].feedId();z=t.getFeedValues(y);if(z!=null){if(w[i].type()=="Dimension"){x.addAnalysisAxis({values:z,index:w[i].getIndex()-1})}else{x.addMeasureValuesGroup({values:z,index:w[i].getIndex()-1})}}}return x},_vc_update:function(i){if(i){if(i.properties){if(this._controller){this._vc_properties=i.properties;this._controller.updateProperties(this._vc_properties)}}if(i.data||i.feeding){if(i.data)this._vc_dataset=i.data;if(i.feeding)this._vc_feeding=i.feeding;var j=this._vc_createAdapter(this._vc_vizType,this._vc_dataset,this._vc_feeding,this.max_canvas);this._controller.setDataset(j)}}},rootController:function(){return this._controller},getSupportedEvents:function(){return this._controller.getSupportedEvents()},setDataset:function(i){this._vc_dataset=i;var j=this._vc_createAdapter(this._vc_vizType,this._vc_dataset,this._vc_feeding);this._controller.setDataset(j)},getDataset:function(){return this._vc_dataset},updateProperties:function(p){if(this._controller){this._vc_properties=p;this._controller.updateProperties(this._vc_properties)}},getProperties:function(){return this._controller.getProperties()},_vc_destroy:function(){this._controller.destroy()}});var u={constructor:function(){},instances:[],createViz:function(j){var _={};var k=j.feeding;var v={constructor:function(){},on:function(p,w){var x=v.app.getDelegate().rootController().rootUIComponent().modules(),y,z={};_[p]=w;var i=p.indexOf(".");var G=i>0?p.substring(0,i):p;for(var m in x){if(x.hasOwnProperty(m)){var H=m.split('.'),I=H.length-1;if(x[m].dispatch&&x[m].dispatch()[G]){for(var t=0;t<=I;t++){if(z[t]&&z[t][H.slice(0,t).toString()]){break}}if(t>I){if(!z[H.length]){z[H.length]={}}z[H.length][H.toString()]=x[m];x[m].dispatch().on(p,w)}}}}return v},size:function(i){if(!arguments.length)return v.app.size();v.app.size(i);return v},data:function(i){if(!arguments.length)return v.app.getDataset();v.update({data:i});for(var m in _){if(_.hasOwnProperty(m)){v.on(m,_[m])}}return v},properties:function(p){if(!arguments.length)return v.app.properties();v.update({properties:p});return v},feeding:function(i){if(!arguments.length)return k;k=i;v.update({feeding:i});return v},update:function(i){if(i){if(T.isDefined(i.feeding)){k=i.feeding}v.app.invokePublicMethod('update',i)}return v},destroy:function(){u.instances.splice(u.instances.indexOf(this),1);v.app.invokePublicMethod('destroy')}};v.app=new V({wrapperDivEl:j.container,delegateClass:A,launchOption:{vizType:j.type,options:j.options||{},data:{rawData:j.data},feeding:j.feeding||j.dataFeeding}});v.app.getDelegate=function(){return this._delegate};u.instances.push(v);return v},destroyViz:function(){for(var i=-1,j=arguments.length;++i<j;)arguments[i].destroy()}};return u});sap.riv.module({qname:'sap.viz.data.description.MeasureValues',version:'4.0.0',exported:true},[{qname:'sap.viz.base.utils.ObjectUtils',version:'4.0.0'},{qname:'sap.viz.data.description.DataContainer',version:'4.0.0'}],function Setup(O,D){var M=O.derive(D,{constructor:function(u,v){this._values=v},getValues:function(){return this._values}});return M});sap.riv.module({qname:'sap.viz.data.description.MeasureValuesGroup',version:'4.0.0',exported:true},[{qname:'sap.viz.data.description.MeasureValues',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'}],function Setup(M,F){var a=function(d){this._measureValues=new Array();this.init(d)};a.prototype.init=function(d){for(var i=0;i<d.length;i++){this._measureValues[i]=new M(d[i]["name"],d[i]["values"]);this._measureValues[i].fake(d[i]["isFake"]?d[i]["isFake"]:false);this._measureValues[i].infos(d[i]["infos"]?d[i]["infos"]:null)}};a.prototype.getMeasureValues=function(){return this._measureValues};a.prototype.getType=function(){return"measureValuesGroup"};a.prototype.validate=function(l){if(!arguments.length){var b=[1,1];var m=this.getMeasureValues();for(var i=0;i<m.length;i++){value=m[i].getValues();if(i==0){if(value.length!=b[1])F.error(m[i].getId()+" wrong values count in aa2. should be "+b[1]);b[0]=value[0].length}else{if(value.length!=b[1])F.error(m[i].getId()+" wrong values count in aa2. should be "+b[1]);for(var j=0;j<value.length;j++){if(value[j].length!=b[0])F.error(m[i].getId()+" wrong values count in aa1. should be "+b[0])}}}return b}else{var m=this.getMeasureValues();for(var i=0;i<m.length;i++){value=m[i].getValues();if(value.length!=l[1])F.error(m[i].getId()+" wrong values count in aa2. should be "+l[1]);for(var j=0;j<value.length;j++){if(value[j].length!=l[0])F.error(m[i].getId()+" wrong values count in aa1. should be "+l[0])}}}};a.prototype.hasFakeData=function(){var m=this.getMeasureValues();for(var i=0;i<m.length;i++){if(m[i].fake())return true}return false};return a});sap.riv.module({qname:'sap.viz.data.CrosstableDataset',version:'4.0.0',exported:true},[{qname:'sap.viz.data.feed.feeder',version:'4.0.0'},{qname:'sap.viz.base.utils.TypeUtils',version:'4.0.0'},{qname:'sap.viz.base.utils.FunctionUtils',version:'4.0.0'},{qname:'sap.viz.data.description.AnalysisAxis',version:'4.0.0'},{qname:'sap.viz.data.description.MeasureValuesGroup',version:'4.0.0'}],function Setup(F,T,a,A,M){var b='type';var N='name';var V='values';var c='feedId';var d='MeasureNamesDimension';var e="analysisAxis";var f="measureValuesGroup";function g(m){var v=m.getValues();return v.length>0?v.length*v[0].length:0}function h(){this._analysisAxis=[];this._measureValuesGroup=[];this._dataSet={}}h.prototype.data=function(i){if(!arguments.length){return this._dataSet}this._analysisAxis=[];this._measureValuesGroup=[];this._dataSet=i;this.init(this._dataSet);return this};h.prototype.setData=function(i){this.data(i)};h.prototype.init=function(j){if(!j||!j[f]||(j[e]&&!j[f])){return}var k=[1,1];var l=j[e];var i=0;var m,n,o;if(l){if(l.length>2){a.error("could not accept more than 2 axes")}for(;i<l.length;i++){var p=l[i];var q=p["index"];if(q!==1&&q!==2){a.error("Axis index should be 1 or 2")}if(this._analysisAxis[q-1]){a.error("Axis "+q+" already exists")}var r=new A(p["data"]);k[q-1]=r.validate();this._analysisAxis[q-1]=r}m=j[f];for(i=0;i<m.length;i++){n=m[i];var s=n["index"];if(this._measureValuesGroup[s-1]){a.error("MeausreValuesGroup "+s+" already exists")}o=new M(n["data"]);o.validate(k);this._measureValuesGroup[s-1]=o}}else{m=j[f];for(i=0;i<m.length;i++){n=m[i];o=new M(n["data"]);if(i===0){k=o.validate()}else{o.validate(k)}this._measureValuesGroup[n["index"]-1]=o}}};h.prototype.getAnalysisAxisCount=function(){return this._analysisAxis.length};h.prototype.getAnalysisAxisByIdx=function(i){return this._analysisAxis[i]};h.prototype.getMeasureValuesGroupCount=function(){return this._measureValuesGroup.length};h.prototype.getMeasureValuesGroupByIdx=function(i){return this._measureValuesGroup[i]};h.prototype.hasFakeData=function(){for(var i=0;i<this._measureValuesGroup.length;i++){if(this._measureValuesGroup[i].hasFakeData()){return true}}for(i=0;i<this._analysisAxis.length;i++){if(this._analysisAxis[i].hasFakeData()){return true}}return false};h.prototype.getDataPointCount=function(){var j=0;var m=g(this._measureValuesGroup[0].getMeasureValues()[0]);for(var i=0;i<this._measureValuesGroup.length;i++){j+=m*this._measureValuesGroup[i].getMeasureValues().length}return j};return h});sap.viz.lang.langManager.register({id:'dev',value:{IDS_DEFAULTMND:'All Measures',IDS_DEFAULTCHARTTITLE:'Title of Chart',IDS_ISNOVALUE:'No value',IDS_BARCHART:'Bar Chart',IDS_COMBINATIONCHART:'Combined Column Line Chart',IDS_DUALBARCHART:'Bar Chart with 2 X-Axes',IDS_DUALCOMBINATIONCHART:'Combined Column Line Chart with 2 Y-Axes',IDS_DUALHORIZONTALCOMBINATIONCHART:'Combined Bar Line Chart with 2 X-Axes',IDS_DUALHORIZONTALLINECHART:'Horizontal Line Chart with 2 X-Axes',IDS_DIUALLINECHART:'Line Chart with 2 Y-Axes',IDS_DUALPERCENTAGESTACKEDBARCHART:'100% Stacked Bar Chart with 2 X-Axes',IDS_DUALSTACKEDVERTICALBARCHART:'Stacked Column Chart with 2 Y-Axes',IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART:'100% Stacked Column Chart with 2 Y-Axes',IDS_DUALSTACKEDBARCHART:'Stacked Bar Chart with 2 X-Axes',IDS_DUALVERTICALBARCHART:'Column Chart with 2 Y-Axes',IDS_HORIZONTALBOXPLOTCHART:'Horizontal Box Plot',IDS_HORIZONTALCOMBINATIONCHART:'Combined Bar Line Chart',IDS_HORIZONTALLINECHART:'Horizontal Line Chart',IDS_HORIZONTALWATERFALLCHART:'Horizontal Waterfall Chart',IDS_LINECHART:'Line Chart',IDS_PERCENTAGESTACKEDBARCHART:'100% Stacked Bar Chart',IDS_PERCENTAGESTACKEDVERTICALBARCHART:'100% Stacked Column Chart',IDS_SPARKLINECHART:'Spark Line Chart (POC)',IDS_STACKEDBARCHART:'Stacked Bar Chart',IDS_STACKEDVERTICALBARCHART:'Stacked Column Chart',IDS_VARIANTBARCHART:'Variant Bar Chart (POC)',IDS_VERTICALBARCHART:'Column Chart',IDS_VERTICALBOXPLOTCHART:'Box Plot',IDS_WATERFALLCHART:'Waterfall Chart',IDS_DONUTCHART:'Donut Chart',IDS_PIECHART:'Pie Chart',IDS_BASEBUBBLECHART:'Base Scatter Chart',IDS_BUBBLECHART:'Bubble Chart',IDS_SCATTERCHART:'Scatter Plot',IDS_BASECHART:'Base Chart',IDS_BASEHORIZONTALCHART:'Base horizontal XY Chart',IDS_BASEVERTICALCHART:'Base Vertical XY Chart',IDS_BASEMULTIPLECHART:'Base Multiple Chart',IDS_BASEMULTIPLEXYCHART:'Base Multiple XY Chart',IDS_BASESINGLECHART:'Base Single Chart',IDS_HEATMAPCHART:'Heat Map',IDS_MULTIBARCHART:'Multiple Bar Chart',IDS_MULTIBUBBLECHART:'Multiple Bubble Chart',IDS_MULTIDONUTCHART:'Multiple Donut Chart',IDS_MULTIDUALBARCHART:'Multiple Bar Chart with 2 X-Axes',IDS_MULTIDUALHORIZONTALLINECHART:'Multiple Horizontal Line Chart with 2 X-Axes',IDS_MULTIDUALLINECHART:'Multiple Line Chart with 2 Y-Axes',IDS_MULTIDUALPERCENTAGESTACKEDBARCHART:'Multiple 100% Stacked Bar Chart with 2 X-Axes',IDS_MULTIDUALPERCENTAGESTACKEDVERTICALBARCHART:'Multiple 100% Stacked Column Chart with 2 Y-Axes',IDS_MULTIDUALSTACKEDBARCHART:'Multiple Stacked Bar Chart with 2 X-Axes',IDS_MULTIDUALSTACKEDVERTICALBARCHART:'Multiple Stacked Column Chart with 2 Y-Axes',IDS_MULTIDUALVERTICALBARCHART:'Multiple Column Chart with 2 Y-Axes',IDS_MULTIHORIZONTALLINECHART:'Multiple Horizontal Line Chart',IDS_MULTILINECHART:'Multiple Line Chart',IDS_MULTIPERCENTAGESTACKEDBARCHART:'Multiple 100% Stacked Bar Chart',IDS_MULTIPERCENTAGESTACKEDVERTICALBARCHART:'Multiple 100% Stacked Column Chart',IDS_MULTIPIECHART:'Multiple Pie Chart',IDS_MULTISCATTERCHART:'Multiple Scatter Plot',IDS_MULTISTACKEDBARCHART:'Multiple Stacked Bar Chart',IDS_MULTISTACKEDVERTICALBARCHART:'Multiple Stacked Column Chart',IDS_MULTIVERTICALBARCHART:'Multiple Column Chart',IDS_MULTIRADARCHART:'Multiple Radar Chart',IDS_RADARCHART:'Radar Chart',IDS_SCATTERMATRIXCHART:'Scatter Matrix Chart',IDS_TAGCLOUDCHART:'Tag Cloud',IDS_TREEMAPCHART:'Tree Map (POC)',IDS_REGIONCOLOR:'Region Color',IDS_PRIMARYVALUES:'Primary Values',IDS_SECONDARYVALUES:'Secondary Values',IDS_AXISLABELS:'Axis Labels',IDS_RECTANGLETITLE:'Rectangle Title',IDS_RECTANGLEWEIGHT:'Rectangle Weight',IDS_RECTANGLECOLOR:'Rectangle Color',IDS_TAGNAME:'Tag Name',IDS_TAGWEIGHT:'Tags Weight',IDS_TAGFAMILY:'Tags Family',IDS_CATEGORYAXIS:'Axis Labels Category',IDS_REGIONSHAPE:'Region Shape',IDS_BUBBLEWIDTH:'Bubble Width',IDS_BUBBLEHEIGHT:'Bubble Height',IDS_RADARAXES:'Radar Axes',IDS_RADARAXESVALUE:'Radar Axes Values',IDS_PIESECTORCOLORNAME:'Sector Color',IDS_PIESECTORSIZE:'Sector Size',IDS_MAINLABELAXISNAME:'Main Category Axis',IDS_SECONDARYAXISLABELNAME:'Secondary Category Axis',IDS_SELECTABILITY:'selectability',IDS_PRIMARYVALUECOLORPALETTE:'primaryValuesColorPalette',IDS_SECONDARYVALUESCOLORPALETTE:'secondaryValuesColorPalette',IDS_DRAWINGEFFECT:'drawingEffect',IDS_TOOLTIPVISIBLE:'tooltipVisible',IDS_ENABLEROUNDCORNER:'enableRoundCorner',IDS_ANIMATION:'animation',IDS_DATALOADING:'dataLoading',IDS_DATAUPDATING:'dataUpdating',IDS_BAR:'bar',IDS_LINE:'line',IDS_WIDTH:'width',IDS_HOVERLINEVISIBLE:'hoverlineVisible',IDS_MARKER:'marker',IDS_VISIBLE:'visible',IDS_SHAPE:'shape',IDS_SIZE:'size',IDS_HEADERVISIBLE:'headerVisible',IDS_AXISVISIBLE:'axisVisible',IDS_GRIDVISIBLE:'gridVisible',IDS_COLUMNSEQUENCE:'columnSequence',IDS_COLUMNCONFIG:'columnConfig',IDS_STARTCOLUMN:'startColumn',IDS_LABEL:'label',IDS_VALUEFORMAT:'valueFormat',IDS_ENDCOLUMN:'endColumn',IDS_HIGHCOLUMN:'highColumn',IDS_LOWCOLUMN:'lowColumn',IDS_LINECONFIG:'lineConfig',IDS_MARKERS:'markers',IDS_FILLVISIBLE:'fillVisible',IDS_REFINEVISIBLE:'reflineVisible',IDS_MODE:'mode',IDS_TITLE:'title',IDS_TEXT:'text',IDS_GRIDLINE:'gridline',IDS_SHOWFIRSTLINE:'showFirstLine',IDS_TYPE:'type',IDS_FORMAT:'format',IDS_POSITION:'position',IDS_BORDER:'border',IDS_STARTCOLOR:'startcolor',IDS_ENDCOLOR:'endcolor',}});
